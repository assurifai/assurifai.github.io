var iF=Object.defineProperty;var K_=n=>{throw TypeError(n)};var sF=(n,e,t)=>e in n?iF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $e=(n,e,t)=>sF(n,typeof e!="symbol"?e+"":e,t),Sb=(n,e,t)=>e.has(n)||K_("Cannot "+t);var m=(n,e,t)=>(Sb(n,e,"read from private field"),t?t.call(n):e.get(n)),D=(n,e,t)=>e.has(n)?K_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),k=(n,e,t,r)=>(Sb(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),T=(n,e,t)=>(Sb(n,e,"access private method"),t);var Xn=(n,e,t,r)=>({set _(i){k(n,e,i,t)},get _(){return m(n,e,r)}});function oF(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Dp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eb={exports:{}},dh={},Cb={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function aF(){if(Y_)return Je;Y_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(j,J,F){this.props=j,this.context=J,this.refs=b,this.updater=F||y}E.prototype.isReactComponent={},E.prototype.setState=function(j,J){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,J,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function S(){}S.prototype=E.prototype;function A(j,J,F){this.props=j,this.context=J,this.refs=b,this.updater=F||y}var R=A.prototype=new S;R.constructor=A,w(R,E.prototype),R.isPureReactComponent=!0;var I=Array.isArray,N=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function V(j,J,F){var ve,Re={},pe=null,ye=null;if(J!=null)for(ve in J.ref!==void 0&&(ye=J.ref),J.key!==void 0&&(pe=""+J.key),J)N.call(J,ve)&&!z.hasOwnProperty(ve)&&(Re[ve]=J[ve]);var Te=arguments.length-2;if(Te===1)Re.children=F;else if(1<Te){for(var De=Array(Te),Oe=0;Oe<Te;Oe++)De[Oe]=arguments[Oe+2];Re.children=De}if(j&&j.defaultProps)for(ve in Te=j.defaultProps,Te)Re[ve]===void 0&&(Re[ve]=Te[ve]);return{$$typeof:n,type:j,key:pe,ref:ye,props:Re,_owner:L.current}}function X(j,J){return{$$typeof:n,type:j.type,key:J,ref:j.ref,props:j.props,_owner:j._owner}}function Q(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function W(j){var J={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return J[F]})}var ne=/\/+/g;function ee(j,J){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):J.toString(36)}function K(j,J,F,ve,Re){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(pe){case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case n:case e:ye=!0}}if(ye)return ye=j,Re=Re(ye),j=ve===""?"."+ee(ye,0):ve,I(Re)?(F="",j!=null&&(F=j.replace(ne,"$&/")+"/"),K(Re,J,F,"",function(Oe){return Oe})):Re!=null&&(Q(Re)&&(Re=X(Re,F+(!Re.key||ye&&ye.key===Re.key?"":(""+Re.key).replace(ne,"$&/")+"/")+j)),J.push(Re)),1;if(ye=0,ve=ve===""?".":ve+":",I(j))for(var Te=0;Te<j.length;Te++){pe=j[Te];var De=ve+ee(pe,Te);ye+=K(pe,J,F,De,Re)}else if(De=g(j),typeof De=="function")for(j=De.call(j),Te=0;!(pe=j.next()).done;)pe=pe.value,De=ve+ee(pe,Te++),ye+=K(pe,J,F,De,Re);else if(pe==="object")throw J=String(j),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ye}function re(j,J,F){if(j==null)return j;var ve=[],Re=0;return K(j,ve,"","",function(pe){return J.call(F,pe,Re++)}),ve}function ce(j){if(j._status===-1){var J=j._result;J=J(),J.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=J)}if(j._status===1)return j._result.default;throw j._result}var ie={current:null},U={transition:null},fe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:U,ReactCurrentOwner:L};function M(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:re,forEach:function(j,J,F){re(j,function(){J.apply(this,arguments)},F)},count:function(j){var J=0;return re(j,function(){J++}),J},toArray:function(j){return re(j,function(J){return J})||[]},only:function(j){if(!Q(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Je.Component=E,Je.Fragment=t,Je.Profiler=i,Je.PureComponent=A,Je.StrictMode=r,Je.Suspense=c,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Je.act=M,Je.cloneElement=function(j,J,F){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ve=w({},j.props),Re=j.key,pe=j.ref,ye=j._owner;if(J!=null){if(J.ref!==void 0&&(pe=J.ref,ye=L.current),J.key!==void 0&&(Re=""+J.key),j.type&&j.type.defaultProps)var Te=j.type.defaultProps;for(De in J)N.call(J,De)&&!z.hasOwnProperty(De)&&(ve[De]=J[De]===void 0&&Te!==void 0?Te[De]:J[De])}var De=arguments.length-2;if(De===1)ve.children=F;else if(1<De){Te=Array(De);for(var Oe=0;Oe<De;Oe++)Te[Oe]=arguments[Oe+2];ve.children=Te}return{$$typeof:n,type:j.type,key:Re,ref:pe,props:ve,_owner:ye}},Je.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:s,_context:j},j.Consumer=j},Je.createElement=V,Je.createFactory=function(j){var J=V.bind(null,j);return J.type=j,J},Je.createRef=function(){return{current:null}},Je.forwardRef=function(j){return{$$typeof:l,render:j}},Je.isValidElement=Q,Je.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:ce}},Je.memo=function(j,J){return{$$typeof:d,type:j,compare:J===void 0?null:J}},Je.startTransition=function(j){var J=U.transition;U.transition={};try{j()}finally{U.transition=J}},Je.unstable_act=M,Je.useCallback=function(j,J){return ie.current.useCallback(j,J)},Je.useContext=function(j){return ie.current.useContext(j)},Je.useDebugValue=function(){},Je.useDeferredValue=function(j){return ie.current.useDeferredValue(j)},Je.useEffect=function(j,J){return ie.current.useEffect(j,J)},Je.useId=function(){return ie.current.useId()},Je.useImperativeHandle=function(j,J,F){return ie.current.useImperativeHandle(j,J,F)},Je.useInsertionEffect=function(j,J){return ie.current.useInsertionEffect(j,J)},Je.useLayoutEffect=function(j,J){return ie.current.useLayoutEffect(j,J)},Je.useMemo=function(j,J){return ie.current.useMemo(j,J)},Je.useReducer=function(j,J,F){return ie.current.useReducer(j,J,F)},Je.useRef=function(j){return ie.current.useRef(j)},Je.useState=function(j){return ie.current.useState(j)},Je.useSyncExternalStore=function(j,J,F){return ie.current.useSyncExternalStore(j,J,F)},Je.useTransition=function(){return ie.current.useTransition()},Je.version="18.3.1",Je}var Q_;function Qy(){return Q_||(Q_=1,Cb.exports=aF()),Cb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function lF(){if(J_)return dh;J_=1;var n=Qy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,p={},g=null,y=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:g,ref:y,props:p,_owner:i.current}}return dh.Fragment=t,dh.jsx=o,dh.jsxs=o,dh}var Z_;function uF(){return Z_||(Z_=1,Eb.exports=lF()),Eb.exports}var O=uF(),_=Qy();const _t=Dp(_),cF=oF({__proto__:null,default:_t},[_]);var nm={},Ab={exports:{}},lr={},_b={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR;function dF(){return eR||(eR=1,function(n){function e(U,fe){var M=U.length;U.push(fe);e:for(;0<M;){var j=M-1>>>1,J=U[j];if(0<i(J,fe))U[j]=fe,U[M]=J,M=j;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var fe=U[0],M=U.pop();if(M!==fe){U[0]=M;e:for(var j=0,J=U.length,F=J>>>1;j<F;){var ve=2*(j+1)-1,Re=U[ve],pe=ve+1,ye=U[pe];if(0>i(Re,M))pe<J&&0>i(ye,Re)?(U[j]=ye,U[pe]=M,j=pe):(U[j]=Re,U[ve]=M,j=ve);else if(pe<J&&0>i(ye,M))U[j]=ye,U[pe]=M,j=pe;else break e}}return fe}function i(U,fe){var M=U.sortIndex-fe.sortIndex;return M!==0?M:U.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,p=null,g=3,y=!1,w=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(U){for(var fe=t(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=U)r(d),fe.sortIndex=fe.expirationTime,e(c,fe);else break;fe=t(d)}}function I(U){if(b=!1,R(U),!w)if(t(c)!==null)w=!0,ce(N);else{var fe=t(d);fe!==null&&ie(I,fe.startTime-U)}}function N(U,fe){w=!1,b&&(b=!1,S(V),V=-1),y=!0;var M=g;try{for(R(fe),p=t(c);p!==null&&(!(p.expirationTime>fe)||U&&!W());){var j=p.callback;if(typeof j=="function"){p.callback=null,g=p.priorityLevel;var J=j(p.expirationTime<=fe);fe=n.unstable_now(),typeof J=="function"?p.callback=J:p===t(c)&&r(c),R(fe)}else r(c);p=t(c)}if(p!==null)var F=!0;else{var ve=t(d);ve!==null&&ie(I,ve.startTime-fe),F=!1}return F}finally{p=null,g=M,y=!1}}var L=!1,z=null,V=-1,X=5,Q=-1;function W(){return!(n.unstable_now()-Q<X)}function ne(){if(z!==null){var U=n.unstable_now();Q=U;var fe=!0;try{fe=z(!0,U)}finally{fe?ee():(L=!1,z=null)}}else L=!1}var ee;if(typeof A=="function")ee=function(){A(ne)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=ne,ee=function(){re.postMessage(null)}}else ee=function(){E(ne,0)};function ce(U){z=U,L||(L=!0,ee())}function ie(U,fe){V=E(function(){U(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){w||y||(w=!0,ce(N))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(U){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var M=g;g=fe;try{return U()}finally{g=M}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,fe){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var M=g;g=U;try{return fe()}finally{g=M}},n.unstable_scheduleCallback=function(U,fe,M){var j=n.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?j+M:j):M=j,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,U={id:h++,callback:fe,priorityLevel:U,startTime:M,expirationTime:J,sortIndex:-1},M>j?(U.sortIndex=M,e(d,U),t(c)===null&&U===t(d)&&(b?(S(V),V=-1):b=!0,ie(I,M-j))):(U.sortIndex=J,e(c,U),w||y||(w=!0,ce(N))),U},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(U){var fe=g;return function(){var M=g;g=fe;try{return U.apply(this,arguments)}finally{g=M}}}}(Rb)),Rb}var tR;function hF(){return tR||(tR=1,_b.exports=dF()),_b.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function fF(){if(nR)return lr;nR=1;var n=Qy(),e=hF();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(a){return c.call(p,a)?!0:c.call(h,a)?!1:d.test(a)?p[a]=!0:(h[a]=!0,!1)}function y(a,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,f,v){if(u===null||typeof u>"u"||y(a,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(a,u,f,v,x,C,P){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=u,this.sanitizeURL=C,this.removeEmptyString=P}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];E[u]=new b(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(S,A);E[u]=new b(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(S,A);E[u]=new b(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(S,A);E[u]=new b(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,u,f,v){var x=E.hasOwnProperty(u)?E[u]:null;(x!==null?x.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,f,x,v)&&(f=null),v||x===null?g(u)&&(f===null?a.removeAttribute(u):a.setAttribute(u,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(u=x.attributeName,v=x.attributeNamespace,f===null?a.removeAttribute(u):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,v?a.setAttributeNS(v,u,f):a.setAttribute(u,f))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),W=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),U=Symbol.iterator;function fe(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var M=Object.assign,j;function J(a){if(j===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);j=u&&u[1]||""}return`
`+j+a}var F=!1;function ve(a,u){if(!a||F)return"";F=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Y){var v=Y}Reflect.construct(a,[],u)}else{try{u.call()}catch(Y){v=Y}a.call(u.prototype)}else{try{throw Error()}catch(Y){v=Y}a()}}catch(Y){if(Y&&v&&typeof Y.stack=="string"){for(var x=Y.stack.split(`
`),C=v.stack.split(`
`),P=x.length-1,B=C.length-1;1<=P&&0<=B&&x[P]!==C[B];)B--;for(;1<=P&&0<=B;P--,B--)if(x[P]!==C[B]){if(P!==1||B!==1)do if(P--,B--,0>B||x[P]!==C[B]){var $=`
`+x[P].replace(" at new "," at ");return a.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",a.displayName)),$}while(1<=P&&0<=B);break}}}finally{F=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?J(a):""}function Re(a){switch(a.tag){case 5:return J(a.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case X:return"Profiler";case V:return"StrictMode";case ee:return"Suspense";case K:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case W:return(a.displayName||"Context")+".Consumer";case Q:return(a._context.displayName||"Context")+".Provider";case ne:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case re:return u=a.displayName||null,u!==null?u:pe(a.type)||"Memo";case ce:u=a._payload,a=a._init;try{return pe(a(u))}catch{}}return null}function ye(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(u);case 8:return u===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Oe(a){var u=De(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),v=""+a[u];if(!a.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,C=f.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return x.call(this)},set:function(P){v=""+P,C.call(this,P)}}),Object.defineProperty(a,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(P){v=""+P},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Tn(a){a._valueTracker||(a._valueTracker=Oe(a))}function It(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return a&&(v=De(a)?a.checked?"true":"false":a.value),a=v,a!==f?(u.setValue(a),!0):!1}function Ye(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function vt(a,u){var f=u.checked;return M({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function zt(a,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=Te(u.value!=null?u.value:f),a._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Rt(a,u){u=u.checked,u!=null&&R(a,"checked",u,!1)}function xr(a,u){Rt(a,u);var f=Te(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?bo(a,u.type,f):u.hasOwnProperty("defaultValue")&&bo(a,u.type,Te(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Gi(a,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,f||u===a.value||(a.value=u),a.defaultValue=u}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function bo(a,u,f){(u!=="number"||Ye(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var Wi=Array.isArray;function Sr(a,u,f,v){if(a=a.options,u){u={};for(var x=0;x<f.length;x++)u["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=u.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&v&&(a[f].defaultSelected=!0)}else{for(f=""+Te(f),u=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,v&&(a[x].defaultSelected=!0);return}u!==null||a[x].disabled||(u=a[x])}u!==null&&(u.selected=!0)}}function La(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return M({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function bu(a,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(t(92));if(Wi(f)){if(1<f.length)throw Error(t(93));f=f[0]}u=f}u==null&&(u=""),f=u}a._wrapperState={initialValue:Te(f)}}function xu(a,u){var f=Te(u.value),v=Te(u.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),u.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),v!=null&&(a.defaultValue=""+v)}function Su(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function te(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?te(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Le,Ue=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,x){MSApp.execUnsafeLocalFunction(function(){return a(u,f,v,x)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Le.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function et(a,u){if(u){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=u;return}}a.textContent=u}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cs=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(a){Cs.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),bn[u]=bn[a]})});function qr(a,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||bn.hasOwnProperty(a)&&bn[a]?(""+u).trim():u+"px"}function xo(a,u){a=a.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,x=qr(f,u[f],v);f==="float"&&(f="cssFloat"),v?a.setProperty(f,x):a[f]=x}}var Ma=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(a,u){if(u){if(Ma[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function qi(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function Fv(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Bv=null,Eu=null,Cu=null;function hC(a){if(a=Yd(a)){if(typeof Bv!="function")throw Error(t(280));var u=a.stateNode;u&&(u=yg(u),Bv(a.stateNode,a.type,u))}}function fC(a){Eu?Cu?Cu.push(a):Cu=[a]:Eu=a}function pC(){if(Eu){var a=Eu,u=Cu;if(Cu=Eu=null,hC(a),u)for(a=0;a<u.length;a++)hC(u[a])}}function gC(a,u){return a(u)}function mC(){}var zv=!1;function yC(a,u,f){if(zv)return a(u,f);zv=!0;try{return gC(a,u,f)}finally{zv=!1,(Eu!==null||Cu!==null)&&(mC(),pC())}}function Pd(a,u){var f=a.stateNode;if(f===null)return null;var v=yg(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,u,typeof f));return f}var jv=!1;if(l)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){jv=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{jv=!1}function dN(a,u,f,v,x,C,P,B,$){var Y=Array.prototype.slice.call(arguments,3);try{u.apply(f,Y)}catch(oe){this.onError(oe)}}var Id=!1,Kp=null,Yp=!1,$v=null,hN={onError:function(a){Id=!0,Kp=a}};function fN(a,u,f,v,x,C,P,B,$){Id=!1,Kp=null,dN.apply(hN,arguments)}function pN(a,u,f,v,x,C,P,B,$){if(fN.apply(this,arguments),Id){if(Id){var Y=Kp;Id=!1,Kp=null}else throw Error(t(198));Yp||(Yp=!0,$v=Y)}}function Na(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function vC(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function wC(a){if(Na(a)!==a)throw Error(t(188))}function gN(a){var u=a.alternate;if(!u){if(u=Na(a),u===null)throw Error(t(188));return u!==a?null:a}for(var f=a,v=u;;){var x=f.return;if(x===null)break;var C=x.alternate;if(C===null){if(v=x.return,v!==null){f=v;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===f)return wC(x),a;if(C===v)return wC(x),u;C=C.sibling}throw Error(t(188))}if(f.return!==v.return)f=x,v=C;else{for(var P=!1,B=x.child;B;){if(B===f){P=!0,f=x,v=C;break}if(B===v){P=!0,v=x,f=C;break}B=B.sibling}if(!P){for(B=C.child;B;){if(B===f){P=!0,f=C,v=x;break}if(B===v){P=!0,v=C,f=x;break}B=B.sibling}if(!P)throw Error(t(189))}}if(f.alternate!==v)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:u}function bC(a){return a=gN(a),a!==null?xC(a):null}function xC(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=xC(a);if(u!==null)return u;a=a.sibling}return null}var SC=e.unstable_scheduleCallback,EC=e.unstable_cancelCallback,mN=e.unstable_shouldYield,yN=e.unstable_requestPaint,Vt=e.unstable_now,vN=e.unstable_getCurrentPriorityLevel,Hv=e.unstable_ImmediatePriority,CC=e.unstable_UserBlockingPriority,Qp=e.unstable_NormalPriority,wN=e.unstable_LowPriority,AC=e.unstable_IdlePriority,Jp=null,Xi=null;function bN(a){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(Jp,a,void 0,(a.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:EN,xN=Math.log,SN=Math.LN2;function EN(a){return a>>>=0,a===0?32:31-(xN(a)/SN|0)|0}var Zp=64,eg=4194304;function Dd(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function tg(a,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,x=a.suspendedLanes,C=a.pingedLanes,P=f&268435455;if(P!==0){var B=P&~x;B!==0?v=Dd(B):(C&=P,C!==0&&(v=Dd(C)))}else P=f&~x,P!==0?v=Dd(P):C!==0&&(v=Dd(C));if(v===0)return 0;if(u!==0&&u!==v&&!(u&x)&&(x=v&-v,C=u&-u,x>=C||x===16&&(C&4194240)!==0))return u;if(v&4&&(v|=f&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=v;0<u;)f=31-gi(u),x=1<<f,v|=a[f],u&=~x;return v}function CN(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AN(a,u){for(var f=a.suspendedLanes,v=a.pingedLanes,x=a.expirationTimes,C=a.pendingLanes;0<C;){var P=31-gi(C),B=1<<P,$=x[P];$===-1?(!(B&f)||B&v)&&(x[P]=CN(B,u)):$<=u&&(a.expiredLanes|=B),C&=~B}}function Vv(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function _C(){var a=Zp;return Zp<<=1,!(Zp&4194240)&&(Zp=64),a}function Uv(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function Ld(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-gi(u),a[u]=f}function _N(a,u){var f=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-gi(f),C=1<<x;u[x]=0,v[x]=-1,a[x]=-1,f&=~C}}function Gv(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var v=31-gi(f),x=1<<v;x&u|a[v]&u&&(a[v]|=u),f&=~x}}var dt=0;function RC(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var kC,Wv,PC,TC,IC,qv=!1,ng=[],So=null,Eo=null,Co=null,Md=new Map,Nd=new Map,Ao=[],RN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DC(a,u){switch(a){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Md.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(u.pointerId)}}function Od(a,u,f,v,x,C){return a===null||a.nativeEvent!==C?(a={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:C,targetContainers:[x]},u!==null&&(u=Yd(u),u!==null&&Wv(u)),a):(a.eventSystemFlags|=v,u=a.targetContainers,x!==null&&u.indexOf(x)===-1&&u.push(x),a)}function kN(a,u,f,v,x){switch(u){case"focusin":return So=Od(So,a,u,f,v,x),!0;case"dragenter":return Eo=Od(Eo,a,u,f,v,x),!0;case"mouseover":return Co=Od(Co,a,u,f,v,x),!0;case"pointerover":var C=x.pointerId;return Md.set(C,Od(Md.get(C)||null,a,u,f,v,x)),!0;case"gotpointercapture":return C=x.pointerId,Nd.set(C,Od(Nd.get(C)||null,a,u,f,v,x)),!0}return!1}function LC(a){var u=Oa(a.target);if(u!==null){var f=Na(u);if(f!==null){if(u=f.tag,u===13){if(u=vC(f),u!==null){a.blockedOn=u,IC(a.priority,function(){PC(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function rg(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var f=Kv(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var v=new f.constructor(f.type,f);Er=v,f.target.dispatchEvent(v),Er=null}else return u=Yd(f),u!==null&&Wv(u),a.blockedOn=f,!1;u.shift()}return!0}function MC(a,u,f){rg(a)&&f.delete(u)}function PN(){qv=!1,So!==null&&rg(So)&&(So=null),Eo!==null&&rg(Eo)&&(Eo=null),Co!==null&&rg(Co)&&(Co=null),Md.forEach(MC),Nd.forEach(MC)}function Fd(a,u){a.blockedOn===u&&(a.blockedOn=null,qv||(qv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PN)))}function Bd(a){function u(x){return Fd(x,a)}if(0<ng.length){Fd(ng[0],a);for(var f=1;f<ng.length;f++){var v=ng[f];v.blockedOn===a&&(v.blockedOn=null)}}for(So!==null&&Fd(So,a),Eo!==null&&Fd(Eo,a),Co!==null&&Fd(Co,a),Md.forEach(u),Nd.forEach(u),f=0;f<Ao.length;f++)v=Ao[f],v.blockedOn===a&&(v.blockedOn=null);for(;0<Ao.length&&(f=Ao[0],f.blockedOn===null);)LC(f),f.blockedOn===null&&Ao.shift()}var Au=I.ReactCurrentBatchConfig,ig=!0;function TN(a,u,f,v){var x=dt,C=Au.transition;Au.transition=null;try{dt=1,Xv(a,u,f,v)}finally{dt=x,Au.transition=C}}function IN(a,u,f,v){var x=dt,C=Au.transition;Au.transition=null;try{dt=4,Xv(a,u,f,v)}finally{dt=x,Au.transition=C}}function Xv(a,u,f,v){if(ig){var x=Kv(a,u,f,v);if(x===null)hw(a,u,v,sg,f),DC(a,v);else if(kN(x,a,u,f,v))v.stopPropagation();else if(DC(a,v),u&4&&-1<RN.indexOf(a)){for(;x!==null;){var C=Yd(x);if(C!==null&&kC(C),C=Kv(a,u,f,v),C===null&&hw(a,u,v,sg,f),C===x)break;x=C}x!==null&&v.stopPropagation()}else hw(a,u,v,null,f)}}var sg=null;function Kv(a,u,f,v){if(sg=null,a=Fv(v),a=Oa(a),a!==null)if(u=Na(a),u===null)a=null;else if(f=u.tag,f===13){if(a=vC(u),a!==null)return a;a=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return sg=a,null}function NC(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vN()){case Hv:return 1;case CC:return 4;case Qp:case wN:return 16;case AC:return 536870912;default:return 16}default:return 16}}var _o=null,Yv=null,og=null;function OC(){if(og)return og;var a,u=Yv,f=u.length,v,x="value"in _o?_o.value:_o.textContent,C=x.length;for(a=0;a<f&&u[a]===x[a];a++);var P=f-a;for(v=1;v<=P&&u[f-v]===x[C-v];v++);return og=x.slice(a,1<v?1-v:void 0)}function ag(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function lg(){return!0}function FC(){return!1}function Cr(a){function u(f,v,x,C,P){this._reactName=f,this._targetInst=x,this.type=v,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var B in a)a.hasOwnProperty(B)&&(f=a[B],this[B]=f?f(C):C[B]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?lg:FC,this.isPropagationStopped=FC,this}return M(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=lg)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=lg)},persist:function(){},isPersistent:lg}),u}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=Cr(_u),zd=M({},_u,{view:0,detail:0}),DN=Cr(zd),Jv,Zv,jd,ug=M({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tw,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jd&&(jd&&a.type==="mousemove"?(Jv=a.screenX-jd.screenX,Zv=a.screenY-jd.screenY):Zv=Jv=0,jd=a),Jv)},movementY:function(a){return"movementY"in a?a.movementY:Zv}}),BC=Cr(ug),LN=M({},ug,{dataTransfer:0}),MN=Cr(LN),NN=M({},zd,{relatedTarget:0}),ew=Cr(NN),ON=M({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),FN=Cr(ON),BN=M({},_u,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),zN=Cr(BN),jN=M({},_u,{data:0}),zC=Cr(jN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=VN[a])?!!u[a]:!1}function tw(){return UN}var GN=M({},zd,{key:function(a){if(a.key){var u=$N[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ag(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?HN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tw,charCode:function(a){return a.type==="keypress"?ag(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ag(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),WN=Cr(GN),qN=M({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jC=Cr(qN),XN=M({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tw}),KN=Cr(XN),YN=M({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=Cr(YN),JN=M({},ug,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ZN=Cr(JN),eO=[9,13,27,32],nw=l&&"CompositionEvent"in window,$d=null;l&&"documentMode"in document&&($d=document.documentMode);var tO=l&&"TextEvent"in window&&!$d,$C=l&&(!nw||$d&&8<$d&&11>=$d),HC=" ",VC=!1;function UC(a,u){switch(a){case"keyup":return eO.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GC(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ru=!1;function nO(a,u){switch(a){case"compositionend":return GC(u);case"keypress":return u.which!==32?null:(VC=!0,HC);case"textInput":return a=u.data,a===HC&&VC?null:a;default:return null}}function rO(a,u){if(Ru)return a==="compositionend"||!nw&&UC(a,u)?(a=OC(),og=Yv=_o=null,Ru=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return $C&&u.locale!=="ko"?null:u.data;default:return null}}var iO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WC(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!iO[a.type]:u==="textarea"}function qC(a,u,f,v){fC(v),u=pg(u,"onChange"),0<u.length&&(f=new Qv("onChange","change",null,f,v),a.push({event:f,listeners:u}))}var Hd=null,Vd=null;function sO(a){dA(a,0)}function cg(a){var u=Du(a);if(It(u))return a}function oO(a,u){if(a==="change")return u}var XC=!1;if(l){var rw;if(l){var iw="oninput"in document;if(!iw){var KC=document.createElement("div");KC.setAttribute("oninput","return;"),iw=typeof KC.oninput=="function"}rw=iw}else rw=!1;XC=rw&&(!document.documentMode||9<document.documentMode)}function YC(){Hd&&(Hd.detachEvent("onpropertychange",QC),Vd=Hd=null)}function QC(a){if(a.propertyName==="value"&&cg(Vd)){var u=[];qC(u,Vd,a,Fv(a)),yC(sO,u)}}function aO(a,u,f){a==="focusin"?(YC(),Hd=u,Vd=f,Hd.attachEvent("onpropertychange",QC)):a==="focusout"&&YC()}function lO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return cg(Vd)}function uO(a,u){if(a==="click")return cg(u)}function cO(a,u){if(a==="input"||a==="change")return cg(u)}function dO(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var mi=typeof Object.is=="function"?Object.is:dO;function Ud(a,u){if(mi(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var x=f[v];if(!c.call(u,x)||!mi(a[x],u[x]))return!1}return!0}function JC(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ZC(a,u){var f=JC(a);a=0;for(var v;f;){if(f.nodeType===3){if(v=a+f.textContent.length,a<=u&&v>=u)return{node:f,offset:u-a};a=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=JC(f)}}function eA(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?eA(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function tA(){for(var a=window,u=Ye();u instanceof a.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)a=u.contentWindow;else break;u=Ye(a.document)}return u}function sw(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function hO(a){var u=tA(),f=a.focusedElem,v=a.selectionRange;if(u!==f&&f&&f.ownerDocument&&eA(f.ownerDocument.documentElement,f)){if(v!==null&&sw(f)){if(u=v.start,a=v.end,a===void 0&&(a=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(a,f.value.length);else if(a=(u=f.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,C=Math.min(v.start,x);v=v.end===void 0?C:Math.min(v.end,x),!a.extend&&C>v&&(x=v,v=C,C=x),x=ZC(f,C);var P=ZC(f,v);x&&P&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(u=u.createRange(),u.setStart(x.node,x.offset),a.removeAllRanges(),C>v?(a.addRange(u),a.extend(P.node,P.offset)):(u.setEnd(P.node,P.offset),a.addRange(u)))}}for(u=[],a=f;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)a=u[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var fO=l&&"documentMode"in document&&11>=document.documentMode,ku=null,ow=null,Gd=null,aw=!1;function nA(a,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;aw||ku==null||ku!==Ye(v)||(v=ku,"selectionStart"in v&&sw(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Gd&&Ud(Gd,v)||(Gd=v,v=pg(ow,"onSelect"),0<v.length&&(u=new Qv("onSelect","select",null,u,f),a.push({event:u,listeners:v}),u.target=ku)))}function dg(a,u){var f={};return f[a.toLowerCase()]=u.toLowerCase(),f["Webkit"+a]="webkit"+u,f["Moz"+a]="moz"+u,f}var Pu={animationend:dg("Animation","AnimationEnd"),animationiteration:dg("Animation","AnimationIteration"),animationstart:dg("Animation","AnimationStart"),transitionend:dg("Transition","TransitionEnd")},lw={},rA={};l&&(rA=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function hg(a){if(lw[a])return lw[a];if(!Pu[a])return a;var u=Pu[a],f;for(f in u)if(u.hasOwnProperty(f)&&f in rA)return lw[a]=u[f];return a}var iA=hg("animationend"),sA=hg("animationiteration"),oA=hg("animationstart"),aA=hg("transitionend"),lA=new Map,uA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(a,u){lA.set(a,u),s(u,[a])}for(var uw=0;uw<uA.length;uw++){var cw=uA[uw],pO=cw.toLowerCase(),gO=cw[0].toUpperCase()+cw.slice(1);Ro(pO,"on"+gO)}Ro(iA,"onAnimationEnd"),Ro(sA,"onAnimationIteration"),Ro(oA,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(aA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function cA(a,u,f){var v=a.type||"unknown-event";a.currentTarget=f,pN(v,u,void 0,a),a.currentTarget=null}function dA(a,u){u=(u&4)!==0;for(var f=0;f<a.length;f++){var v=a[f],x=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var P=v.length-1;0<=P;P--){var B=v[P],$=B.instance,Y=B.currentTarget;if(B=B.listener,$!==C&&x.isPropagationStopped())break e;cA(x,B,Y),C=$}else for(P=0;P<v.length;P++){if(B=v[P],$=B.instance,Y=B.currentTarget,B=B.listener,$!==C&&x.isPropagationStopped())break e;cA(x,B,Y),C=$}}}if(Yp)throw a=$v,Yp=!1,$v=null,a}function Et(a,u){var f=u[vw];f===void 0&&(f=u[vw]=new Set);var v=a+"__bubble";f.has(v)||(hA(u,a,2,!1),f.add(v))}function dw(a,u,f){var v=0;u&&(v|=4),hA(f,a,v,u)}var fg="_reactListening"+Math.random().toString(36).slice(2);function qd(a){if(!a[fg]){a[fg]=!0,r.forEach(function(f){f!=="selectionchange"&&(mO.has(f)||dw(f,!1,a),dw(f,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[fg]||(u[fg]=!0,dw("selectionchange",!1,u))}}function hA(a,u,f,v){switch(NC(u)){case 1:var x=TN;break;case 4:x=IN;break;default:x=Xv}f=x.bind(null,u,f,a),x=void 0,!jv||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(x=!0),v?x!==void 0?a.addEventListener(u,f,{capture:!0,passive:x}):a.addEventListener(u,f,!0):x!==void 0?a.addEventListener(u,f,{passive:x}):a.addEventListener(u,f,!1)}function hw(a,u,f,v,x){var C=v;if(!(u&1)&&!(u&2)&&v!==null)e:for(;;){if(v===null)return;var P=v.tag;if(P===3||P===4){var B=v.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(P===4)for(P=v.return;P!==null;){var $=P.tag;if(($===3||$===4)&&($=P.stateNode.containerInfo,$===x||$.nodeType===8&&$.parentNode===x))return;P=P.return}for(;B!==null;){if(P=Oa(B),P===null)return;if($=P.tag,$===5||$===6){v=C=P;continue e}B=B.parentNode}}v=v.return}yC(function(){var Y=C,oe=Fv(f),ae=[];e:{var se=lA.get(a);if(se!==void 0){var we=Qv,Ce=a;switch(a){case"keypress":if(ag(f)===0)break e;case"keydown":case"keyup":we=WN;break;case"focusin":Ce="focus",we=ew;break;case"focusout":Ce="blur",we=ew;break;case"beforeblur":case"afterblur":we=ew;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=BC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=KN;break;case iA:case sA:case oA:we=FN;break;case aA:we=QN;break;case"scroll":we=DN;break;case"wheel":we=ZN;break;case"copy":case"cut":case"paste":we=zN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=jC}var Ae=(u&4)!==0,Ut=!Ae&&a==="scroll",G=Ae?se!==null?se+"Capture":null:se;Ae=[];for(var H=Y,q;H!==null;){q=H;var de=q.stateNode;if(q.tag===5&&de!==null&&(q=de,G!==null&&(de=Pd(H,G),de!=null&&Ae.push(Xd(H,de,q)))),Ut)break;H=H.return}0<Ae.length&&(se=new we(se,Ce,null,f,oe),ae.push({event:se,listeners:Ae}))}}if(!(u&7)){e:{if(se=a==="mouseover"||a==="pointerover",we=a==="mouseout"||a==="pointerout",se&&f!==Er&&(Ce=f.relatedTarget||f.fromElement)&&(Oa(Ce)||Ce[As]))break e;if((we||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,we?(Ce=f.relatedTarget||f.toElement,we=Y,Ce=Ce?Oa(Ce):null,Ce!==null&&(Ut=Na(Ce),Ce!==Ut||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(we=null,Ce=Y),we!==Ce)){if(Ae=BC,de="onMouseLeave",G="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=jC,de="onPointerLeave",G="onPointerEnter",H="pointer"),Ut=we==null?se:Du(we),q=Ce==null?se:Du(Ce),se=new Ae(de,H+"leave",we,f,oe),se.target=Ut,se.relatedTarget=q,de=null,Oa(oe)===Y&&(Ae=new Ae(G,H+"enter",Ce,f,oe),Ae.target=q,Ae.relatedTarget=Ut,de=Ae),Ut=de,we&&Ce)t:{for(Ae=we,G=Ce,H=0,q=Ae;q;q=Tu(q))H++;for(q=0,de=G;de;de=Tu(de))q++;for(;0<H-q;)Ae=Tu(Ae),H--;for(;0<q-H;)G=Tu(G),q--;for(;H--;){if(Ae===G||G!==null&&Ae===G.alternate)break t;Ae=Tu(Ae),G=Tu(G)}Ae=null}else Ae=null;we!==null&&fA(ae,se,we,Ae,!1),Ce!==null&&Ut!==null&&fA(ae,Ut,Ce,Ae,!0)}}e:{if(se=Y?Du(Y):window,we=se.nodeName&&se.nodeName.toLowerCase(),we==="select"||we==="input"&&se.type==="file")var _e=oO;else if(WC(se))if(XC)_e=cO;else{_e=lO;var Me=aO}else(we=se.nodeName)&&we.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=uO);if(_e&&(_e=_e(a,Y))){qC(ae,_e,f,oe);break e}Me&&Me(a,se,Y),a==="focusout"&&(Me=se._wrapperState)&&Me.controlled&&se.type==="number"&&bo(se,"number",se.value)}switch(Me=Y?Du(Y):window,a){case"focusin":(WC(Me)||Me.contentEditable==="true")&&(ku=Me,ow=Y,Gd=null);break;case"focusout":Gd=ow=ku=null;break;case"mousedown":aw=!0;break;case"contextmenu":case"mouseup":case"dragend":aw=!1,nA(ae,f,oe);break;case"selectionchange":if(fO)break;case"keydown":case"keyup":nA(ae,f,oe)}var Ne;if(nw)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ru?UC(a,f)&&(Fe="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(Fe="onCompositionStart");Fe&&($C&&f.locale!=="ko"&&(Ru||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ru&&(Ne=OC()):(_o=oe,Yv="value"in _o?_o.value:_o.textContent,Ru=!0)),Me=pg(Y,Fe),0<Me.length&&(Fe=new zC(Fe,a,null,f,oe),ae.push({event:Fe,listeners:Me}),Ne?Fe.data=Ne:(Ne=GC(f),Ne!==null&&(Fe.data=Ne)))),(Ne=tO?nO(a,f):rO(a,f))&&(Y=pg(Y,"onBeforeInput"),0<Y.length&&(oe=new zC("onBeforeInput","beforeinput",null,f,oe),ae.push({event:oe,listeners:Y}),oe.data=Ne))}dA(ae,u)})}function Xd(a,u,f){return{instance:a,listener:u,currentTarget:f}}function pg(a,u){for(var f=u+"Capture",v=[];a!==null;){var x=a,C=x.stateNode;x.tag===5&&C!==null&&(x=C,C=Pd(a,f),C!=null&&v.unshift(Xd(a,C,x)),C=Pd(a,u),C!=null&&v.push(Xd(a,C,x))),a=a.return}return v}function Tu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function fA(a,u,f,v,x){for(var C=u._reactName,P=[];f!==null&&f!==v;){var B=f,$=B.alternate,Y=B.stateNode;if($!==null&&$===v)break;B.tag===5&&Y!==null&&(B=Y,x?($=Pd(f,C),$!=null&&P.unshift(Xd(f,$,B))):x||($=Pd(f,C),$!=null&&P.push(Xd(f,$,B)))),f=f.return}P.length!==0&&a.push({event:u,listeners:P})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function pA(a){return(typeof a=="string"?a:""+a).replace(yO,`
`).replace(vO,"")}function gg(a,u,f){if(u=pA(u),pA(a)!==u&&f)throw Error(t(425))}function mg(){}var fw=null,pw=null;function gw(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var mw=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,gA=typeof Promise=="function"?Promise:void 0,bO=typeof queueMicrotask=="function"?queueMicrotask:typeof gA<"u"?function(a){return gA.resolve(null).then(a).catch(xO)}:mw;function xO(a){setTimeout(function(){throw a})}function yw(a,u){var f=u,v=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(v===0){a.removeChild(x),Bd(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=x}while(f);Bd(u)}function ko(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function mA(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return a;u--}else f==="/$"&&u++}a=a.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Iu,Kd="__reactProps$"+Iu,As="__reactContainer$"+Iu,vw="__reactEvents$"+Iu,SO="__reactListeners$"+Iu,EO="__reactHandles$"+Iu;function Oa(a){var u=a[Ki];if(u)return u;for(var f=a.parentNode;f;){if(u=f[As]||f[Ki]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(a=mA(a);a!==null;){if(f=a[Ki])return f;a=mA(a)}return u}a=f,f=a.parentNode}return null}function Yd(a){return a=a[Ki]||a[As],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Du(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function yg(a){return a[Kd]||null}var ww=[],Lu=-1;function Po(a){return{current:a}}function Ct(a){0>Lu||(a.current=ww[Lu],ww[Lu]=null,Lu--)}function wt(a,u){Lu++,ww[Lu]=a.current,a.current=u}var To={},In=Po(To),rr=Po(!1),Fa=To;function Mu(a,u){var f=a.type.contextTypes;if(!f)return To;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x={},C;for(C in f)x[C]=u[C];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=x),x}function ir(a){return a=a.childContextTypes,a!=null}function vg(){Ct(rr),Ct(In)}function yA(a,u,f){if(In.current!==To)throw Error(t(168));wt(In,u),wt(rr,f)}function vA(a,u,f){var v=a.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var x in v)if(!(x in u))throw Error(t(108,ye(a)||"Unknown",x));return M({},f,v)}function wg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||To,Fa=In.current,wt(In,a),wt(rr,rr.current),!0}function wA(a,u,f){var v=a.stateNode;if(!v)throw Error(t(169));f?(a=vA(a,u,Fa),v.__reactInternalMemoizedMergedChildContext=a,Ct(rr),Ct(In),wt(In,a)):Ct(rr),wt(rr,f)}var _s=null,bg=!1,bw=!1;function bA(a){_s===null?_s=[a]:_s.push(a)}function CO(a){bg=!0,bA(a)}function Io(){if(!bw&&_s!==null){bw=!0;var a=0,u=dt;try{var f=_s;for(dt=1;a<f.length;a++){var v=f[a];do v=v(!0);while(v!==null)}_s=null,bg=!1}catch(x){throw _s!==null&&(_s=_s.slice(a+1)),SC(Hv,Io),x}finally{dt=u,bw=!1}}return null}var Nu=[],Ou=0,xg=null,Sg=0,Xr=[],Kr=0,Ba=null,Rs=1,ks="";function za(a,u){Nu[Ou++]=Sg,Nu[Ou++]=xg,xg=a,Sg=u}function xA(a,u,f){Xr[Kr++]=Rs,Xr[Kr++]=ks,Xr[Kr++]=Ba,Ba=a;var v=Rs;a=ks;var x=32-gi(v)-1;v&=~(1<<x),f+=1;var C=32-gi(u)+x;if(30<C){var P=x-x%5;C=(v&(1<<P)-1).toString(32),v>>=P,x-=P,Rs=1<<32-gi(u)+x|f<<x|v,ks=C+a}else Rs=1<<C|f<<x|v,ks=a}function xw(a){a.return!==null&&(za(a,1),xA(a,1,0))}function Sw(a){for(;a===xg;)xg=Nu[--Ou],Nu[Ou]=null,Sg=Nu[--Ou],Nu[Ou]=null;for(;a===Ba;)Ba=Xr[--Kr],Xr[Kr]=null,ks=Xr[--Kr],Xr[Kr]=null,Rs=Xr[--Kr],Xr[Kr]=null}var Ar=null,_r=null,kt=!1,yi=null;function SA(a,u){var f=Zr(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,u=a.deletions,u===null?(a.deletions=[f],a.flags|=16):u.push(f)}function EA(a,u){switch(a.tag){case 5:var f=a.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Ar=a,_r=ko(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Ar=a,_r=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Ba!==null?{id:Rs,overflow:ks}:null,a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Zr(18,null,null,0),f.stateNode=u,f.return=a,a.child=f,Ar=a,_r=null,!0):!1;default:return!1}}function Ew(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Cw(a){if(kt){var u=_r;if(u){var f=u;if(!EA(a,u)){if(Ew(a))throw Error(t(418));u=ko(f.nextSibling);var v=Ar;u&&EA(a,u)?SA(v,f):(a.flags=a.flags&-4097|2,kt=!1,Ar=a)}}else{if(Ew(a))throw Error(t(418));a.flags=a.flags&-4097|2,kt=!1,Ar=a}}}function CA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ar=a}function Eg(a){if(a!==Ar)return!1;if(!kt)return CA(a),kt=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!gw(a.type,a.memoizedProps)),u&&(u=_r)){if(Ew(a))throw AA(),Error(t(418));for(;u;)SA(a,u),u=ko(u.nextSibling)}if(CA(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(u===0){_r=ko(a.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}a=a.nextSibling}_r=null}}else _r=Ar?ko(a.stateNode.nextSibling):null;return!0}function AA(){for(var a=_r;a;)a=ko(a.nextSibling)}function Fu(){_r=Ar=null,kt=!1}function Aw(a){yi===null?yi=[a]:yi.push(a)}var AO=I.ReactCurrentBatchConfig;function Qd(a,u,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var v=f.stateNode}if(!v)throw Error(t(147,a));var x=v,C=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(P){var B=x.refs;P===null?delete B[C]:B[C]=P},u._stringRef=C,u)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function Cg(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function _A(a){var u=a._init;return u(a._payload)}function RA(a){function u(G,H){if(a){var q=G.deletions;q===null?(G.deletions=[H],G.flags|=16):q.push(H)}}function f(G,H){if(!a)return null;for(;H!==null;)u(G,H),H=H.sibling;return null}function v(G,H){for(G=new Map;H!==null;)H.key!==null?G.set(H.key,H):G.set(H.index,H),H=H.sibling;return G}function x(G,H){return G=zo(G,H),G.index=0,G.sibling=null,G}function C(G,H,q){return G.index=q,a?(q=G.alternate,q!==null?(q=q.index,q<H?(G.flags|=2,H):q):(G.flags|=2,H)):(G.flags|=1048576,H)}function P(G){return a&&G.alternate===null&&(G.flags|=2),G}function B(G,H,q,de){return H===null||H.tag!==6?(H=mb(q,G.mode,de),H.return=G,H):(H=x(H,q),H.return=G,H)}function $(G,H,q,de){var _e=q.type;return _e===z?oe(G,H,q.props.children,de,q.key):H!==null&&(H.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&_A(_e)===H.type)?(de=x(H,q.props),de.ref=Qd(G,H,q),de.return=G,de):(de=Xg(q.type,q.key,q.props,null,G.mode,de),de.ref=Qd(G,H,q),de.return=G,de)}function Y(G,H,q,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=yb(q,G.mode,de),H.return=G,H):(H=x(H,q.children||[]),H.return=G,H)}function oe(G,H,q,de,_e){return H===null||H.tag!==7?(H=qa(q,G.mode,de,_e),H.return=G,H):(H=x(H,q),H.return=G,H)}function ae(G,H,q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=mb(""+H,G.mode,q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return q=Xg(H.type,H.key,H.props,null,G.mode,q),q.ref=Qd(G,null,H),q.return=G,q;case L:return H=yb(H,G.mode,q),H.return=G,H;case ce:var de=H._init;return ae(G,de(H._payload),q)}if(Wi(H)||fe(H))return H=qa(H,G.mode,q,null),H.return=G,H;Cg(G,H)}return null}function se(G,H,q,de){var _e=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return _e!==null?null:B(G,H,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===_e?$(G,H,q,de):null;case L:return q.key===_e?Y(G,H,q,de):null;case ce:return _e=q._init,se(G,H,_e(q._payload),de)}if(Wi(q)||fe(q))return _e!==null?null:oe(G,H,q,de,null);Cg(G,q)}return null}function we(G,H,q,de,_e){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(q)||null,B(H,G,""+de,_e);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case N:return G=G.get(de.key===null?q:de.key)||null,$(H,G,de,_e);case L:return G=G.get(de.key===null?q:de.key)||null,Y(H,G,de,_e);case ce:var Me=de._init;return we(G,H,q,Me(de._payload),_e)}if(Wi(de)||fe(de))return G=G.get(q)||null,oe(H,G,de,_e,null);Cg(H,de)}return null}function Ce(G,H,q,de){for(var _e=null,Me=null,Ne=H,Fe=H=0,cn=null;Ne!==null&&Fe<q.length;Fe++){Ne.index>Fe?(cn=Ne,Ne=null):cn=Ne.sibling;var ot=se(G,Ne,q[Fe],de);if(ot===null){Ne===null&&(Ne=cn);break}a&&Ne&&ot.alternate===null&&u(G,Ne),H=C(ot,H,Fe),Me===null?_e=ot:Me.sibling=ot,Me=ot,Ne=cn}if(Fe===q.length)return f(G,Ne),kt&&za(G,Fe),_e;if(Ne===null){for(;Fe<q.length;Fe++)Ne=ae(G,q[Fe],de),Ne!==null&&(H=C(Ne,H,Fe),Me===null?_e=Ne:Me.sibling=Ne,Me=Ne);return kt&&za(G,Fe),_e}for(Ne=v(G,Ne);Fe<q.length;Fe++)cn=we(Ne,G,Fe,q[Fe],de),cn!==null&&(a&&cn.alternate!==null&&Ne.delete(cn.key===null?Fe:cn.key),H=C(cn,H,Fe),Me===null?_e=cn:Me.sibling=cn,Me=cn);return a&&Ne.forEach(function(jo){return u(G,jo)}),kt&&za(G,Fe),_e}function Ae(G,H,q,de){var _e=fe(q);if(typeof _e!="function")throw Error(t(150));if(q=_e.call(q),q==null)throw Error(t(151));for(var Me=_e=null,Ne=H,Fe=H=0,cn=null,ot=q.next();Ne!==null&&!ot.done;Fe++,ot=q.next()){Ne.index>Fe?(cn=Ne,Ne=null):cn=Ne.sibling;var jo=se(G,Ne,ot.value,de);if(jo===null){Ne===null&&(Ne=cn);break}a&&Ne&&jo.alternate===null&&u(G,Ne),H=C(jo,H,Fe),Me===null?_e=jo:Me.sibling=jo,Me=jo,Ne=cn}if(ot.done)return f(G,Ne),kt&&za(G,Fe),_e;if(Ne===null){for(;!ot.done;Fe++,ot=q.next())ot=ae(G,ot.value,de),ot!==null&&(H=C(ot,H,Fe),Me===null?_e=ot:Me.sibling=ot,Me=ot);return kt&&za(G,Fe),_e}for(Ne=v(G,Ne);!ot.done;Fe++,ot=q.next())ot=we(Ne,G,Fe,ot.value,de),ot!==null&&(a&&ot.alternate!==null&&Ne.delete(ot.key===null?Fe:ot.key),H=C(ot,H,Fe),Me===null?_e=ot:Me.sibling=ot,Me=ot);return a&&Ne.forEach(function(rF){return u(G,rF)}),kt&&za(G,Fe),_e}function Ut(G,H,q,de){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var _e=q.key,Me=H;Me!==null;){if(Me.key===_e){if(_e=q.type,_e===z){if(Me.tag===7){f(G,Me.sibling),H=x(Me,q.props.children),H.return=G,G=H;break e}}else if(Me.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ce&&_A(_e)===Me.type){f(G,Me.sibling),H=x(Me,q.props),H.ref=Qd(G,Me,q),H.return=G,G=H;break e}f(G,Me);break}else u(G,Me);Me=Me.sibling}q.type===z?(H=qa(q.props.children,G.mode,de,q.key),H.return=G,G=H):(de=Xg(q.type,q.key,q.props,null,G.mode,de),de.ref=Qd(G,H,q),de.return=G,G=de)}return P(G);case L:e:{for(Me=q.key;H!==null;){if(H.key===Me)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){f(G,H.sibling),H=x(H,q.children||[]),H.return=G,G=H;break e}else{f(G,H);break}else u(G,H);H=H.sibling}H=yb(q,G.mode,de),H.return=G,G=H}return P(G);case ce:return Me=q._init,Ut(G,H,Me(q._payload),de)}if(Wi(q))return Ce(G,H,q,de);if(fe(q))return Ae(G,H,q,de);Cg(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,H!==null&&H.tag===6?(f(G,H.sibling),H=x(H,q),H.return=G,G=H):(f(G,H),H=mb(q,G.mode,de),H.return=G,G=H),P(G)):f(G,H)}return Ut}var Bu=RA(!0),kA=RA(!1),Ag=Po(null),_g=null,zu=null,_w=null;function Rw(){_w=zu=_g=null}function kw(a){var u=Ag.current;Ct(Ag),a._currentValue=u}function Pw(a,u,f){for(;a!==null;){var v=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),a===f)break;a=a.return}}function ju(a,u){_g=a,_w=zu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(sr=!0),a.firstContext=null)}function Yr(a){var u=a._currentValue;if(_w!==a)if(a={context:a,memoizedValue:u,next:null},zu===null){if(_g===null)throw Error(t(308));zu=a,_g.dependencies={lanes:0,firstContext:a}}else zu=zu.next=a;return u}var ja=null;function Tw(a){ja===null?ja=[a]:ja.push(a)}function PA(a,u,f,v){var x=u.interleaved;return x===null?(f.next=f,Tw(u)):(f.next=x.next,x.next=f),u.interleaved=f,Ps(a,v)}function Ps(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,f=a.alternate,f!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Do=!1;function Iw(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ts(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Lo(a,u,f){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,it&2){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,Ps(a,f)}return x=v.interleaved,x===null?(u.next=u,Tw(v)):(u.next=x.next,x.next=u),v.interleaved=u,Ps(a,f)}function Rg(a,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,Gv(a,f)}}function IA(a,u){var f=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var x=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var P={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};C===null?x=C=P:C=C.next=P,f=f.next}while(f!==null);C===null?x=C=u:C=C.next=u}else x=C=u;f={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:v.shared,effects:v.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function kg(a,u,f,v){var x=a.updateQueue;Do=!1;var C=x.firstBaseUpdate,P=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var $=B,Y=$.next;$.next=null,P===null?C=Y:P.next=Y,P=$;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,B=oe.lastBaseUpdate,B!==P&&(B===null?oe.firstBaseUpdate=Y:B.next=Y,oe.lastBaseUpdate=$))}if(C!==null){var ae=x.baseState;P=0,oe=Y=$=null,B=C;do{var se=B.lane,we=B.eventTime;if((v&se)===se){oe!==null&&(oe=oe.next={eventTime:we,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ce=a,Ae=B;switch(se=u,we=f,Ae.tag){case 1:if(Ce=Ae.payload,typeof Ce=="function"){ae=Ce.call(we,ae,se);break e}ae=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ae.payload,se=typeof Ce=="function"?Ce.call(we,ae,se):Ce,se==null)break e;ae=M({},ae,se);break e;case 2:Do=!0}}B.callback!==null&&B.lane!==0&&(a.flags|=64,se=x.effects,se===null?x.effects=[B]:se.push(B))}else we={eventTime:we,lane:se,tag:B.tag,payload:B.payload,callback:B.callback,next:null},oe===null?(Y=oe=we,$=ae):oe=oe.next=we,P|=se;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;se=B,B=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);if(oe===null&&($=ae),x.baseState=$,x.firstBaseUpdate=Y,x.lastBaseUpdate=oe,u=x.shared.interleaved,u!==null){x=u;do P|=x.lane,x=x.next;while(x!==u)}else C===null&&(x.shared.lanes=0);Va|=P,a.lanes=P,a.memoizedState=ae}}function DA(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var v=a[u],x=v.callback;if(x!==null){if(v.callback=null,v=f,typeof x!="function")throw Error(t(191,x));x.call(v)}}}var Jd={},Yi=Po(Jd),Zd=Po(Jd),eh=Po(Jd);function $a(a){if(a===Jd)throw Error(t(174));return a}function Dw(a,u){switch(wt(eh,u),wt(Zd,a),wt(Yi,Jd),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:ue(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=ue(u,a)}Ct(Yi),wt(Yi,u)}function $u(){Ct(Yi),Ct(Zd),Ct(eh)}function LA(a){$a(eh.current);var u=$a(Yi.current),f=ue(u,a.type);u!==f&&(wt(Zd,a),wt(Yi,f))}function Lw(a){Zd.current===a&&(Ct(Yi),Ct(Zd))}var Dt=Po(0);function Pg(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mw=[];function Nw(){for(var a=0;a<Mw.length;a++)Mw[a]._workInProgressVersionPrimary=null;Mw.length=0}var Tg=I.ReactCurrentDispatcher,Ow=I.ReactCurrentBatchConfig,Ha=0,Lt=null,Zt=null,ln=null,Ig=!1,th=!1,nh=0,_O=0;function Dn(){throw Error(t(321))}function Fw(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!mi(a[f],u[f]))return!1;return!0}function Bw(a,u,f,v,x,C){if(Ha=C,Lt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Tg.current=a===null||a.memoizedState===null?TO:IO,a=f(v,x),th){C=0;do{if(th=!1,nh=0,25<=C)throw Error(t(301));C+=1,ln=Zt=null,u.updateQueue=null,Tg.current=DO,a=f(v,x)}while(th)}if(Tg.current=Mg,u=Zt!==null&&Zt.next!==null,Ha=0,ln=Zt=Lt=null,Ig=!1,u)throw Error(t(300));return a}function zw(){var a=nh!==0;return nh=0,a}function Qi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Lt.memoizedState=ln=a:ln=ln.next=a,ln}function Qr(){if(Zt===null){var a=Lt.alternate;a=a!==null?a.memoizedState:null}else a=Zt.next;var u=ln===null?Lt.memoizedState:ln.next;if(u!==null)ln=u,Zt=a;else{if(a===null)throw Error(t(310));Zt=a,a={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ln===null?Lt.memoizedState=ln=a:ln=ln.next=a}return ln}function rh(a,u){return typeof u=="function"?u(a):u}function jw(a){var u=Qr(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=Zt,x=v.baseQueue,C=f.pending;if(C!==null){if(x!==null){var P=x.next;x.next=C.next,C.next=P}v.baseQueue=x=C,f.pending=null}if(x!==null){C=x.next,v=v.baseState;var B=P=null,$=null,Y=C;do{var oe=Y.lane;if((Ha&oe)===oe)$!==null&&($=$.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),v=Y.hasEagerState?Y.eagerState:a(v,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};$===null?(B=$=ae,P=v):$=$.next=ae,Lt.lanes|=oe,Va|=oe}Y=Y.next}while(Y!==null&&Y!==C);$===null?P=v:$.next=B,mi(v,u.memoizedState)||(sr=!0),u.memoizedState=v,u.baseState=P,u.baseQueue=$,f.lastRenderedState=v}if(a=f.interleaved,a!==null){x=a;do C=x.lane,Lt.lanes|=C,Va|=C,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function $w(a){var u=Qr(),f=u.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var v=f.dispatch,x=f.pending,C=u.memoizedState;if(x!==null){f.pending=null;var P=x=x.next;do C=a(C,P.action),P=P.next;while(P!==x);mi(C,u.memoizedState)||(sr=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),f.lastRenderedState=C}return[C,v]}function MA(){}function NA(a,u){var f=Lt,v=Qr(),x=u(),C=!mi(v.memoizedState,x);if(C&&(v.memoizedState=x,sr=!0),v=v.queue,Hw(BA.bind(null,f,v,a),[a]),v.getSnapshot!==u||C||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,ih(9,FA.bind(null,f,v,x,u),void 0,null),un===null)throw Error(t(349));Ha&30||OA(f,u,x)}return x}function OA(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.stores=[a]):(f=u.stores,f===null?u.stores=[a]:f.push(a))}function FA(a,u,f,v){u.value=f,u.getSnapshot=v,zA(u)&&jA(a)}function BA(a,u,f){return f(function(){zA(u)&&jA(a)})}function zA(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!mi(a,f)}catch{return!0}}function jA(a){var u=Ps(a,1);u!==null&&xi(u,a,1,-1)}function $A(a){var u=Qi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:a},u.queue=a,a=a.dispatch=PO.bind(null,Lt,a),[u.memoizedState,a]}function ih(a,u,f,v){return a={tag:a,create:u,destroy:f,deps:v,next:null},u=Lt.updateQueue,u===null?(u={lastEffect:null,stores:null},Lt.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect,f===null?u.lastEffect=a.next=a:(v=f.next,f.next=a,a.next=v,u.lastEffect=a)),a}function HA(){return Qr().memoizedState}function Dg(a,u,f,v){var x=Qi();Lt.flags|=a,x.memoizedState=ih(1|u,f,void 0,v===void 0?null:v)}function Lg(a,u,f,v){var x=Qr();v=v===void 0?null:v;var C=void 0;if(Zt!==null){var P=Zt.memoizedState;if(C=P.destroy,v!==null&&Fw(v,P.deps)){x.memoizedState=ih(u,f,C,v);return}}Lt.flags|=a,x.memoizedState=ih(1|u,f,C,v)}function VA(a,u){return Dg(8390656,8,a,u)}function Hw(a,u){return Lg(2048,8,a,u)}function UA(a,u){return Lg(4,2,a,u)}function GA(a,u){return Lg(4,4,a,u)}function WA(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function qA(a,u,f){return f=f!=null?f.concat([a]):null,Lg(4,4,WA.bind(null,u,a),f)}function Vw(){}function XA(a,u){var f=Qr();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Fw(u,v[1])?v[0]:(f.memoizedState=[a,u],a)}function KA(a,u){var f=Qr();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Fw(u,v[1])?v[0]:(a=a(),f.memoizedState=[a,u],a)}function YA(a,u,f){return Ha&21?(mi(f,u)||(f=_C(),Lt.lanes|=f,Va|=f,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,sr=!0),a.memoizedState=f)}function RO(a,u){var f=dt;dt=f!==0&&4>f?f:4,a(!0);var v=Ow.transition;Ow.transition={};try{a(!1),u()}finally{dt=f,Ow.transition=v}}function QA(){return Qr().memoizedState}function kO(a,u,f){var v=Fo(a);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},JA(a))ZA(u,f);else if(f=PA(a,u,f,v),f!==null){var x=qn();xi(f,a,v,x),e_(f,u,v)}}function PO(a,u,f){var v=Fo(a),x={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(JA(a))ZA(u,x);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var P=u.lastRenderedState,B=C(P,f);if(x.hasEagerState=!0,x.eagerState=B,mi(B,P)){var $=u.interleaved;$===null?(x.next=x,Tw(u)):(x.next=$.next,$.next=x),u.interleaved=x;return}}catch{}finally{}f=PA(a,u,x,v),f!==null&&(x=qn(),xi(f,a,v,x),e_(f,u,v))}}function JA(a){var u=a.alternate;return a===Lt||u!==null&&u===Lt}function ZA(a,u){th=Ig=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function e_(a,u,f){if(f&4194240){var v=u.lanes;v&=a.pendingLanes,f|=v,u.lanes=f,Gv(a,f)}}var Mg={readContext:Yr,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},TO={readContext:Yr,useCallback:function(a,u){return Qi().memoizedState=[a,u===void 0?null:u],a},useContext:Yr,useEffect:VA,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,Dg(4194308,4,WA.bind(null,u,a),f)},useLayoutEffect:function(a,u){return Dg(4194308,4,a,u)},useInsertionEffect:function(a,u){return Dg(4,2,a,u)},useMemo:function(a,u){var f=Qi();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var v=Qi();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},v.queue=a,a=a.dispatch=kO.bind(null,Lt,a),[v.memoizedState,a]},useRef:function(a){var u=Qi();return a={current:a},u.memoizedState=a},useState:$A,useDebugValue:Vw,useDeferredValue:function(a){return Qi().memoizedState=a},useTransition:function(){var a=$A(!1),u=a[0];return a=RO.bind(null,a[1]),Qi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var v=Lt,x=Qi();if(kt){if(f===void 0)throw Error(t(407));f=f()}else{if(f=u(),un===null)throw Error(t(349));Ha&30||OA(v,u,f)}x.memoizedState=f;var C={value:f,getSnapshot:u};return x.queue=C,VA(BA.bind(null,v,C,a),[a]),v.flags|=2048,ih(9,FA.bind(null,v,C,f,u),void 0,null),f},useId:function(){var a=Qi(),u=un.identifierPrefix;if(kt){var f=ks,v=Rs;f=(v&~(1<<32-gi(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=nh++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=_O++,u=":"+u+"r"+f.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},IO={readContext:Yr,useCallback:XA,useContext:Yr,useEffect:Hw,useImperativeHandle:qA,useInsertionEffect:UA,useLayoutEffect:GA,useMemo:KA,useReducer:jw,useRef:HA,useState:function(){return jw(rh)},useDebugValue:Vw,useDeferredValue:function(a){var u=Qr();return YA(u,Zt.memoizedState,a)},useTransition:function(){var a=jw(rh)[0],u=Qr().memoizedState;return[a,u]},useMutableSource:MA,useSyncExternalStore:NA,useId:QA,unstable_isNewReconciler:!1},DO={readContext:Yr,useCallback:XA,useContext:Yr,useEffect:Hw,useImperativeHandle:qA,useInsertionEffect:UA,useLayoutEffect:GA,useMemo:KA,useReducer:$w,useRef:HA,useState:function(){return $w(rh)},useDebugValue:Vw,useDeferredValue:function(a){var u=Qr();return Zt===null?u.memoizedState=a:YA(u,Zt.memoizedState,a)},useTransition:function(){var a=$w(rh)[0],u=Qr().memoizedState;return[a,u]},useMutableSource:MA,useSyncExternalStore:NA,useId:QA,unstable_isNewReconciler:!1};function vi(a,u){if(a&&a.defaultProps){u=M({},u),a=a.defaultProps;for(var f in a)u[f]===void 0&&(u[f]=a[f]);return u}return u}function Uw(a,u,f,v){u=a.memoizedState,f=f(v,u),f=f==null?u:M({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Ng={isMounted:function(a){return(a=a._reactInternals)?Na(a)===a:!1},enqueueSetState:function(a,u,f){a=a._reactInternals;var v=qn(),x=Fo(a),C=Ts(v,x);C.payload=u,f!=null&&(C.callback=f),u=Lo(a,C,x),u!==null&&(xi(u,a,x,v),Rg(u,a,x))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var v=qn(),x=Fo(a),C=Ts(v,x);C.tag=1,C.payload=u,f!=null&&(C.callback=f),u=Lo(a,C,x),u!==null&&(xi(u,a,x,v),Rg(u,a,x))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=qn(),v=Fo(a),x=Ts(f,v);x.tag=2,u!=null&&(x.callback=u),u=Lo(a,x,v),u!==null&&(xi(u,a,v,f),Rg(u,a,v))}};function t_(a,u,f,v,x,C,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,C,P):u.prototype&&u.prototype.isPureReactComponent?!Ud(f,v)||!Ud(x,C):!0}function n_(a,u,f){var v=!1,x=To,C=u.contextType;return typeof C=="object"&&C!==null?C=Yr(C):(x=ir(u)?Fa:In.current,v=u.contextTypes,C=(v=v!=null)?Mu(a,x):To),u=new u(f,C),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ng,a.stateNode=u,u._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=C),u}function r_(a,u,f,v){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==a&&Ng.enqueueReplaceState(u,u.state,null)}function Gw(a,u,f,v){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},Iw(a);var C=u.contextType;typeof C=="object"&&C!==null?x.context=Yr(C):(C=ir(u)?Fa:In.current,x.context=Mu(a,C)),x.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Uw(a,u,C,f),x.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Ng.enqueueReplaceState(x,x.state,null),kg(a,f,x,v),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function Hu(a,u){try{var f="",v=u;do f+=Re(v),v=v.return;while(v);var x=f}catch(C){x=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:u,stack:x,digest:null}}function Ww(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function qw(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var LO=typeof WeakMap=="function"?WeakMap:Map;function i_(a,u,f){f=Ts(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Hg||(Hg=!0,lb=v),qw(a,u)},f}function s_(a,u,f){f=Ts(-1,f),f.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;f.payload=function(){return v(x)},f.callback=function(){qw(a,u)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(f.callback=function(){qw(a,u),typeof v!="function"&&(No===null?No=new Set([this]):No.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})}),f}function o_(a,u,f){var v=a.pingCache;if(v===null){v=a.pingCache=new LO;var x=new Set;v.set(u,x)}else x=v.get(u),x===void 0&&(x=new Set,v.set(u,x));x.has(f)||(x.add(f),a=qO.bind(null,a,u,f),u.then(a,a))}function a_(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function l_(a,u,f,v,x){return a.mode&1?(a.flags|=65536,a.lanes=x,a):(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Ts(-1,1),u.tag=2,Lo(f,u,1))),f.lanes|=1),a)}var MO=I.ReactCurrentOwner,sr=!1;function Wn(a,u,f,v){u.child=a===null?kA(u,null,f,v):Bu(u,a.child,f,v)}function u_(a,u,f,v,x){f=f.render;var C=u.ref;return ju(u,x),v=Bw(a,u,f,v,C,x),f=zw(),a!==null&&!sr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~x,Is(a,u,x)):(kt&&f&&xw(u),u.flags|=1,Wn(a,u,v,x),u.child)}function c_(a,u,f,v,x){if(a===null){var C=f.type;return typeof C=="function"&&!gb(C)&&C.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=C,d_(a,u,C,v,x)):(a=Xg(f.type,null,v,u,u.mode,x),a.ref=u.ref,a.return=u,u.child=a)}if(C=a.child,!(a.lanes&x)){var P=C.memoizedProps;if(f=f.compare,f=f!==null?f:Ud,f(P,v)&&a.ref===u.ref)return Is(a,u,x)}return u.flags|=1,a=zo(C,v),a.ref=u.ref,a.return=u,u.child=a}function d_(a,u,f,v,x){if(a!==null){var C=a.memoizedProps;if(Ud(C,v)&&a.ref===u.ref)if(sr=!1,u.pendingProps=v=C,(a.lanes&x)!==0)a.flags&131072&&(sr=!0);else return u.lanes=a.lanes,Is(a,u,x)}return Xw(a,u,f,v,x)}function h_(a,u,f){var v=u.pendingProps,x=v.children,C=a!==null?a.memoizedState:null;if(v.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Uu,Rr),Rr|=f;else{if(!(f&1073741824))return a=C!==null?C.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,wt(Uu,Rr),Rr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:f,wt(Uu,Rr),Rr|=v}else C!==null?(v=C.baseLanes|f,u.memoizedState=null):v=f,wt(Uu,Rr),Rr|=v;return Wn(a,u,x,f),u.child}function f_(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function Xw(a,u,f,v,x){var C=ir(f)?Fa:In.current;return C=Mu(u,C),ju(u,x),f=Bw(a,u,f,v,C,x),v=zw(),a!==null&&!sr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~x,Is(a,u,x)):(kt&&v&&xw(u),u.flags|=1,Wn(a,u,f,x),u.child)}function p_(a,u,f,v,x){if(ir(f)){var C=!0;wg(u)}else C=!1;if(ju(u,x),u.stateNode===null)Fg(a,u),n_(u,f,v),Gw(u,f,v,x),v=!0;else if(a===null){var P=u.stateNode,B=u.memoizedProps;P.props=B;var $=P.context,Y=f.contextType;typeof Y=="object"&&Y!==null?Y=Yr(Y):(Y=ir(f)?Fa:In.current,Y=Mu(u,Y));var oe=f.getDerivedStateFromProps,ae=typeof oe=="function"||typeof P.getSnapshotBeforeUpdate=="function";ae||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==v||$!==Y)&&r_(u,P,v,Y),Do=!1;var se=u.memoizedState;P.state=se,kg(u,v,P,x),$=u.memoizedState,B!==v||se!==$||rr.current||Do?(typeof oe=="function"&&(Uw(u,f,oe,v),$=u.memoizedState),(B=Do||t_(u,f,B,v,se,$,Y))?(ae||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=$),P.props=v,P.state=$,P.context=Y,v=B):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{P=u.stateNode,TA(a,u),B=u.memoizedProps,Y=u.type===u.elementType?B:vi(u.type,B),P.props=Y,ae=u.pendingProps,se=P.context,$=f.contextType,typeof $=="object"&&$!==null?$=Yr($):($=ir(f)?Fa:In.current,$=Mu(u,$));var we=f.getDerivedStateFromProps;(oe=typeof we=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==ae||se!==$)&&r_(u,P,v,$),Do=!1,se=u.memoizedState,P.state=se,kg(u,v,P,x);var Ce=u.memoizedState;B!==ae||se!==Ce||rr.current||Do?(typeof we=="function"&&(Uw(u,f,we,v),Ce=u.memoizedState),(Y=Do||t_(u,f,Y,v,se,Ce,$)||!1)?(oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(v,Ce,$),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(v,Ce,$)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||B===a.memoizedProps&&se===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&se===a.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ce),P.props=v,P.state=Ce,P.context=$,v=Y):(typeof P.componentDidUpdate!="function"||B===a.memoizedProps&&se===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&se===a.memoizedState||(u.flags|=1024),v=!1)}return Kw(a,u,f,v,C,x)}function Kw(a,u,f,v,x,C){f_(a,u);var P=(u.flags&128)!==0;if(!v&&!P)return x&&wA(u,f,!1),Is(a,u,C);v=u.stateNode,MO.current=u;var B=P&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,a!==null&&P?(u.child=Bu(u,a.child,null,C),u.child=Bu(u,null,B,C)):Wn(a,u,B,C),u.memoizedState=v.state,x&&wA(u,f,!0),u.child}function g_(a){var u=a.stateNode;u.pendingContext?yA(a,u.pendingContext,u.pendingContext!==u.context):u.context&&yA(a,u.context,!1),Dw(a,u.containerInfo)}function m_(a,u,f,v,x){return Fu(),Aw(x),u.flags|=256,Wn(a,u,f,v),u.child}var Yw={dehydrated:null,treeContext:null,retryLane:0};function Qw(a){return{baseLanes:a,cachePool:null,transitions:null}}function y_(a,u,f){var v=u.pendingProps,x=Dt.current,C=!1,P=(u.flags&128)!==0,B;if((B=P)||(B=a!==null&&a.memoizedState===null?!1:(x&2)!==0),B?(C=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),wt(Dt,x&1),a===null)return Cw(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(P=v.children,a=v.fallback,C?(v=u.mode,C=u.child,P={mode:"hidden",children:P},!(v&1)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=Kg(P,v,0,null),a=qa(a,v,f,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=Qw(f),u.memoizedState=Yw,a):Jw(u,P));if(x=a.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return NO(a,u,P,v,B,x,f);if(C){C=v.fallback,P=u.mode,x=a.child,B=x.sibling;var $={mode:"hidden",children:v.children};return!(P&1)&&u.child!==x?(v=u.child,v.childLanes=0,v.pendingProps=$,u.deletions=null):(v=zo(x,$),v.subtreeFlags=x.subtreeFlags&14680064),B!==null?C=zo(B,C):(C=qa(C,P,f,null),C.flags|=2),C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,P=a.child.memoizedState,P=P===null?Qw(f):{baseLanes:P.baseLanes|f,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=a.childLanes&~f,u.memoizedState=Yw,v}return C=a.child,a=C.sibling,v=zo(C,{mode:"visible",children:v.children}),!(u.mode&1)&&(v.lanes=f),v.return=u,v.sibling=null,a!==null&&(f=u.deletions,f===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=v,u.memoizedState=null,v}function Jw(a,u){return u=Kg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Og(a,u,f,v){return v!==null&&Aw(v),Bu(u,a.child,null,f),a=Jw(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function NO(a,u,f,v,x,C,P){if(f)return u.flags&256?(u.flags&=-257,v=Ww(Error(t(422))),Og(a,u,P,v)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(C=v.fallback,x=u.mode,v=Kg({mode:"visible",children:v.children},x,0,null),C=qa(C,x,P,null),C.flags|=2,v.return=u,C.return=u,v.sibling=C,u.child=v,u.mode&1&&Bu(u,a.child,null,P),u.child.memoizedState=Qw(P),u.memoizedState=Yw,C);if(!(u.mode&1))return Og(a,u,P,null);if(x.data==="$!"){if(v=x.nextSibling&&x.nextSibling.dataset,v)var B=v.dgst;return v=B,C=Error(t(419)),v=Ww(C,v,void 0),Og(a,u,P,v)}if(B=(P&a.childLanes)!==0,sr||B){if(v=un,v!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=x&(v.suspendedLanes|P)?0:x,x!==0&&x!==C.retryLane&&(C.retryLane=x,Ps(a,x),xi(v,a,x,-1))}return pb(),v=Ww(Error(t(421))),Og(a,u,P,v)}return x.data==="$?"?(u.flags|=128,u.child=a.child,u=XO.bind(null,a),x._reactRetry=u,null):(a=C.treeContext,_r=ko(x.nextSibling),Ar=u,kt=!0,yi=null,a!==null&&(Xr[Kr++]=Rs,Xr[Kr++]=ks,Xr[Kr++]=Ba,Rs=a.id,ks=a.overflow,Ba=u),u=Jw(u,v.children),u.flags|=4096,u)}function v_(a,u,f){a.lanes|=u;var v=a.alternate;v!==null&&(v.lanes|=u),Pw(a.return,u,f)}function Zw(a,u,f,v,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:x}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=f,C.tailMode=x)}function w_(a,u,f){var v=u.pendingProps,x=v.revealOrder,C=v.tail;if(Wn(a,u,v.children,f),v=Dt.current,v&2)v=v&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&v_(a,f,u);else if(a.tag===19)v_(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(wt(Dt,v),!(u.mode&1))u.memoizedState=null;else switch(x){case"forwards":for(f=u.child,x=null;f!==null;)a=f.alternate,a!==null&&Pg(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=u.child,u.child=null):(x=f.sibling,f.sibling=null),Zw(u,!1,x,f,C);break;case"backwards":for(f=null,x=u.child,u.child=null;x!==null;){if(a=x.alternate,a!==null&&Pg(a)===null){u.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}Zw(u,!0,f,null,C);break;case"together":Zw(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Fg(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Is(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),Va|=u.lanes,!(f&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,f=zo(a,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,f=f.sibling=zo(a,a.pendingProps),f.return=u;f.sibling=null}return u.child}function OO(a,u,f){switch(u.tag){case 3:g_(u),Fu();break;case 5:LA(u);break;case 1:ir(u.type)&&wg(u);break;case 4:Dw(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,x=u.memoizedProps.value;wt(Ag,v._currentValue),v._currentValue=x;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(wt(Dt,Dt.current&1),u.flags|=128,null):f&u.child.childLanes?y_(a,u,f):(wt(Dt,Dt.current&1),a=Is(a,u,f),a!==null?a.sibling:null);wt(Dt,Dt.current&1);break;case 19:if(v=(f&u.childLanes)!==0,a.flags&128){if(v)return w_(a,u,f);u.flags|=128}if(x=u.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),wt(Dt,Dt.current),v)break;return null;case 22:case 23:return u.lanes=0,h_(a,u,f)}return Is(a,u,f)}var b_,eb,x_,S_;b_=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},eb=function(){},x_=function(a,u,f,v){var x=a.memoizedProps;if(x!==v){a=u.stateNode,$a(Yi.current);var C=null;switch(f){case"input":x=vt(a,x),v=vt(a,v),C=[];break;case"select":x=M({},x,{value:void 0}),v=M({},v,{value:void 0}),C=[];break;case"textarea":x=La(a,x),v=La(a,v),C=[];break;default:typeof x.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=mg)}xn(f,v);var P;f=null;for(Y in x)if(!v.hasOwnProperty(Y)&&x.hasOwnProperty(Y)&&x[Y]!=null)if(Y==="style"){var B=x[Y];for(P in B)B.hasOwnProperty(P)&&(f||(f={}),f[P]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?C||(C=[]):(C=C||[]).push(Y,null));for(Y in v){var $=v[Y];if(B=x!=null?x[Y]:void 0,v.hasOwnProperty(Y)&&$!==B&&($!=null||B!=null))if(Y==="style")if(B){for(P in B)!B.hasOwnProperty(P)||$&&$.hasOwnProperty(P)||(f||(f={}),f[P]="");for(P in $)$.hasOwnProperty(P)&&B[P]!==$[P]&&(f||(f={}),f[P]=$[P])}else f||(C||(C=[]),C.push(Y,f)),f=$;else Y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,B=B?B.__html:void 0,$!=null&&B!==$&&(C=C||[]).push(Y,$)):Y==="children"?typeof $!="string"&&typeof $!="number"||(C=C||[]).push(Y,""+$):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?($!=null&&Y==="onScroll"&&Et("scroll",a),C||B===$||(C=[])):(C=C||[]).push(Y,$))}f&&(C=C||[]).push("style",f);var Y=C;(u.updateQueue=Y)&&(u.flags|=4)}},S_=function(a,u,f,v){f!==v&&(u.flags|=4)};function sh(a,u){if(!kt)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Ln(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,v=0;if(u)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,v|=x.subtreeFlags&14680064,v|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=v,a.childLanes=f,u}function FO(a,u,f){var v=u.pendingProps;switch(Sw(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(u),null;case 1:return ir(u.type)&&vg(),Ln(u),null;case 3:return v=u.stateNode,$u(),Ct(rr),Ct(In),Nw(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Eg(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,yi!==null&&(db(yi),yi=null))),eb(a,u),Ln(u),null;case 5:Lw(u);var x=$a(eh.current);if(f=u.type,a!==null&&u.stateNode!=null)x_(a,u,f,v,x),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(t(166));return Ln(u),null}if(a=$a(Yi.current),Eg(u)){v=u.stateNode,f=u.type;var C=u.memoizedProps;switch(v[Ki]=u,v[Kd]=C,a=(u.mode&1)!==0,f){case"dialog":Et("cancel",v),Et("close",v);break;case"iframe":case"object":case"embed":Et("load",v);break;case"video":case"audio":for(x=0;x<Wd.length;x++)Et(Wd[x],v);break;case"source":Et("error",v);break;case"img":case"image":case"link":Et("error",v),Et("load",v);break;case"details":Et("toggle",v);break;case"input":zt(v,C),Et("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Et("invalid",v);break;case"textarea":bu(v,C),Et("invalid",v)}xn(f,C),x=null;for(var P in C)if(C.hasOwnProperty(P)){var B=C[P];P==="children"?typeof B=="string"?v.textContent!==B&&(C.suppressHydrationWarning!==!0&&gg(v.textContent,B,a),x=["children",B]):typeof B=="number"&&v.textContent!==""+B&&(C.suppressHydrationWarning!==!0&&gg(v.textContent,B,a),x=["children",""+B]):i.hasOwnProperty(P)&&B!=null&&P==="onScroll"&&Et("scroll",v)}switch(f){case"input":Tn(v),Gi(v,C,!0);break;case"textarea":Tn(v),Su(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=mg)}v=x,u.updateQueue=v,v!==null&&(u.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=te(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=P.createElement(f,{is:v.is}):(a=P.createElement(f),f==="select"&&(P=a,v.multiple?P.multiple=!0:v.size&&(P.size=v.size))):a=P.createElementNS(a,f),a[Ki]=u,a[Kd]=v,b_(a,u,!1,!1),u.stateNode=a;e:{switch(P=qi(f,v),f){case"dialog":Et("cancel",a),Et("close",a),x=v;break;case"iframe":case"object":case"embed":Et("load",a),x=v;break;case"video":case"audio":for(x=0;x<Wd.length;x++)Et(Wd[x],a);x=v;break;case"source":Et("error",a),x=v;break;case"img":case"image":case"link":Et("error",a),Et("load",a),x=v;break;case"details":Et("toggle",a),x=v;break;case"input":zt(a,v),x=vt(a,v),Et("invalid",a);break;case"option":x=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},x=M({},v,{value:void 0}),Et("invalid",a);break;case"textarea":bu(a,v),x=La(a,v),Et("invalid",a);break;default:x=v}xn(f,x),B=x;for(C in B)if(B.hasOwnProperty(C)){var $=B[C];C==="style"?xo(a,$):C==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ue(a,$)):C==="children"?typeof $=="string"?(f!=="textarea"||$!=="")&&et(a,$):typeof $=="number"&&et(a,""+$):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?$!=null&&C==="onScroll"&&Et("scroll",a):$!=null&&R(a,C,$,P))}switch(f){case"input":Tn(a),Gi(a,v,!1);break;case"textarea":Tn(a),Su(a);break;case"option":v.value!=null&&a.setAttribute("value",""+Te(v.value));break;case"select":a.multiple=!!v.multiple,C=v.value,C!=null?Sr(a,!!v.multiple,C,!1):v.defaultValue!=null&&Sr(a,!!v.multiple,v.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=mg)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ln(u),null;case 6:if(a&&u.stateNode!=null)S_(a,u,a.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(t(166));if(f=$a(eh.current),$a(Yi.current),Eg(u)){if(v=u.stateNode,f=u.memoizedProps,v[Ki]=u,(C=v.nodeValue!==f)&&(a=Ar,a!==null))switch(a.tag){case 3:gg(v.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&gg(v.nodeValue,f,(a.mode&1)!==0)}C&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Ki]=u,u.stateNode=v}return Ln(u),null;case 13:if(Ct(Dt),v=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(kt&&_r!==null&&u.mode&1&&!(u.flags&128))AA(),Fu(),u.flags|=98560,C=!1;else if(C=Eg(u),v!==null&&v.dehydrated!==null){if(a===null){if(!C)throw Error(t(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Ki]=u}else Fu(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Ln(u),C=!1}else yi!==null&&(db(yi),yi=null),C=!0;if(!C)return u.flags&65536?u:null}return u.flags&128?(u.lanes=f,u):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(u.child.flags|=8192,u.mode&1&&(a===null||Dt.current&1?en===0&&(en=3):pb())),u.updateQueue!==null&&(u.flags|=4),Ln(u),null);case 4:return $u(),eb(a,u),a===null&&qd(u.stateNode.containerInfo),Ln(u),null;case 10:return kw(u.type._context),Ln(u),null;case 17:return ir(u.type)&&vg(),Ln(u),null;case 19:if(Ct(Dt),C=u.memoizedState,C===null)return Ln(u),null;if(v=(u.flags&128)!==0,P=C.rendering,P===null)if(v)sh(C,!1);else{if(en!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(P=Pg(a),P!==null){for(u.flags|=128,sh(C,!1),v=P.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)C=f,a=v,C.flags&=14680066,P=C.alternate,P===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=P.childLanes,C.lanes=P.lanes,C.child=P.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=P.memoizedProps,C.memoizedState=P.memoizedState,C.updateQueue=P.updateQueue,C.type=P.type,a=P.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return wt(Dt,Dt.current&1|2),u.child}a=a.sibling}C.tail!==null&&Vt()>Gu&&(u.flags|=128,v=!0,sh(C,!1),u.lanes=4194304)}else{if(!v)if(a=Pg(P),a!==null){if(u.flags|=128,v=!0,f=a.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),sh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!P.alternate&&!kt)return Ln(u),null}else 2*Vt()-C.renderingStartTime>Gu&&f!==1073741824&&(u.flags|=128,v=!0,sh(C,!1),u.lanes=4194304);C.isBackwards?(P.sibling=u.child,u.child=P):(f=C.last,f!==null?f.sibling=P:u.child=P,C.last=P)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=Vt(),u.sibling=null,f=Dt.current,wt(Dt,v?f&1|2:f&1),u):(Ln(u),null);case 22:case 23:return fb(),v=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(u.flags|=8192),v&&u.mode&1?Rr&1073741824&&(Ln(u),u.subtreeFlags&6&&(u.flags|=8192)):Ln(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function BO(a,u){switch(Sw(u),u.tag){case 1:return ir(u.type)&&vg(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return $u(),Ct(rr),Ct(In),Nw(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Lw(u),null;case 13:if(Ct(Dt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));Fu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Ct(Dt),null;case 4:return $u(),null;case 10:return kw(u.type._context),null;case 22:case 23:return fb(),null;case 24:return null;default:return null}}var Bg=!1,Mn=!1,zO=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Vu(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){jt(a,u,v)}else f.current=null}function tb(a,u,f){try{f()}catch(v){jt(a,u,v)}}var E_=!1;function jO(a,u){if(fw=ig,a=tA(),sw(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var x=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var P=0,B=-1,$=-1,Y=0,oe=0,ae=a,se=null;t:for(;;){for(var we;ae!==f||x!==0&&ae.nodeType!==3||(B=P+x),ae!==C||v!==0&&ae.nodeType!==3||($=P+v),ae.nodeType===3&&(P+=ae.nodeValue.length),(we=ae.firstChild)!==null;)se=ae,ae=we;for(;;){if(ae===a)break t;if(se===f&&++Y===x&&(B=P),se===C&&++oe===v&&($=P),(we=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=we}f=B===-1||$===-1?null:{start:B,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(pw={focusedElem:a,selectionRange:f},ig=!1,Ee=u;Ee!==null;)if(u=Ee,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ee=a;else for(;Ee!==null;){u=Ee;try{var Ce=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ae=Ce.memoizedProps,Ut=Ce.memoizedState,G=u.stateNode,H=G.getSnapshotBeforeUpdate(u.elementType===u.type?Ae:vi(u.type,Ae),Ut);G.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var q=u.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){jt(u,u.return,de)}if(a=u.sibling,a!==null){a.return=u.return,Ee=a;break}Ee=u.return}return Ce=E_,E_=!1,Ce}function oh(a,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var x=v=v.next;do{if((x.tag&a)===a){var C=x.destroy;x.destroy=void 0,C!==void 0&&tb(u,f,C)}x=x.next}while(x!==v)}}function zg(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&a)===a){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function nb(a){var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof u=="function"?u(a):u.current=a}}function C_(a){var u=a.alternate;u!==null&&(a.alternate=null,C_(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Ki],delete u[Kd],delete u[vw],delete u[SO],delete u[EO])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function A_(a){return a.tag===5||a.tag===3||a.tag===4}function __(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||A_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function rb(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(a,u):f.insertBefore(a,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(a,f)):(u=f,u.appendChild(a)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=mg));else if(v!==4&&(a=a.child,a!==null))for(rb(a,u,f),a=a.sibling;a!==null;)rb(a,u,f),a=a.sibling}function ib(a,u,f){var v=a.tag;if(v===5||v===6)a=a.stateNode,u?f.insertBefore(a,u):f.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(ib(a,u,f),a=a.sibling;a!==null;)ib(a,u,f),a=a.sibling}var Sn=null,wi=!1;function Mo(a,u,f){for(f=f.child;f!==null;)R_(a,u,f),f=f.sibling}function R_(a,u,f){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(Jp,f)}catch{}switch(f.tag){case 5:Mn||Vu(f,u);case 6:var v=Sn,x=wi;Sn=null,Mo(a,u,f),Sn=v,wi=x,Sn!==null&&(wi?(a=Sn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Sn.removeChild(f.stateNode));break;case 18:Sn!==null&&(wi?(a=Sn,f=f.stateNode,a.nodeType===8?yw(a.parentNode,f):a.nodeType===1&&yw(a,f),Bd(a)):yw(Sn,f.stateNode));break;case 4:v=Sn,x=wi,Sn=f.stateNode.containerInfo,wi=!0,Mo(a,u,f),Sn=v,wi=x;break;case 0:case 11:case 14:case 15:if(!Mn&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){x=v=v.next;do{var C=x,P=C.destroy;C=C.tag,P!==void 0&&(C&2||C&4)&&tb(f,u,P),x=x.next}while(x!==v)}Mo(a,u,f);break;case 1:if(!Mn&&(Vu(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(B){jt(f,u,B)}Mo(a,u,f);break;case 21:Mo(a,u,f);break;case 22:f.mode&1?(Mn=(v=Mn)||f.memoizedState!==null,Mo(a,u,f),Mn=v):Mo(a,u,f);break;default:Mo(a,u,f)}}function k_(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new zO),u.forEach(function(v){var x=KO.bind(null,a,v);f.has(v)||(f.add(v),v.then(x,x))})}}function bi(a,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var x=f[v];try{var C=a,P=u,B=P;e:for(;B!==null;){switch(B.tag){case 5:Sn=B.stateNode,wi=!1;break e;case 3:Sn=B.stateNode.containerInfo,wi=!0;break e;case 4:Sn=B.stateNode.containerInfo,wi=!0;break e}B=B.return}if(Sn===null)throw Error(t(160));R_(C,P,x),Sn=null,wi=!1;var $=x.alternate;$!==null&&($.return=null),x.return=null}catch(Y){jt(x,u,Y)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)P_(u,a),u=u.sibling}function P_(a,u){var f=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(bi(u,a),Ji(a),v&4){try{oh(3,a,a.return),zg(3,a)}catch(Ae){jt(a,a.return,Ae)}try{oh(5,a,a.return)}catch(Ae){jt(a,a.return,Ae)}}break;case 1:bi(u,a),Ji(a),v&512&&f!==null&&Vu(f,f.return);break;case 5:if(bi(u,a),Ji(a),v&512&&f!==null&&Vu(f,f.return),a.flags&32){var x=a.stateNode;try{et(x,"")}catch(Ae){jt(a,a.return,Ae)}}if(v&4&&(x=a.stateNode,x!=null)){var C=a.memoizedProps,P=f!==null?f.memoizedProps:C,B=a.type,$=a.updateQueue;if(a.updateQueue=null,$!==null)try{B==="input"&&C.type==="radio"&&C.name!=null&&Rt(x,C),qi(B,P);var Y=qi(B,C);for(P=0;P<$.length;P+=2){var oe=$[P],ae=$[P+1];oe==="style"?xo(x,ae):oe==="dangerouslySetInnerHTML"?Ue(x,ae):oe==="children"?et(x,ae):R(x,oe,ae,Y)}switch(B){case"input":xr(x,C);break;case"textarea":xu(x,C);break;case"select":var se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!C.multiple;var we=C.value;we!=null?Sr(x,!!C.multiple,we,!1):se!==!!C.multiple&&(C.defaultValue!=null?Sr(x,!!C.multiple,C.defaultValue,!0):Sr(x,!!C.multiple,C.multiple?[]:"",!1))}x[Kd]=C}catch(Ae){jt(a,a.return,Ae)}}break;case 6:if(bi(u,a),Ji(a),v&4){if(a.stateNode===null)throw Error(t(162));x=a.stateNode,C=a.memoizedProps;try{x.nodeValue=C}catch(Ae){jt(a,a.return,Ae)}}break;case 3:if(bi(u,a),Ji(a),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Bd(u.containerInfo)}catch(Ae){jt(a,a.return,Ae)}break;case 4:bi(u,a),Ji(a);break;case 13:bi(u,a),Ji(a),x=a.child,x.flags&8192&&(C=x.memoizedState!==null,x.stateNode.isHidden=C,!C||x.alternate!==null&&x.alternate.memoizedState!==null||(ab=Vt())),v&4&&k_(a);break;case 22:if(oe=f!==null&&f.memoizedState!==null,a.mode&1?(Mn=(Y=Mn)||oe,bi(u,a),Mn=Y):bi(u,a),Ji(a),v&8192){if(Y=a.memoizedState!==null,(a.stateNode.isHidden=Y)&&!oe&&a.mode&1)for(Ee=a,oe=a.child;oe!==null;){for(ae=Ee=oe;Ee!==null;){switch(se=Ee,we=se.child,se.tag){case 0:case 11:case 14:case 15:oh(4,se,se.return);break;case 1:Vu(se,se.return);var Ce=se.stateNode;if(typeof Ce.componentWillUnmount=="function"){v=se,f=se.return;try{u=v,Ce.props=u.memoizedProps,Ce.state=u.memoizedState,Ce.componentWillUnmount()}catch(Ae){jt(v,f,Ae)}}break;case 5:Vu(se,se.return);break;case 22:if(se.memoizedState!==null){D_(ae);continue}}we!==null?(we.return=se,Ee=we):D_(ae)}oe=oe.sibling}e:for(oe=null,ae=a;;){if(ae.tag===5){if(oe===null){oe=ae;try{x=ae.stateNode,Y?(C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(B=ae.stateNode,$=ae.memoizedProps.style,P=$!=null&&$.hasOwnProperty("display")?$.display:null,B.style.display=qr("display",P))}catch(Ae){jt(a,a.return,Ae)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(Ae){jt(a,a.return,Ae)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===a)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===a)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===a)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:bi(u,a),Ji(a),v&4&&k_(a);break;case 21:break;default:bi(u,a),Ji(a)}}function Ji(a){var u=a.flags;if(u&2){try{e:{for(var f=a.return;f!==null;){if(A_(f)){var v=f;break e}f=f.return}throw Error(t(160))}switch(v.tag){case 5:var x=v.stateNode;v.flags&32&&(et(x,""),v.flags&=-33);var C=__(a);ib(a,C,x);break;case 3:case 4:var P=v.stateNode.containerInfo,B=__(a);rb(a,B,P);break;default:throw Error(t(161))}}catch($){jt(a,a.return,$)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function $O(a,u,f){Ee=a,T_(a)}function T_(a,u,f){for(var v=(a.mode&1)!==0;Ee!==null;){var x=Ee,C=x.child;if(x.tag===22&&v){var P=x.memoizedState!==null||Bg;if(!P){var B=x.alternate,$=B!==null&&B.memoizedState!==null||Mn;B=Bg;var Y=Mn;if(Bg=P,(Mn=$)&&!Y)for(Ee=x;Ee!==null;)P=Ee,$=P.child,P.tag===22&&P.memoizedState!==null?L_(x):$!==null?($.return=P,Ee=$):L_(x);for(;C!==null;)Ee=C,T_(C),C=C.sibling;Ee=x,Bg=B,Mn=Y}I_(a)}else x.subtreeFlags&8772&&C!==null?(C.return=x,Ee=C):I_(a)}}function I_(a){for(;Ee!==null;){var u=Ee;if(u.flags&8772){var f=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:Mn||zg(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Mn)if(f===null)v.componentDidMount();else{var x=u.elementType===u.type?f.memoizedProps:vi(u.type,f.memoizedProps);v.componentDidUpdate(x,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&DA(u,C,v);break;case 3:var P=u.updateQueue;if(P!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}DA(u,P,f)}break;case 5:var B=u.stateNode;if(f===null&&u.flags&4){f=B;var $=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&f.focus();break;case"img":$.src&&(f.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Y=u.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Bd(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mn||u.flags&512&&nb(u)}catch(se){jt(u,u.return,se)}}if(u===a){Ee=null;break}if(f=u.sibling,f!==null){f.return=u.return,Ee=f;break}Ee=u.return}}function D_(a){for(;Ee!==null;){var u=Ee;if(u===a){Ee=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Ee=f;break}Ee=u.return}}function L_(a){for(;Ee!==null;){var u=Ee;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{zg(4,u)}catch($){jt(u,f,$)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch($){jt(u,x,$)}}var C=u.return;try{nb(u)}catch($){jt(u,C,$)}break;case 5:var P=u.return;try{nb(u)}catch($){jt(u,P,$)}}}catch($){jt(u,u.return,$)}if(u===a){Ee=null;break}var B=u.sibling;if(B!==null){B.return=u.return,Ee=B;break}Ee=u.return}}var HO=Math.ceil,jg=I.ReactCurrentDispatcher,sb=I.ReactCurrentOwner,Jr=I.ReactCurrentBatchConfig,it=0,un=null,qt=null,En=0,Rr=0,Uu=Po(0),en=0,ah=null,Va=0,$g=0,ob=0,lh=null,or=null,ab=0,Gu=1/0,Ds=null,Hg=!1,lb=null,No=null,Vg=!1,Oo=null,Ug=0,uh=0,ub=null,Gg=-1,Wg=0;function qn(){return it&6?Vt():Gg!==-1?Gg:Gg=Vt()}function Fo(a){return a.mode&1?it&2&&En!==0?En&-En:AO.transition!==null?(Wg===0&&(Wg=_C()),Wg):(a=dt,a!==0||(a=window.event,a=a===void 0?16:NC(a.type)),a):1}function xi(a,u,f,v){if(50<uh)throw uh=0,ub=null,Error(t(185));Ld(a,f,v),(!(it&2)||a!==un)&&(a===un&&(!(it&2)&&($g|=f),en===4&&Bo(a,En)),ar(a,v),f===1&&it===0&&!(u.mode&1)&&(Gu=Vt()+500,bg&&Io()))}function ar(a,u){var f=a.callbackNode;AN(a,u);var v=tg(a,a===un?En:0);if(v===0)f!==null&&EC(f),a.callbackNode=null,a.callbackPriority=0;else if(u=v&-v,a.callbackPriority!==u){if(f!=null&&EC(f),u===1)a.tag===0?CO(N_.bind(null,a)):bA(N_.bind(null,a)),bO(function(){!(it&6)&&Io()}),f=null;else{switch(RC(v)){case 1:f=Hv;break;case 4:f=CC;break;case 16:f=Qp;break;case 536870912:f=AC;break;default:f=Qp}f=V_(f,M_.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function M_(a,u){if(Gg=-1,Wg=0,it&6)throw Error(t(327));var f=a.callbackNode;if(Wu()&&a.callbackNode!==f)return null;var v=tg(a,a===un?En:0);if(v===0)return null;if(v&30||v&a.expiredLanes||u)u=qg(a,v);else{u=v;var x=it;it|=2;var C=F_();(un!==a||En!==u)&&(Ds=null,Gu=Vt()+500,Ga(a,u));do try{GO();break}catch(B){O_(a,B)}while(!0);Rw(),jg.current=C,it=x,qt!==null?u=0:(un=null,En=0,u=en)}if(u!==0){if(u===2&&(x=Vv(a),x!==0&&(v=x,u=cb(a,x))),u===1)throw f=ah,Ga(a,0),Bo(a,v),ar(a,Vt()),f;if(u===6)Bo(a,v);else{if(x=a.current.alternate,!(v&30)&&!VO(x)&&(u=qg(a,v),u===2&&(C=Vv(a),C!==0&&(v=C,u=cb(a,C))),u===1))throw f=ah,Ga(a,0),Bo(a,v),ar(a,Vt()),f;switch(a.finishedWork=x,a.finishedLanes=v,u){case 0:case 1:throw Error(t(345));case 2:Wa(a,or,Ds);break;case 3:if(Bo(a,v),(v&130023424)===v&&(u=ab+500-Vt(),10<u)){if(tg(a,0)!==0)break;if(x=a.suspendedLanes,(x&v)!==v){qn(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=mw(Wa.bind(null,a,or,Ds),u);break}Wa(a,or,Ds);break;case 4:if(Bo(a,v),(v&4194240)===v)break;for(u=a.eventTimes,x=-1;0<v;){var P=31-gi(v);C=1<<P,P=u[P],P>x&&(x=P),v&=~C}if(v=x,v=Vt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*HO(v/1960))-v,10<v){a.timeoutHandle=mw(Wa.bind(null,a,or,Ds),v);break}Wa(a,or,Ds);break;case 5:Wa(a,or,Ds);break;default:throw Error(t(329))}}}return ar(a,Vt()),a.callbackNode===f?M_.bind(null,a):null}function cb(a,u){var f=lh;return a.current.memoizedState.isDehydrated&&(Ga(a,u).flags|=256),a=qg(a,u),a!==2&&(u=or,or=f,u!==null&&db(u)),a}function db(a){or===null?or=a:or.push.apply(or,a)}function VO(a){for(var u=a;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var x=f[v],C=x.getSnapshot;x=x.value;try{if(!mi(C(),x))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Bo(a,u){for(u&=~ob,u&=~$g,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-gi(u),v=1<<f;a[f]=-1,u&=~v}}function N_(a){if(it&6)throw Error(t(327));Wu();var u=tg(a,0);if(!(u&1))return ar(a,Vt()),null;var f=qg(a,u);if(a.tag!==0&&f===2){var v=Vv(a);v!==0&&(u=v,f=cb(a,v))}if(f===1)throw f=ah,Ga(a,0),Bo(a,u),ar(a,Vt()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Wa(a,or,Ds),ar(a,Vt()),null}function hb(a,u){var f=it;it|=1;try{return a(u)}finally{it=f,it===0&&(Gu=Vt()+500,bg&&Io())}}function Ua(a){Oo!==null&&Oo.tag===0&&!(it&6)&&Wu();var u=it;it|=1;var f=Jr.transition,v=dt;try{if(Jr.transition=null,dt=1,a)return a()}finally{dt=v,Jr.transition=f,it=u,!(it&6)&&Io()}}function fb(){Rr=Uu.current,Ct(Uu)}function Ga(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,wO(f)),qt!==null)for(f=qt.return;f!==null;){var v=f;switch(Sw(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&vg();break;case 3:$u(),Ct(rr),Ct(In),Nw();break;case 5:Lw(v);break;case 4:$u();break;case 13:Ct(Dt);break;case 19:Ct(Dt);break;case 10:kw(v.type._context);break;case 22:case 23:fb()}f=f.return}if(un=a,qt=a=zo(a.current,null),En=Rr=u,en=0,ah=null,ob=$g=Va=0,or=lh=null,ja!==null){for(u=0;u<ja.length;u++)if(f=ja[u],v=f.interleaved,v!==null){f.interleaved=null;var x=v.next,C=f.pending;if(C!==null){var P=C.next;C.next=x,v.next=P}f.pending=v}ja=null}return a}function O_(a,u){do{var f=qt;try{if(Rw(),Tg.current=Mg,Ig){for(var v=Lt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}Ig=!1}if(Ha=0,ln=Zt=Lt=null,th=!1,nh=0,sb.current=null,f===null||f.return===null){en=1,ah=u,qt=null;break}e:{var C=a,P=f.return,B=f,$=u;if(u=En,B.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Y=$,oe=B,ae=oe.tag;if(!(oe.mode&1)&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var we=a_(P);if(we!==null){we.flags&=-257,l_(we,P,B,C,u),we.mode&1&&o_(C,Y,u),u=we,$=Y;var Ce=u.updateQueue;if(Ce===null){var Ae=new Set;Ae.add($),u.updateQueue=Ae}else Ce.add($);break e}else{if(!(u&1)){o_(C,Y,u),pb();break e}$=Error(t(426))}}else if(kt&&B.mode&1){var Ut=a_(P);if(Ut!==null){!(Ut.flags&65536)&&(Ut.flags|=256),l_(Ut,P,B,C,u),Aw(Hu($,B));break e}}C=$=Hu($,B),en!==4&&(en=2),lh===null?lh=[C]:lh.push(C),C=P;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u;var G=i_(C,$,u);IA(C,G);break e;case 1:B=$;var H=C.type,q=C.stateNode;if(!(C.flags&128)&&(typeof H.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(No===null||!No.has(q)))){C.flags|=65536,u&=-u,C.lanes|=u;var de=s_(C,B,u);IA(C,de);break e}}C=C.return}while(C!==null)}z_(f)}catch(_e){u=_e,qt===f&&f!==null&&(qt=f=f.return);continue}break}while(!0)}function F_(){var a=jg.current;return jg.current=Mg,a===null?Mg:a}function pb(){(en===0||en===3||en===2)&&(en=4),un===null||!(Va&268435455)&&!($g&268435455)||Bo(un,En)}function qg(a,u){var f=it;it|=2;var v=F_();(un!==a||En!==u)&&(Ds=null,Ga(a,u));do try{UO();break}catch(x){O_(a,x)}while(!0);if(Rw(),it=f,jg.current=v,qt!==null)throw Error(t(261));return un=null,En=0,en}function UO(){for(;qt!==null;)B_(qt)}function GO(){for(;qt!==null&&!mN();)B_(qt)}function B_(a){var u=H_(a.alternate,a,Rr);a.memoizedProps=a.pendingProps,u===null?z_(a):qt=u,sb.current=null}function z_(a){var u=a;do{var f=u.alternate;if(a=u.return,u.flags&32768){if(f=BO(f,u),f!==null){f.flags&=32767,qt=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{en=6,qt=null;return}}else if(f=FO(f,u,Rr),f!==null){qt=f;return}if(u=u.sibling,u!==null){qt=u;return}qt=u=a}while(u!==null);en===0&&(en=5)}function Wa(a,u,f){var v=dt,x=Jr.transition;try{Jr.transition=null,dt=1,WO(a,u,f,v)}finally{Jr.transition=x,dt=v}return null}function WO(a,u,f,v){do Wu();while(Oo!==null);if(it&6)throw Error(t(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var C=f.lanes|f.childLanes;if(_N(a,C),a===un&&(qt=un=null,En=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Vg||(Vg=!0,V_(Qp,function(){return Wu(),null})),C=(f.flags&15990)!==0,f.subtreeFlags&15990||C){C=Jr.transition,Jr.transition=null;var P=dt;dt=1;var B=it;it|=4,sb.current=null,jO(a,f),P_(f,a),hO(pw),ig=!!fw,pw=fw=null,a.current=f,$O(f),yN(),it=B,dt=P,Jr.transition=C}else a.current=f;if(Vg&&(Vg=!1,Oo=a,Ug=x),C=a.pendingLanes,C===0&&(No=null),bN(f.stateNode),ar(a,Vt()),u!==null)for(v=a.onRecoverableError,f=0;f<u.length;f++)x=u[f],v(x.value,{componentStack:x.stack,digest:x.digest});if(Hg)throw Hg=!1,a=lb,lb=null,a;return Ug&1&&a.tag!==0&&Wu(),C=a.pendingLanes,C&1?a===ub?uh++:(uh=0,ub=a):uh=0,Io(),null}function Wu(){if(Oo!==null){var a=RC(Ug),u=Jr.transition,f=dt;try{if(Jr.transition=null,dt=16>a?16:a,Oo===null)var v=!1;else{if(a=Oo,Oo=null,Ug=0,it&6)throw Error(t(331));var x=it;for(it|=4,Ee=a.current;Ee!==null;){var C=Ee,P=C.child;if(Ee.flags&16){var B=C.deletions;if(B!==null){for(var $=0;$<B.length;$++){var Y=B[$];for(Ee=Y;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:oh(8,oe,C)}var ae=oe.child;if(ae!==null)ae.return=oe,Ee=ae;else for(;Ee!==null;){oe=Ee;var se=oe.sibling,we=oe.return;if(C_(oe),oe===Y){Ee=null;break}if(se!==null){se.return=we,Ee=se;break}Ee=we}}}var Ce=C.alternate;if(Ce!==null){var Ae=Ce.child;if(Ae!==null){Ce.child=null;do{var Ut=Ae.sibling;Ae.sibling=null,Ae=Ut}while(Ae!==null)}}Ee=C}}if(C.subtreeFlags&2064&&P!==null)P.return=C,Ee=P;else e:for(;Ee!==null;){if(C=Ee,C.flags&2048)switch(C.tag){case 0:case 11:case 15:oh(9,C,C.return)}var G=C.sibling;if(G!==null){G.return=C.return,Ee=G;break e}Ee=C.return}}var H=a.current;for(Ee=H;Ee!==null;){P=Ee;var q=P.child;if(P.subtreeFlags&2064&&q!==null)q.return=P,Ee=q;else e:for(P=H;Ee!==null;){if(B=Ee,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:zg(9,B)}}catch(_e){jt(B,B.return,_e)}if(B===P){Ee=null;break e}var de=B.sibling;if(de!==null){de.return=B.return,Ee=de;break e}Ee=B.return}}if(it=x,Io(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(Jp,a)}catch{}v=!0}return v}finally{dt=f,Jr.transition=u}}return!1}function j_(a,u,f){u=Hu(f,u),u=i_(a,u,1),a=Lo(a,u,1),u=qn(),a!==null&&(Ld(a,1,u),ar(a,u))}function jt(a,u,f){if(a.tag===3)j_(a,a,f);else for(;u!==null;){if(u.tag===3){j_(u,a,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(No===null||!No.has(v))){a=Hu(f,a),a=s_(u,a,1),u=Lo(u,a,1),a=qn(),u!==null&&(Ld(u,1,a),ar(u,a));break}}u=u.return}}function qO(a,u,f){var v=a.pingCache;v!==null&&v.delete(u),u=qn(),a.pingedLanes|=a.suspendedLanes&f,un===a&&(En&f)===f&&(en===4||en===3&&(En&130023424)===En&&500>Vt()-ab?Ga(a,0):ob|=f),ar(a,u)}function $_(a,u){u===0&&(a.mode&1?(u=eg,eg<<=1,!(eg&130023424)&&(eg=4194304)):u=1);var f=qn();a=Ps(a,u),a!==null&&(Ld(a,u,f),ar(a,f))}function XO(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),$_(a,f)}function KO(a,u){var f=0;switch(a.tag){case 13:var v=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(u),$_(a,f)}var H_;H_=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||rr.current)sr=!0;else{if(!(a.lanes&f)&&!(u.flags&128))return sr=!1,OO(a,u,f);sr=!!(a.flags&131072)}else sr=!1,kt&&u.flags&1048576&&xA(u,Sg,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Fg(a,u),a=u.pendingProps;var x=Mu(u,In.current);ju(u,f),x=Bw(null,u,v,a,x,f);var C=zw();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,ir(v)?(C=!0,wg(u)):C=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Iw(u),x.updater=Ng,u.stateNode=x,x._reactInternals=u,Gw(u,v,a,f),u=Kw(null,u,v,!0,C,f)):(u.tag=0,kt&&C&&xw(u),Wn(null,u,x,f),u=u.child),u;case 16:v=u.elementType;e:{switch(Fg(a,u),a=u.pendingProps,x=v._init,v=x(v._payload),u.type=v,x=u.tag=QO(v),a=vi(v,a),x){case 0:u=Xw(null,u,v,a,f);break e;case 1:u=p_(null,u,v,a,f);break e;case 11:u=u_(null,u,v,a,f);break e;case 14:u=c_(null,u,v,vi(v.type,a),f);break e}throw Error(t(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:vi(v,x),Xw(a,u,v,x,f);case 1:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:vi(v,x),p_(a,u,v,x,f);case 3:e:{if(g_(u),a===null)throw Error(t(387));v=u.pendingProps,C=u.memoizedState,x=C.element,TA(a,u),kg(u,v,null,f);var P=u.memoizedState;if(v=P.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){x=Hu(Error(t(423)),u),u=m_(a,u,v,f,x);break e}else if(v!==x){x=Hu(Error(t(424)),u),u=m_(a,u,v,f,x);break e}else for(_r=ko(u.stateNode.containerInfo.firstChild),Ar=u,kt=!0,yi=null,f=kA(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Fu(),v===x){u=Is(a,u,f);break e}Wn(a,u,v,f)}u=u.child}return u;case 5:return LA(u),a===null&&Cw(u),v=u.type,x=u.pendingProps,C=a!==null?a.memoizedProps:null,P=x.children,gw(v,x)?P=null:C!==null&&gw(v,C)&&(u.flags|=32),f_(a,u),Wn(a,u,P,f),u.child;case 6:return a===null&&Cw(u),null;case 13:return y_(a,u,f);case 4:return Dw(u,u.stateNode.containerInfo),v=u.pendingProps,a===null?u.child=Bu(u,null,v,f):Wn(a,u,v,f),u.child;case 11:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:vi(v,x),u_(a,u,v,x,f);case 7:return Wn(a,u,u.pendingProps,f),u.child;case 8:return Wn(a,u,u.pendingProps.children,f),u.child;case 12:return Wn(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,C=u.memoizedProps,P=x.value,wt(Ag,v._currentValue),v._currentValue=P,C!==null)if(mi(C.value,P)){if(C.children===x.children&&!rr.current){u=Is(a,u,f);break e}}else for(C=u.child,C!==null&&(C.return=u);C!==null;){var B=C.dependencies;if(B!==null){P=C.child;for(var $=B.firstContext;$!==null;){if($.context===v){if(C.tag===1){$=Ts(-1,f&-f),$.tag=2;var Y=C.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?$.next=$:($.next=oe.next,oe.next=$),Y.pending=$}}C.lanes|=f,$=C.alternate,$!==null&&($.lanes|=f),Pw(C.return,f,u),B.lanes|=f;break}$=$.next}}else if(C.tag===10)P=C.type===u.type?null:C.child;else if(C.tag===18){if(P=C.return,P===null)throw Error(t(341));P.lanes|=f,B=P.alternate,B!==null&&(B.lanes|=f),Pw(P,f,u),P=C.sibling}else P=C.child;if(P!==null)P.return=C;else for(P=C;P!==null;){if(P===u){P=null;break}if(C=P.sibling,C!==null){C.return=P.return,P=C;break}P=P.return}C=P}Wn(a,u,x.children,f),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,ju(u,f),x=Yr(x),v=v(x),u.flags|=1,Wn(a,u,v,f),u.child;case 14:return v=u.type,x=vi(v,u.pendingProps),x=vi(v.type,x),c_(a,u,v,x,f);case 15:return d_(a,u,u.type,u.pendingProps,f);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:vi(v,x),Fg(a,u),u.tag=1,ir(v)?(a=!0,wg(u)):a=!1,ju(u,f),n_(u,v,x),Gw(u,v,x,f),Kw(null,u,v,!0,a,f);case 19:return w_(a,u,f);case 22:return h_(a,u,f)}throw Error(t(156,u.tag))};function V_(a,u){return SC(a,u)}function YO(a,u,f,v){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(a,u,f,v){return new YO(a,u,f,v)}function gb(a){return a=a.prototype,!(!a||!a.isReactComponent)}function QO(a){if(typeof a=="function")return gb(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ne)return 11;if(a===re)return 14}return 2}function zo(a,u){var f=a.alternate;return f===null?(f=Zr(a.tag,u,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Xg(a,u,f,v,x,C){var P=2;if(v=a,typeof a=="function")gb(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case z:return qa(f.children,x,C,u);case V:P=8,x|=8;break;case X:return a=Zr(12,f,u,x|2),a.elementType=X,a.lanes=C,a;case ee:return a=Zr(13,f,u,x),a.elementType=ee,a.lanes=C,a;case K:return a=Zr(19,f,u,x),a.elementType=K,a.lanes=C,a;case ie:return Kg(f,x,C,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:P=10;break e;case W:P=9;break e;case ne:P=11;break e;case re:P=14;break e;case ce:P=16,v=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Zr(P,f,u,x),u.elementType=a,u.type=v,u.lanes=C,u}function qa(a,u,f,v){return a=Zr(7,a,v,u),a.lanes=f,a}function Kg(a,u,f,v){return a=Zr(22,a,v,u),a.elementType=ie,a.lanes=f,a.stateNode={isHidden:!1},a}function mb(a,u,f){return a=Zr(6,a,null,u),a.lanes=f,a}function yb(a,u,f){return u=Zr(4,a.children!==null?a.children:[],a.key,u),u.lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function JO(a,u,f,v,x){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uv(0),this.expirationTimes=Uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uv(0),this.identifierPrefix=v,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function vb(a,u,f,v,x,C,P,B,$){return a=new JO(a,u,f,B,$),u===1?(u=1,C===!0&&(u|=8)):u=0,C=Zr(3,null,null,u),a.current=C,C.stateNode=a,C.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iw(C),a}function ZO(a,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:v==null?null:""+v,children:a,containerInfo:u,implementation:f}}function U_(a){if(!a)return To;a=a._reactInternals;e:{if(Na(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ir(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(ir(f))return vA(a,f,u)}return u}function G_(a,u,f,v,x,C,P,B,$){return a=vb(f,v,!0,a,x,C,P,B,$),a.context=U_(null),f=a.current,v=qn(),x=Fo(f),C=Ts(v,x),C.callback=u??null,Lo(f,C,x),a.current.lanes=x,Ld(a,x,v),ar(a,v),a}function Yg(a,u,f,v){var x=u.current,C=qn(),P=Fo(x);return f=U_(f),u.context===null?u.context=f:u.pendingContext=f,u=Ts(C,P),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Lo(x,u,P),a!==null&&(xi(a,x,P,C),Rg(a,x,P)),P}function Qg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function W_(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function wb(a,u){W_(a,u),(a=a.alternate)&&W_(a,u)}var q_=typeof reportError=="function"?reportError:function(a){console.error(a)};function bb(a){this._internalRoot=a}Jg.prototype.render=bb.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));Yg(a,u,null,null)},Jg.prototype.unmount=bb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ua(function(){Yg(null,a,null,null)}),u[As]=null}};function Jg(a){this._internalRoot=a}Jg.prototype.unstable_scheduleHydration=function(a){if(a){var u=TC();a={blockedOn:null,target:a,priority:u};for(var f=0;f<Ao.length&&u!==0&&u<Ao[f].priority;f++);Ao.splice(f,0,a),f===0&&LC(a)}};function xb(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Zg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function X_(){}function eF(a,u,f,v,x){if(x){if(typeof v=="function"){var C=v;v=function(){var Y=Qg(P);C.call(Y)}}var P=G_(u,v,a,0,null,!1,!1,"",X_);return a._reactRootContainer=P,a[As]=P.current,qd(a.nodeType===8?a.parentNode:a),Ua(),P}for(;x=a.lastChild;)a.removeChild(x);if(typeof v=="function"){var B=v;v=function(){var Y=Qg($);B.call(Y)}}var $=vb(a,0,!1,null,null,!1,!1,"",X_);return a._reactRootContainer=$,a[As]=$.current,qd(a.nodeType===8?a.parentNode:a),Ua(function(){Yg(u,$,f,v)}),$}function em(a,u,f,v,x){var C=f._reactRootContainer;if(C){var P=C;if(typeof x=="function"){var B=x;x=function(){var $=Qg(P);B.call($)}}Yg(u,P,a,x)}else P=eF(f,u,a,x,v);return Qg(P)}kC=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=Dd(u.pendingLanes);f!==0&&(Gv(u,f|1),ar(u,Vt()),!(it&6)&&(Gu=Vt()+500,Io()))}break;case 13:Ua(function(){var v=Ps(a,1);if(v!==null){var x=qn();xi(v,a,1,x)}}),wb(a,1)}},Wv=function(a){if(a.tag===13){var u=Ps(a,134217728);if(u!==null){var f=qn();xi(u,a,134217728,f)}wb(a,134217728)}},PC=function(a){if(a.tag===13){var u=Fo(a),f=Ps(a,u);if(f!==null){var v=qn();xi(f,a,u,v)}wb(a,u)}},TC=function(){return dt},IC=function(a,u){var f=dt;try{return dt=a,u()}finally{dt=f}},Bv=function(a,u,f){switch(u){case"input":if(xr(a,f),u=f.name,f.type==="radio"&&u!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==a&&v.form===a.form){var x=yg(v);if(!x)throw Error(t(90));It(v),xr(v,x)}}}break;case"textarea":xu(a,f);break;case"select":u=f.value,u!=null&&Sr(a,!!f.multiple,u,!1)}},gC=hb,mC=Ua;var tF={usingClientEntryPoint:!1,Events:[Yd,Du,yg,fC,pC,hb]},ch={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nF={bundleType:ch.bundleType,version:ch.version,rendererPackageName:ch.rendererPackageName,rendererConfig:ch.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=bC(a),a===null?null:a.stateNode},findFiberByHostInstance:ch.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{Jp=tm.inject(nF),Xi=tm}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tF,lr.createPortal=function(a,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xb(u))throw Error(t(200));return ZO(a,u,null,f)},lr.createRoot=function(a,u){if(!xb(a))throw Error(t(299));var f=!1,v="",x=q_;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),u=vb(a,1,!1,null,null,f,!1,v,x),a[As]=u.current,qd(a.nodeType===8?a.parentNode:a),new bb(u)},lr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=bC(u),a=a===null?null:a.stateNode,a},lr.flushSync=function(a){return Ua(a)},lr.hydrate=function(a,u,f){if(!Zg(u))throw Error(t(200));return em(null,a,u,!0,f)},lr.hydrateRoot=function(a,u,f){if(!xb(a))throw Error(t(405));var v=f!=null&&f.hydratedSources||null,x=!1,C="",P=q_;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(C=f.identifierPrefix),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),u=G_(u,null,a,1,f??null,x,!1,C,P),a[As]=u.current,qd(a),v)for(a=0;a<v.length;a++)f=v[a],x=f._getVersion,x=x(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,x]:u.mutableSourceEagerHydrationData.push(f,x);return new Jg(u)},lr.render=function(a,u,f){if(!Zg(u))throw Error(t(200));return em(null,a,u,!1,f)},lr.unmountComponentAtNode=function(a){if(!Zg(a))throw Error(t(40));return a._reactRootContainer?(Ua(function(){em(null,null,a,!1,function(){a._reactRootContainer=null,a[As]=null})}),!0):!1},lr.unstable_batchedUpdates=hb,lr.unstable_renderSubtreeIntoContainer=function(a,u,f,v){if(!Zg(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return em(a,u,f,!1,v)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var rR;function tP(){if(rR)return Ab.exports;rR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ab.exports=fF(),Ab.exports}var iR;function pF(){if(iR)return nm;iR=1;var n=tP();return nm.createRoot=n.createRoot,nm.hydrateRoot=n.hydrateRoot,nm}var gF=pF(),hh={},sR;function mF(){if(sR)return hh;sR=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.parse=o,hh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const w=new s,b=g.length;if(b<2)return w;const E=(y==null?void 0:y.decode)||h;let S=0;do{const A=g.indexOf("=",S);if(A===-1)break;const R=g.indexOf(";",S),I=R===-1?b:R;if(A>I){S=g.lastIndexOf(";",A-1)+1;continue}const N=l(g,S,A),L=c(g,A,N),z=g.slice(N,L);if(w[z]===void 0){let V=l(g,A+1,I),X=c(g,I,V);const Q=E(g.slice(V,X));w[z]=Q}S=I+1}while(S<b);return w}function l(g,y,w){do{const b=g.charCodeAt(y);if(b!==32&&b!==9)return y}while(++y<w);return w}function c(g,y,w){for(;y>w;){const b=g.charCodeAt(--y);if(b!==32&&b!==9)return y+1}return w}function d(g,y,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const E=b(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let S=g+"="+E;if(!w)return S;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);S+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);S+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);S+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);S+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(S+="; HttpOnly"),w.secure&&(S+="; Secure"),w.partitioned&&(S+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return S}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return hh}mF();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oR="popstate";function yF(n={}){function e(i,s){let{pathname:o="/",search:l="",hash:c=""}=fu(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Bx("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof s=="string"?s:Zh(s))}function r(i,s){ji(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return wF(e,t,r,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ji(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vF(){return Math.random().toString(36).substring(2,10)}function aR(n,e){return{usr:n.state,key:n.key,idx:e}}function Bx(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fu(e):e,state:t,key:e&&e.key||r||vF()}}function Zh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wF(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let E=h(),S=E==null?null:E-d;d=E,c&&c({action:l,location:b.location,delta:S})}function g(E,S){l="PUSH";let A=Bx(b.location,E,S);t(A,E),d=h()+1;let R=aR(A,d),I=b.createHref(A);try{o.pushState(R,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(I)}s&&c&&c({action:l,location:b.location,delta:1})}function y(E,S){l="REPLACE";let A=Bx(b.location,E,S);t(A,E),d=h();let R=aR(A,d),I=b.createHref(A);o.replaceState(R,"",I),s&&c&&c({action:l,location:b.location,delta:0})}function w(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof E=="string"?E:Zh(E);return A=A.replace(/ $/,"%20"),Bt(S,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,S)}let b={get action(){return l},get location(){return n(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oR,p),c=E,()=>{i.removeEventListener(oR,p),c=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let S=w(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(E){return o.go(E)}};return b}function nP(n,e,t="/"){return bF(n,e,t,!1)}function bF(n,e,t,r){let i=typeof e=="string"?fu(e):e,s=mo(i.pathname||"/",t);if(s==null)return null;let o=rP(n);xF(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=DF(s);l=TF(o[c],d,r)}return l}function rP(n,e=[],t=[],r=""){let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Bt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let d=ho([r,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Bt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),rP(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:kF(d,s.index),routesMeta:h})};return n.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of iP(s.path))i(s,o,c)}),e}function iP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=iP(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function xF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PF(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SF=/^:[\w-]+$/,EF=3,CF=2,AF=1,_F=10,RF=-2,lR=n=>n==="*";function kF(n,e){let t=n.split("/"),r=t.length;return t.some(lR)&&(r+=RF),e&&(r+=CF),t.filter(i=>!lR(i)).reduce((i,s)=>i+(SF.test(s)?EF:s===""?AF:_F),r)}function PF(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function TF(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=cy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!p&&d&&t&&!r[r.length-1].route.index&&(p=cy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ho([s,p.pathname]),pathnameBase:OF(ho([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ho([s,p.pathnameBase]))}return o}function cy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IF(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:p},g)=>{if(h==="*"){let w=l[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:n}}function IF(n,e=!1,t=!0){ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function mo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function LF(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?fu(n):n;return{pathname:t?t.startsWith("/")?t:MF(t,e):e,search:FF(r),hash:BF(i)}}function MF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function kb(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sP(n){let e=NF(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function oP(n,e,t,r=!1){let i;typeof n=="string"?i=fu(n):(i={...n},Bt(!i.pathname||!i.pathname.includes("?"),kb("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),kb("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),kb("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=LF(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ho=n=>n.join("/").replace(/\/\/+/g,"/"),OF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aP=["POST","PUT","PATCH","DELETE"];new Set(aP);var jF=["GET",...aP];new Set(jF);var md=_.createContext(null);md.displayName="DataRouter";var Jy=_.createContext(null);Jy.displayName="DataRouterState";var lP=_.createContext({isTransitioning:!1});lP.displayName="ViewTransition";var $F=_.createContext(new Map);$F.displayName="Fetchers";var HF=_.createContext(null);HF.displayName="Await";var Es=_.createContext(null);Es.displayName="Navigation";var Lp=_.createContext(null);Lp.displayName="Location";var wo=_.createContext({outlet:null,matches:[],isDataRoute:!1});wo.displayName="Route";var GE=_.createContext(null);GE.displayName="RouteError";function VF(n,{relative:e}={}){Bt(Mp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=_.useContext(Es),{hash:i,pathname:s,search:o}=Np(n,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:ho([t,s])),r.createHref({pathname:l,search:o,hash:i})}function Mp(){return _.useContext(Lp)!=null}function pu(){return Bt(Mp(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Lp).location}var uP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cP(n){_.useContext(Es).static||_.useLayoutEffect(n)}function UF(){let{isDataRoute:n}=_.useContext(wo);return n?r2():GF()}function GF(){Bt(Mp(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(md),{basename:e,navigator:t}=_.useContext(Es),{matches:r}=_.useContext(wo),{pathname:i}=pu(),s=JSON.stringify(sP(r)),o=_.useRef(!1);return cP(()=>{o.current=!0}),_.useCallback((c,d={})=>{if(ji(o.current,uP),!o.current)return;if(typeof c=="number"){t.go(c);return}let h=oP(c,JSON.parse(s),i,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ho([e,h.pathname])),(d.replace?t.replace:t.push)(h,d.state,d)},[e,t,s,i,n])}_.createContext(null);function Np(n,{relative:e}={}){let{matches:t}=_.useContext(wo),{pathname:r}=pu(),i=JSON.stringify(sP(t));return _.useMemo(()=>oP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function WF(n,e){return dP(n,e)}function dP(n,e,t,r){var A;Bt(Mp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=_.useContext(Es),{matches:o}=_.useContext(wo),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let R=p&&p.path||"";hP(d,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=pu(),y;if(e){let R=typeof e=="string"?fu(e):e;Bt(h==="/"||((A=R.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=g;let w=y.pathname||"/",b=w;if(h!=="/"){let R=h.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=!s&&t&&t.matches&&t.matches.length>0?t.matches:nP(n,{pathname:b});ji(p||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ji(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=QF(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:ho([h,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:ho([h,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,t,r);return e&&S?_.createElement(Lp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function qF(){let n=n2(),e=zF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,o)}var XF=_.createElement(qF,null),KF=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?_.createElement(wo.Provider,{value:this.props.routeContext},_.createElement(GE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YF({routeContext:n,match:e,children:t}){let r=_.useContext(md);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(wo.Provider,{value:n},t)}function QF(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let c=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Bt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,l=-1;if(t)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:p}=t,g=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let p,g=!1,y=null,w=null;t&&(p=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||XF,o&&(l<0&&h===0?(hP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===h&&(g=!0,w=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),E=()=>{let S;return p?S=y:g?S=w:d.route.Component?S=_.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,_.createElement(YF,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:t!=null},children:S})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(KF,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function WE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JF(n){let e=_.useContext(md);return Bt(e,WE(n)),e}function ZF(n){let e=_.useContext(Jy);return Bt(e,WE(n)),e}function e2(n){let e=_.useContext(wo);return Bt(e,WE(n)),e}function qE(n){let e=e2(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function t2(){return qE("useRouteId")}function n2(){var r;let n=_.useContext(GE),e=ZF("useRouteError"),t=qE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function r2(){let{router:n}=JF("useNavigate"),e=qE("useNavigate"),t=_.useRef(!1);return cP(()=>{t.current=!0}),_.useCallback(async(i,s={})=>{ji(t.current,uP),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var uR={};function hP(n,e,t){!e&&!uR[n]&&(uR[n]=!0,ji(!1,t))}_.memo(i2);function i2({routes:n,future:e,state:t}){return dP(n,void 0,t,e)}function zx(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Bt(!Mp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=fu(t));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=t,y=_.useMemo(()=>{let w=mo(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:g},navigationType:r}},[o,c,d,h,p,g,r]);return ji(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Es.Provider,{value:l},_.createElement(Lp.Provider,{children:e,value:y}))}function o2({children:n,location:e}){return WF(jx(n),e)}function jx(n,e=[]){let t=[];return _.Children.forEach(n,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){t.push.apply(t,jx(r.props.children,s));return}Bt(r.type===zx,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=jx(r.props.children,s)),t.push(o)}),t}var Am="get",_m="application/x-www-form-urlencoded";function Zy(n){return n!=null&&typeof n.tagName=="string"}function a2(n){return Zy(n)&&n.tagName.toLowerCase()==="button"}function l2(n){return Zy(n)&&n.tagName.toLowerCase()==="form"}function u2(n){return Zy(n)&&n.tagName.toLowerCase()==="input"}function c2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function d2(n,e){return n.button===0&&(!e||e==="_self")&&!c2(n)}var rm=null;function h2(){if(rm===null)try{new FormData(document.createElement("form"),0),rm=!1}catch{rm=!0}return rm}var f2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pb(n){return n!=null&&!f2.has(n)?(ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_m}"`),null):n}function p2(n,e){let t,r,i,s,o;if(l2(n)){let l=n.getAttribute("action");r=l?mo(l,e):null,t=n.getAttribute("method")||Am,i=Pb(n.getAttribute("enctype"))||_m,s=new FormData(n)}else if(a2(n)||u2(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(r=c?mo(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||Am,i=Pb(n.getAttribute("formenctype"))||Pb(l.getAttribute("enctype"))||_m,s=new FormData(l,n),!h2()){let{name:d,type:h,value:p}=n;if(h==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Zy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Am,r=null,i=_m,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function XE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function g2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function y2(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await g2(s,t);return o.links?o.links():[]}return[]}));return x2(r.flat(1).filter(m2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cR(n,e,t,r,i,s){let o=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,l=(c,d)=>{var h;return t[d].pathname!==c.pathname||((h=t[d].route.path)==null?void 0:h.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):s==="data"?e.filter((c,d)=>{var p;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function v2(n,e,{includeHydrateFallback:t}={}){return w2(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function w2(n){return[...new Set(n)]}function b2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function x2(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(b2(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function S2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&mo(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fP(){let n=_.useContext(md);return XE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function E2(){let n=_.useContext(Jy);return XE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var KE=_.createContext(void 0);KE.displayName="FrameworkContext";function pP(){let n=_.useContext(KE);return XE(n,"You must render this element inside a <HydratedRouter> element"),n}function C2(n,e){let t=_.useContext(KE),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=e,g=_.useRef(null);_.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let b=S=>{S.forEach(A=>{o(A.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),_.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:fh(l,y),onBlur:fh(c,w),onMouseEnter:fh(d,y),onMouseLeave:fh(h,w),onTouchStart:fh(p,y)}]:[!1,g,{}]}function fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function A2({page:n,...e}){let{router:t}=fP(),r=_.useMemo(()=>nP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?_.createElement(R2,{page:n,matches:r,...e}):null}function _2(n){let{manifest:e,routeModules:t}=pP(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return y2(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function R2({page:n,matches:e,...t}){let r=pu(),{manifest:i,routeModules:s}=pP(),{basename:o}=fP(),{loaderData:l,matches:c}=E2(),d=_.useMemo(()=>cR(n,e,c,i,r,"data"),[n,e,c,i,r]),h=_.useMemo(()=>cR(n,e,c,i,r,"assets"),[n,e,c,i,r]),p=_.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(e.forEach(S=>{var R;let A=i.routes[S.route.id];!A||!A.hasLoader||(!d.some(I=>I.route.id===S.route.id)&&S.route.id in l&&((R=s[S.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?b=!0:w.add(S.route.id))}),w.size===0)return[];let E=S2(n,o);return b&&w.size>0&&E.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,l,r,i,d,e,n,s]),g=_.useMemo(()=>v2(h,i),[h,i]),y=_2(h);return _.createElement(_.Fragment,null,p.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),g.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),y.map(({key:w,link:b})=>_.createElement("link",{key:w,...b})))}function k2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gP&&(window.__reactRouterVersion="7.3.0")}catch{}function P2({basename:n,children:e,window:t}){let r=_.useRef();r.current==null&&(r.current=yF({window:t,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(c=>{_.startTransition(()=>o(c))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(s2,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var mP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yP=_.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p,...g},y){let{basename:w}=_.useContext(Es),b=typeof d=="string"&&mP.test(d),E,S=!1;if(typeof d=="string"&&b&&(E=d,gP))try{let X=new URL(window.location.href),Q=d.startsWith("//")?new URL(X.protocol+d):new URL(d),W=mo(Q.pathname,w);Q.origin===X.origin&&W!=null?d=W+Q.search+Q.hash:S=!0}catch{ji(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=VF(d,{relative:i}),[R,I,N]=C2(r,g),L=L2(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function z(X){e&&e(X),X.defaultPrevented||L(X)}let V=_.createElement("a",{...g,...N,href:E||A,onClick:S||s?e:z,ref:k2(y,I),target:c,"data-discover":!b&&t==="render"?"true":void 0});return R&&!b?_.createElement(_.Fragment,null,V,_.createElement(A2,{page:A})):V});yP.displayName="Link";var T2=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:c,...d},h){let p=Np(o,{relative:d.relative}),g=pu(),y=_.useContext(Jy),{navigator:w,basename:b}=_.useContext(Es),E=y!=null&&B2(p)&&l===!0,S=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&b&&(R=mo(R,b)||R);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let N=A===S||!i&&A.startsWith(S)&&A.charAt(I)==="/",L=R!=null&&(R===S||!i&&R.startsWith(S)&&R.charAt(S.length)==="/"),z={isActive:N,isPending:L,isTransitioning:E},V=N?e:void 0,X;typeof r=="function"?X=r(z):X=[r,N?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Q=typeof s=="function"?s(z):s;return _.createElement(yP,{...d,"aria-current":V,className:X,ref:h,style:Q,to:o,viewTransition:l},typeof c=="function"?c(z):c)});T2.displayName="NavLink";var I2=_.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Am,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:p,...g},y)=>{let w=O2(),b=F2(l,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&mP.test(l),A=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let I=R.nativeEvent.submitter,N=(I==null?void 0:I.getAttribute("formmethod"))||o;w(I||R.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:i,state:s,relative:d,preventScrollReset:h,viewTransition:p})};return _.createElement("form",{ref:y,method:E,action:b,onSubmit:r?c:A,...g,"data-discover":!S&&n==="render"?"true":void 0})});I2.displayName="Form";function D2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vP(n){let e=_.useContext(md);return Bt(e,D2(n)),e}function L2(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=UF(),c=pu(),d=Np(n,{relative:s});return _.useCallback(h=>{if(d2(h,e)){h.preventDefault();let p=t!==void 0?t:Zh(c)===Zh(d);l(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,d,t,r,e,n,i,s,o])}var M2=0,N2=()=>`__${String(++M2)}__`;function O2(){let{router:n}=vP("useSubmit"),{basename:e}=_.useContext(Es),t=t2();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:c,body:d}=p2(r,e);if(i.navigate===!1){let h=i.fetcherKey||N2();await n.fetch(h,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function F2(n,{relative:e}={}){let{basename:t}=_.useContext(Es),r=_.useContext(wo);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Np(n||".",{relative:e})},o=pu();if(n==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ho([t,s.pathname])),Zh(s)}function B2(n,e={}){let t=_.useContext(lP);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vP("useViewTransitionState"),i=Np(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=mo(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=mo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return cy(i.pathname,o)!=null||cy(i.pathname,s)!=null}new TextEncoder;var ev=tP();const wP=Dp(ev);function z2(n,e){const t=_.createContext(e),r=s=>{const{children:o,...l}=s,c=_.useMemo(()=>l,Object.values(l));return O.jsx(t.Provider,{value:c,children:o})};r.displayName=n+"Provider";function i(s){const o=_.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function bP(n,e=[]){let t=[];function r(s,o){const l=_.createContext(o),c=t.length;t=[...t,o];const d=p=>{var S;const{scope:g,children:y,...w}=p,b=((S=g==null?void 0:g[n])==null?void 0:S[c])||l,E=_.useMemo(()=>w,Object.values(w));return O.jsx(b.Provider,{value:E,children:y})};d.displayName=s+"Provider";function h(p,g){var b;const y=((b=g==null?void 0:g[n])==null?void 0:b[c])||l,w=_.useContext(y);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=t.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[n])||s;return _.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return i.scopeName=n,[r,j2(i,...e)]}function j2(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const p=c(s)[`__scope${d}`];return{...l,...p}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function dR(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function xP(...n){return e=>{let t=!1;const r=n.map(i=>{const s=dR(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():dR(n[i],null)}}}}function gu(...n){return _.useCallback(xP(...n),n)}var tv=_.forwardRef((n,e)=>{const{children:t,...r}=n,i=_.Children.toArray(t),s=i.find(H2);if(s){const o=s.props.children,l=i.map(c=>c===s?_.Children.count(o)>1?_.Children.only(null):_.isValidElement(o)?o.props.children:null:c);return O.jsx($x,{...r,ref:e,children:_.isValidElement(o)?_.cloneElement(o,void 0,l):null})}return O.jsx($x,{...r,ref:e,children:t})});tv.displayName="Slot";var $x=_.forwardRef((n,e)=>{const{children:t,...r}=n;if(_.isValidElement(t)){const i=U2(t),s=V2(r,t.props);return t.type!==_.Fragment&&(s.ref=e?xP(e,i):i),_.cloneElement(t,s)}return _.Children.count(t)>1?_.Children.only(null):null});$x.displayName="SlotClone";var $2=({children:n})=>O.jsx(O.Fragment,{children:n});function H2(n){return _.isValidElement(n)&&n.type===$2}function V2(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...l)=>{s(...l),i(...l)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function U2(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var G2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$i=G2.reduce((n,e)=>{const t=_.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?tv:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(l,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function W2(n,e){n&&ev.flushSync(()=>n.dispatchEvent(e))}var YE="Progress",QE=100,[q2,AY]=bP(YE),[X2,K2]=q2(YE),SP=_.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:i,getValueLabel:s=Y2,...o}=n;(i||i===0)&&!hR(i)&&console.error(Q2(`${i}`,"Progress"));const l=hR(i)?i:QE;r!==null&&!fR(r,l)&&console.error(J2(`${r}`,"Progress"));const c=fR(r,l)?r:null,d=dy(c)?s(c,l):void 0;return O.jsx(X2,{scope:t,value:c,max:l,children:O.jsx($i.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":dy(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":AP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});SP.displayName=YE;var EP="ProgressIndicator",CP=_.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,i=K2(EP,t);return O.jsx($i.div,{"data-state":AP(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});CP.displayName=EP;function Y2(n,e){return`${Math.round(n/e*100)}%`}function AP(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function dy(n){return typeof n=="number"}function hR(n){return dy(n)&&!isNaN(n)&&n>0}function fR(n,e){return dy(n)&&!isNaN(n)&&n<=e&&n>=0}function Q2(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${QE}\`.`}function J2(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${QE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _P=SP,Z2=CP;function RP(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=RP(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function yd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=RP(n))&&(r&&(r+=" "),r+=e);return r}const JE="-",eB=n=>{const e=nB(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const l=o.split(JE);return l[0]===""&&l.length!==1&&l.shift(),kP(l,e)||tB(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},kP=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?kP(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(JE);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},pR=/^\[(.+)\]$/,tB=n=>{if(pR.test(n)){const e=pR.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},nB=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Hx(t[i],r,i,e);return r},Hx=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:gR(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(rB(i)){Hx(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{Hx(o,gR(e,s),t,r)})})},gR=(n,e)=>{let t=n;return e.split(JE).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},rB=n=>n.isThemeGetter,iB=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},Vx="!",Ux=":",sB=Ux.length,oB=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let o=0,l=0,c=0,d;for(let w=0;w<i.length;w++){let b=i[w];if(o===0&&l===0){if(b===Ux){s.push(i.slice(c,w)),c=w+sB;continue}if(b==="/"){d=w;continue}}b==="["?o++:b==="]"?o--:b==="("?l++:b===")"&&l--}const h=s.length===0?i:i.substring(c),p=aB(h),g=p!==h,y=d&&d>c?d-c:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:y}};if(e){const i=e+Ux,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},aB=n=>n.endsWith(Vx)?n.substring(0,n.length-1):n.startsWith(Vx)?n.substring(1):n,lB=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},uB=n=>({cache:iB(n.cacheSize),parseClassName:oB(n),sortModifiers:lB(n),...eB(n)}),cB=/\s+/,dB=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=n.trim().split(cB);let c="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{isExternal:p,modifiers:g,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:b}=t(h);if(p){c=h+(c.length>0?" "+c:c);continue}let E=!!b,S=r(E?w.substring(0,b):w);if(!S){if(!E){c=h+(c.length>0?" "+c:c);continue}if(S=r(w),!S){c=h+(c.length>0?" "+c:c);continue}E=!1}const A=s(g).join(":"),R=y?A+Vx:A,I=R+S;if(o.includes(I))continue;o.push(I);const N=i(S,E);for(let L=0;L<N.length;++L){const z=N[L];o.push(R+z)}c=h+(c.length>0?" "+c:c)}return c};function hB(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=PP(e))&&(r&&(r+=" "),r+=t);return r}const PP=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=PP(n[r]))&&(t&&(t+=" "),t+=e);return t};function fB(n,...e){let t,r,i,s=o;function o(c){const d=e.reduce((h,p)=>p(h),n());return t=uB(d),r=t.cache.get,i=t.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const h=dB(c,t);return i(c,h),h}return function(){return s(hB.apply(null,arguments))}}const dn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},TP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,IP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pB=/^\d+\/\d+$/,gB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qu=n=>pB.test(n),tt=n=>!!n&&!Number.isNaN(Number(n)),Xa=n=>!!n&&Number.isInteger(Number(n)),mR=n=>n.endsWith("%")&&tt(n.slice(0,-1)),$o=n=>gB.test(n),bB=()=>!0,xB=n=>mB.test(n)&&!yB.test(n),ZE=()=>!1,SB=n=>vB.test(n),EB=n=>wB.test(n),CB=n=>!be(n)&&!xe(n),AB=n=>vd(n,MP,ZE),be=n=>TP.test(n),Ka=n=>vd(n,NP,xB),Tb=n=>vd(n,OB,tt),_B=n=>vd(n,DP,ZE),RB=n=>vd(n,LP,EB),kB=n=>vd(n,ZE,SB),xe=n=>IP.test(n),im=n=>wd(n,NP),PB=n=>wd(n,FB),TB=n=>wd(n,DP),IB=n=>wd(n,MP),DB=n=>wd(n,LP),LB=n=>wd(n,BB,!0),vd=(n,e,t)=>{const r=TP.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},wd=(n,e,t=!1)=>{const r=IP.exec(n);return r?r[1]?e(r[1]):t:!1},DP=n=>n==="position",MB=new Set(["image","url"]),LP=n=>MB.has(n),NB=new Set(["length","size","percentage"]),MP=n=>NB.has(n),NP=n=>n==="length",OB=n=>n==="number",FB=n=>n==="family-name",BB=n=>n==="shadow",zB=()=>{const n=dn("color"),e=dn("font"),t=dn("text"),r=dn("font-weight"),i=dn("tracking"),s=dn("leading"),o=dn("breakpoint"),l=dn("container"),c=dn("spacing"),d=dn("radius"),h=dn("shadow"),p=dn("inset-shadow"),g=dn("drop-shadow"),y=dn("blur"),w=dn("perspective"),b=dn("aspect"),E=dn("ease"),S=dn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],L=()=>[qu,"px","full","auto",xe,be,c],z=()=>[Xa,"none","subgrid",xe,be],V=()=>["auto",{span:["full",Xa,xe,be]},xe,be],X=()=>[Xa,"auto",xe,be],Q=()=>["auto","min","max","fr",xe,be],W=()=>[xe,be,c],ne=()=>["start","end","center","between","around","evenly","stretch","baseline"],ee=()=>["start","end","center","stretch"],K=()=>[xe,be,c],re=()=>["px",...K()],ce=()=>["px","auto",...K()],ie=()=>[qu,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",xe,be,c],U=()=>[n,xe,be],fe=()=>[mR,Ka],M=()=>["","none","full",d,xe,be],j=()=>["",tt,im,Ka],J=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["","none",y,xe,be],Re=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe,be],pe=()=>["none",tt,xe,be],ye=()=>["none",tt,xe,be],Te=()=>[tt,xe,be],De=()=>[qu,"full","px",xe,be,c];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$o],breakpoint:[$o],color:[bB],container:[$o],"drop-shadow":[$o],ease:["in","out","in-out"],font:[CB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$o],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$o],shadow:[$o],spacing:[tt],text:[$o],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",qu,be,xe,b]}],container:["container"],columns:[{columns:[tt,be,xe,l]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),be,xe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Xa,"auto",xe,be]}],basis:[{basis:[qu,"full","auto",xe,be,l,c]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,qu,"auto","initial","none",be]}],grow:[{grow:["",tt,xe,be]}],shrink:[{shrink:["",tt,xe,be]}],order:[{order:[Xa,"first","last","none",xe,be]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...ee(),"baseline"]}],"align-self":[{self:["auto",...ee(),"baseline"]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:re()}],px:[{px:re()}],py:[{py:re()}],ps:[{ps:re()}],pe:[{pe:re()}],pt:[{pt:re()}],pr:[{pr:re()}],pb:[{pb:re()}],pl:[{pl:re()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[l,"screen",...ie()]}],"min-w":[{"min-w":[l,"screen","none",...ie()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ie()]}],h:[{h:["screen",...ie()]}],"min-h":[{"min-h":["screen","none",...ie()]}],"max-h":[{"max-h":["screen",...ie()]}],"font-size":[{text:["base",t,im,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,Tb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mR,be]}],"font-family":[{font:[PB,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,xe,be]}],"line-clamp":[{"line-clamp":[tt,"none",xe,Tb]}],leading:[{leading:[xe,be,s,c]}],"list-image":[{"list-image":["none",xe,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",xe,Ka]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[tt,"auto",xe,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...K()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),TB,_B]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",IB,AB]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xa,xe,be],radial:["",xe,be],conic:[Xa,xe,be]},DB,RB]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,xe,be]}],"outline-w":[{outline:["",tt,im,Ka]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",h,LB,kB]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",xe,be,p]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[tt,Ka]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[tt,xe,be]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none",xe,be]}],blur:[{blur:ve()}],brightness:[{brightness:[tt,xe,be]}],contrast:[{contrast:[tt,xe,be]}],"drop-shadow":[{"drop-shadow":["","none",g,xe,be]}],grayscale:[{grayscale:["",tt,xe,be]}],"hue-rotate":[{"hue-rotate":[tt,xe,be]}],invert:[{invert:["",tt,xe,be]}],saturate:[{saturate:[tt,xe,be]}],sepia:[{sepia:["",tt,xe,be]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,be]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[tt,xe,be]}],"backdrop-contrast":[{"backdrop-contrast":[tt,xe,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,xe,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,xe,be]}],"backdrop-invert":[{"backdrop-invert":["",tt,xe,be]}],"backdrop-opacity":[{"backdrop-opacity":[tt,xe,be]}],"backdrop-saturate":[{"backdrop-saturate":[tt,xe,be]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,xe,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",xe,be]}],ease:[{ease:["linear","initial",E,xe,be]}],delay:[{delay:[tt,xe,be]}],animate:[{animate:["none",S,xe,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,xe,be]}],"perspective-origin":[{"perspective-origin":Re()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[xe,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:Re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:De()}],"translate-x":[{"translate-x":De()}],"translate-y":[{"translate-y":De()}],"translate-z":[{"translate-z":De()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,be]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[tt,im,Ka,Tb]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},jB=fB(zB);function Tt(...n){return jB(yd(n))}const OP=_.forwardRef(({className:n,value:e,...t},r)=>O.jsx(_P,{ref:r,className:Tt("relative h-4 w-full overflow-hidden bg-gray-700 rounded-full",n),...t,children:O.jsx(Z2,{className:"h-full w-full flex-1 bg-gray-500 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));OP.displayName=_P.displayName;const bd=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("rounded-lg bg-card text-card-foreground shadow-sm",n),...e}));bd.displayName="Card";const $B=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("flex flex-col space-y-1.5 p-6",n),...e}));$B.displayName="CardHeader";const HB=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("text-2xl font-semibold leading-none tracking-tight",n),...e}));HB.displayName="CardTitle";const VB=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("text-sm text-muted-foreground",n),...e}));VB.displayName="CardDescription";const xd=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("p-6 pt-0",n),...e}));xd.displayName="CardContent";const UB=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{ref:t,className:Tt("flex items-center p-6 pt-0",n),...e}));UB.displayName="CardFooter";const GB="w-16 h-16 border-4 border-t-4 border-gray-200 border-t-gray-600 m-auto rounded-full animate-spin",Op=_.forwardRef((n,e)=>{const{className:t,...r}=n;return O.jsx("div",{className:"h-full w-full flex",children:O.jsx("div",{ref:e,className:Tt(GB,t),...r})})});Op.displayName="LoadingSpinner";const nv=_.forwardRef(({className:n,type:e,inputId:t="file-select",...r},i)=>e==="file"?O.jsx(O.Fragment,{children:O.jsxs("label",{htmlFor:t,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 cursor-pointer [&_svg]:shrink-0 px-5 py-[10px] text-primary-foreground hover:bg-primary/90 bg-[#1a1a1a]",children:["Select File",O.jsx("input",{type:e,ref:i,...r,id:t,className:Tt("hidden",n)})]})}):O.jsx("input",{type:e,className:Tt("flex h-10 w-full rounded-md bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...r}));nv.displayName="Input";function FP(n,e){return function(){return n.apply(e,arguments)}}const{toString:WB}=Object.prototype,{getPrototypeOf:e0}=Object,rv=(n=>e=>{const t=WB.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Hi=n=>(n=n.toLowerCase(),e=>rv(e)===n),iv=n=>e=>typeof e===n,{isArray:Sd}=Array,ef=iv("undefined");function qB(n){return n!==null&&!ef(n)&&n.constructor!==null&&!ef(n.constructor)&&Hr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const BP=Hi("ArrayBuffer");function XB(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&BP(n.buffer),e}const KB=iv("string"),Hr=iv("function"),zP=iv("number"),sv=n=>n!==null&&typeof n=="object",YB=n=>n===!0||n===!1,Rm=n=>{if(rv(n)!=="object")return!1;const e=e0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},QB=Hi("Date"),JB=Hi("File"),ZB=Hi("Blob"),ez=Hi("FileList"),tz=n=>sv(n)&&Hr(n.pipe),nz=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Hr(n.append)&&((e=rv(n))==="formdata"||e==="object"&&Hr(n.toString)&&n.toString()==="[object FormData]"))},rz=Hi("URLSearchParams"),[iz,sz,oz,az]=["ReadableStream","Request","Response","Headers"].map(Hi),lz=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Sd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,n[l],l,n)}}function jP(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$P=n=>!ef(n)&&n!==sl;function Gx(){const{caseless:n}=$P(this)&&this||{},e={},t=(r,i)=>{const s=n&&jP(e,i)||i;Rm(e[s])&&Rm(r)?e[s]=Gx(e[s],r):Rm(r)?e[s]=Gx({},r):Sd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Fp(arguments[r],t);return e}const uz=(n,e,t,{allOwnKeys:r}={})=>(Fp(e,(i,s)=>{t&&Hr(i)?n[s]=FP(i,t):n[s]=i},{allOwnKeys:r}),n),cz=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),dz=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},hz=(n,e,t,r)=>{let i,s,o;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&e0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},fz=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},pz=n=>{if(!n)return null;if(Sd(n))return n;let e=n.length;if(!zP(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},gz=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&e0(Uint8Array)),mz=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},yz=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},vz=Hi("HTMLFormElement"),wz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),yR=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),bz=Hi("RegExp"),HP=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Fp(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},xz=n=>{HP(n,(e,t)=>{if(Hr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Hr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Sz=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Sd(n)?r(n):r(String(n).split(e)),t},Ez=()=>{},Cz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Ib="abcdefghijklmnopqrstuvwxyz",vR="0123456789",VP={DIGIT:vR,ALPHA:Ib,ALPHA_DIGIT:Ib+Ib.toUpperCase()+vR},Az=(n=16,e=VP.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function _z(n){return!!(n&&Hr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Rz=n=>{const e=new Array(10),t=(r,i)=>{if(sv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Sd(r)?[]:{};return Fp(r,(o,l)=>{const c=t(o,i+1);!ef(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return t(n,0)},kz=Hi("AsyncFunction"),Pz=n=>n&&(sv(n)||Hr(n))&&Hr(n.then)&&Hr(n.catch),UP=((n,e)=>n?setImmediate:e?((t,r)=>(sl.addEventListener("message",({source:i,data:s})=>{i===sl&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),sl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Hr(sl.postMessage)),Tz=typeof queueMicrotask<"u"?queueMicrotask.bind(sl):typeof process<"u"&&process.nextTick||UP,Z={isArray:Sd,isArrayBuffer:BP,isBuffer:qB,isFormData:nz,isArrayBufferView:XB,isString:KB,isNumber:zP,isBoolean:YB,isObject:sv,isPlainObject:Rm,isReadableStream:iz,isRequest:sz,isResponse:oz,isHeaders:az,isUndefined:ef,isDate:QB,isFile:JB,isBlob:ZB,isRegExp:bz,isFunction:Hr,isStream:tz,isURLSearchParams:rz,isTypedArray:gz,isFileList:ez,forEach:Fp,merge:Gx,extend:uz,trim:lz,stripBOM:cz,inherits:dz,toFlatObject:hz,kindOf:rv,kindOfTest:Hi,endsWith:fz,toArray:pz,forEachEntry:mz,matchAll:yz,isHTMLForm:vz,hasOwnProperty:yR,hasOwnProp:yR,reduceDescriptors:HP,freezeMethods:xz,toObjectSet:Sz,toCamelCase:wz,noop:Ez,toFiniteNumber:Cz,findKey:jP,global:sl,isContextDefined:$P,ALPHABET:VP,generateString:Az,isSpecCompliantForm:_z,toJSONObject:Rz,isAsyncFn:kz,isThenable:Pz,setImmediate:UP,asap:Tz};function We(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const GP=We.prototype,WP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{WP[n]={value:n}});Object.defineProperties(We,WP);Object.defineProperty(GP,"isAxiosError",{value:!0});We.from=(n,e,t,r,i,s)=>{const o=Object.create(GP);return Z.toFlatObject(n,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),We.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const Iz=null;function Wx(n){return Z.isPlainObject(n)||Z.isArray(n)}function qP(n){return Z.endsWith(n,"[]")?n.slice(0,-2):n}function wR(n,e,t){return n?n.concat(e).map(function(i,s){return i=qP(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function Dz(n){return Z.isArray(n)&&!n.some(Wx)}const Lz=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function ov(n,e,t){if(!Z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,E){return!Z.isUndefined(E[b])});const r=t.metaTokens,i=t.visitor||h,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(Z.isDate(w))return w.toISOString();if(!c&&Z.isBlob(w))throw new We("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(w)||Z.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,b,E){let S=w;if(w&&!E&&typeof w=="object"){if(Z.endsWith(b,"{}"))b=r?b:b.slice(0,-2),w=JSON.stringify(w);else if(Z.isArray(w)&&Dz(w)||(Z.isFileList(w)||Z.endsWith(b,"[]"))&&(S=Z.toArray(w)))return b=qP(b),S.forEach(function(R,I){!(Z.isUndefined(R)||R===null)&&e.append(o===!0?wR([b],I,s):o===null?b:b+"[]",d(R))}),!1}return Wx(w)?!0:(e.append(wR(E,b,s),d(w)),!1)}const p=[],g=Object.assign(Lz,{defaultVisitor:h,convertValue:d,isVisitable:Wx});function y(w,b){if(!Z.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(w),Z.forEach(w,function(S,A){(!(Z.isUndefined(S)||S===null)&&i.call(e,S,Z.isString(A)?A.trim():A,b,g))===!0&&y(S,b?b.concat(A):[A])}),p.pop()}}if(!Z.isObject(n))throw new TypeError("data must be an object");return y(n),e}function bR(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function t0(n,e){this._pairs=[],n&&ov(n,this,e)}const XP=t0.prototype;XP.append=function(e,t){this._pairs.push([e,t])};XP.toString=function(e){const t=e?function(r){return e.call(this,r,bR)}:bR;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Mz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KP(n,e,t){if(!e)return n;const r=t&&t.encode||Mz;Z.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=Z.isURLSearchParams(e)?e.toString():new t0(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class xR{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const YP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nz=typeof URLSearchParams<"u"?URLSearchParams:t0,Oz=typeof FormData<"u"?FormData:null,Fz=typeof Blob<"u"?Blob:null,Bz={isBrowser:!0,classes:{URLSearchParams:Nz,FormData:Oz,Blob:Fz},protocols:["http","https","file","blob","url","data"]},n0=typeof window<"u"&&typeof document<"u",qx=typeof navigator=="object"&&navigator||void 0,zz=n0&&(!qx||["ReactNative","NativeScript","NS"].indexOf(qx.product)<0),jz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$z=n0&&window.location.href||"http://localhost",Hz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:n0,hasStandardBrowserEnv:zz,hasStandardBrowserWebWorkerEnv:jz,navigator:qx,origin:$z},Symbol.toStringTag,{value:"Module"})),Hn={...Hz,...Bz};function Vz(n,e){return ov(n,new Hn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Hn.isNode&&Z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Uz(n){return Z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gz(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function QP(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=t.length;return o=!o&&Z.isArray(i)?i.length:o,c?(Z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Z.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Z.isArray(i[o])&&(i[o]=Gz(i[o])),!l)}if(Z.isFormData(n)&&Z.isFunction(n.entries)){const t={};return Z.forEachEntry(n,(r,i)=>{e(Uz(r),i,t,0)}),t}return null}function Wz(n,e,t){if(Z.isString(n))try{return(e||JSON.parse)(n),Z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const Bp={transitional:YP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Z.isObject(e);if(s&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(QP(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Vz(e,this.formSerializer).toString();if((l=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ov(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),Wz(e)):e}],transformResponse:[function(e){const t=this.transitional||Bp.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?We.from(l,We.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],n=>{Bp.headers[n]={}});const qz=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xz=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&qz[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},SR=Symbol("internals");function ph(n){return n&&String(n).trim().toLowerCase()}function km(n){return n===!1||n==null?n:Z.isArray(n)?n.map(km):String(n)}function Kz(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Yz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Db(n,e,t,r,i){if(Z.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function Qz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Jz(n,e){const t=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class yr{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(l,c,d){const h=ph(c);if(!h)throw new Error("header name must be a non-empty string");const p=Z.findKey(i,h);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=km(l))}const o=(l,c)=>Z.forEach(l,(d,h)=>s(d,h,c));if(Z.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Z.isString(e)&&(e=e.trim())&&!Yz(e))o(Xz(e),t);else if(Z.isHeaders(e))for(const[l,c]of e.entries())s(c,l,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=ph(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Kz(i);if(Z.isFunction(t))return t.call(this,i,r);if(Z.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ph(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Db(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=ph(o),o){const l=Z.findKey(r,o);l&&(!t||Db(r,r[l],l,t))&&(delete r[l],i=!0)}}return Z.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Db(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Z.forEach(this,(i,s)=>{const o=Z.findKey(r,s);if(o){t[o]=km(i),delete t[s];return}const l=e?Qz(s):String(s).trim();l!==s&&delete t[s],t[l]=km(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[SR]=this[SR]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=ph(o);r[l]||(Jz(i,o),r[l]=!0)}return Z.isArray(e)?e.forEach(s):s(e),this}}yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(yr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Z.freezeMethods(yr);function Lb(n,e){const t=this||Bp,r=e||t,i=yr.from(r.headers);let s=r.data;return Z.forEach(n,function(l){s=l.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function JP(n){return!!(n&&n.__CANCEL__)}function Ed(n,e,t){We.call(this,n??"canceled",We.ERR_CANCELED,e,t),this.name="CanceledError"}Z.inherits(Ed,We,{__CANCEL__:!0});function ZP(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Zz(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ej(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[s];o||(o=d),t[i]=c,r[i]=d;let p=s,g=0;for(;p!==i;)g+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),d-o<e)return;const y=h&&d-h;return y?Math.round(g*1e3/y):void 0}}function tj(n,e){let t=0,r=1e3/e,i,s;const o=(d,h=Date.now())=>{t=h,i=null,s&&(clearTimeout(s),s=null),n.apply(null,d)};return[(...d)=>{const h=Date.now(),p=h-t;p>=r?o(d,h):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const hy=(n,e,t=3)=>{let r=0;const i=ej(50,250);return tj(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),h=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(p)},t)},ER=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},CR=n=>(...e)=>Z.asap(()=>n(...e)),nj=Hn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Hn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,rj=Hn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];Z.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Z.isString(r)&&o.push("path="+r),Z.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ij(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function sj(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function eT(n,e){return n&&!ij(e)?sj(n,e):e}const AR=n=>n instanceof yr?{...n}:n;function ru(n,e){e=e||{};const t={};function r(d,h,p,g){return Z.isPlainObject(d)&&Z.isPlainObject(h)?Z.merge.call({caseless:g},d,h):Z.isPlainObject(h)?Z.merge({},h):Z.isArray(h)?h.slice():h}function i(d,h,p,g){if(Z.isUndefined(h)){if(!Z.isUndefined(d))return r(void 0,d,p,g)}else return r(d,h,p,g)}function s(d,h){if(!Z.isUndefined(h))return r(void 0,h)}function o(d,h){if(Z.isUndefined(h)){if(!Z.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,p){if(p in e)return r(d,h);if(p in n)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,h,p)=>i(AR(d),AR(h),p,!0)};return Z.forEach(Object.keys(Object.assign({},n,e)),function(h){const p=c[h]||i,g=p(n[h],e[h],h);Z.isUndefined(g)&&p!==l||(t[h]=g)}),t}const tT=n=>{const e=ru({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=yr.from(o),e.url=KP(eT(e.baseURL,e.url),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Z.isFormData(t)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...h]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}if(Hn.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&nj(e.url))){const d=i&&s&&rj.read(s);d&&o.set(i,d)}return e},oj=typeof XMLHttpRequest<"u",aj=oj&&function(n){return new Promise(function(t,r){const i=tT(n);let s=i.data;const o=yr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,p,g,y,w;function b(){y&&y(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function S(){if(!E)return;const R=yr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:R,config:n,request:E};ZP(function(z){t(z),b()},function(z){r(z),b()},N),E=null}"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(S)},E.onabort=function(){E&&(r(new We("Request aborted",We.ECONNABORTED,n,E)),E=null)},E.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||YP;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new We(I,N.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&Z.forEach(o.toJSON(),function(I,N){E.setRequestHeader(N,I)}),Z.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),l&&l!=="json"&&(E.responseType=i.responseType),d&&([g,w]=hy(d,!0),E.addEventListener("progress",g)),c&&E.upload&&([p,y]=hy(c),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(h=R=>{E&&(r(!R||R.type?new Ed(null,n,E):R),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const A=Zz(i.url);if(A&&Hn.protocols.indexOf(A)===-1){r(new We("Unsupported protocol "+A+":",We.ERR_BAD_REQUEST,n));return}E.send(s||null)})},lj=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof We?h:new Ed(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Z.asap(l),c}},uj=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},cj=async function*(n,e){for await(const t of dj(n))yield*uj(t,e)},dj=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},_R=(n,e,t,r)=>{const i=cj(n,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let p=h.byteLength;if(t){let g=s+=p;t(g)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},av=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nT=av&&typeof ReadableStream=="function",hj=av&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),rT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},fj=nT&&rT(()=>{let n=!1;const e=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),RR=64*1024,Xx=nT&&rT(()=>Z.isReadableStream(new Response("").body)),fy={stream:Xx&&(n=>n.body)};av&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fy[e]&&(fy[e]=Z.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new We(`Response type '${e}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const pj=async n=>{if(n==null)return 0;if(Z.isBlob(n))return n.size;if(Z.isSpecCompliantForm(n))return(await new Request(Hn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(n)||Z.isArrayBuffer(n))return n.byteLength;if(Z.isURLSearchParams(n)&&(n=n+""),Z.isString(n))return(await hj(n)).byteLength},gj=async(n,e)=>{const t=Z.toFiniteNumber(n.getContentLength());return t??pj(e)},mj=av&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:p="same-origin",fetchOptions:g}=tT(n);d=d?(d+"").toLowerCase():"text";let y=lj([i,s&&s.toAbortSignal()],o),w;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let E;try{if(c&&fj&&t!=="get"&&t!=="head"&&(E=await gj(h,r))!==0){let N=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Z.isFormData(r)&&(L=N.headers.get("content-type"))&&h.setContentType(L),N.body){const[z,V]=ER(E,hy(CR(c)));r=_R(N.body,RR,z,V)}}Z.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;w=new Request(e,{...g,signal:y,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:S?p:void 0});let A=await fetch(w);const R=Xx&&(d==="stream"||d==="response");if(Xx&&(l||R&&b)){const N={};["status","statusText","headers"].forEach(X=>{N[X]=A[X]});const L=Z.toFiniteNumber(A.headers.get("content-length")),[z,V]=l&&ER(L,hy(CR(l),!0))||[];A=new Response(_R(A.body,RR,z,()=>{V&&V(),b&&b()}),N)}d=d||"text";let I=await fy[Z.findKey(fy,d)||"text"](A,n);return!R&&b&&b(),await new Promise((N,L)=>{ZP(N,L,{data:I,headers:yr.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:w})})}catch(S){throw b&&b(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,n,w),{cause:S.cause||S}):We.from(S,S&&S.code,n,w)}}),Kx={http:Iz,xhr:aj,fetch:mj};Z.forEach(Kx,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const kR=n=>`- ${n}`,yj=n=>Z.isFunction(n)||n===null||n===!1,iT={getAdapter:n=>{n=Z.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!yj(t)&&(r=Kx[(o=String(t)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(kR).join(`
`):" "+kR(s[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Kx};function Mb(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ed(null,n)}function PR(n){return Mb(n),n.headers=yr.from(n.headers),n.data=Lb.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),iT.getAdapter(n.adapter||Bp.adapter)(n).then(function(r){return Mb(n),r.data=Lb.call(n,n.transformResponse,r),r.headers=yr.from(r.headers),r},function(r){return JP(r)||(Mb(n),r&&r.response&&(r.response.data=Lb.call(n,n.transformResponse,r.response),r.response.headers=yr.from(r.response.headers))),Promise.reject(r)})}const sT="1.7.9",lv={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{lv[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const TR={};lv.transitional=function(e,t,r){function i(s,o){return"[Axios v"+sT+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new We(i(o," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!TR[o]&&(TR[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,l):!0}};lv.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vj(n,e,t){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=n[s],c=l===void 0||o(l,s,n);if(c!==!0)throw new We("option "+s+" must be "+c,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+s,We.ERR_BAD_OPTION)}}const Pm={assertOptions:vj,validators:lv},Zi=Pm.validators;class nu{constructor(e){this.defaults=e,this.interceptors={request:new xR,response:new xR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ru(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Pm.assertOptions(r,{silentJSONParsing:Zi.transitional(Zi.boolean),forcedJSONParsing:Zi.transitional(Zi.boolean),clarifyTimeoutError:Zi.transitional(Zi.boolean)},!1),i!=null&&(Z.isFunction(i)?t.paramsSerializer={serialize:i}:Pm.assertOptions(i,{encode:Zi.function,serialize:Zi.function},!0)),Pm.assertOptions(t,{baseUrl:Zi.spelling("baseURL"),withXsrfToken:Zi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Z.merge(s.common,s[t.method]);s&&Z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),t.headers=yr.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let h,p=0,g;if(!c){const w=[PR.bind(this),void 0];for(w.unshift.apply(w,l),w.push.apply(w,d),g=w.length,h=Promise.resolve(t);p<g;)h=h.then(w[p++],w[p++]);return h}g=l.length;let y=t;for(p=0;p<g;){const w=l[p++],b=l[p++];try{y=w(y)}catch(E){b.call(this,E);break}}try{h=PR.call(this,y)}catch(w){return Promise.reject(w)}for(p=0,g=d.length;p<g;)h=h.then(d[p++],d[p++]);return h}getUri(e){e=ru(this.defaults,e);const t=eT(e.baseURL,e.url);return KP(t,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){nu.prototype[e]=function(t,r){return this.request(ru(r||{},{method:e,url:t,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,l){return this.request(ru(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}nu.prototype[e]=t(),nu.prototype[e+"Form"]=t(!0)});class r0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Ed(s,o,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new r0(function(i){e=i}),cancel:e}}}function wj(n){return function(t){return n.apply(null,t)}}function bj(n){return Z.isObject(n)&&n.isAxiosError===!0}const Yx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yx).forEach(([n,e])=>{Yx[e]=n});function oT(n){const e=new nu(n),t=FP(nu.prototype.request,e);return Z.extend(t,nu.prototype,e,{allOwnKeys:!0}),Z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return oT(ru(n,i))},t}const Jt=oT(Bp);Jt.Axios=nu;Jt.CanceledError=Ed;Jt.CancelToken=r0;Jt.isCancel=JP;Jt.VERSION=sT;Jt.toFormData=ov;Jt.AxiosError=We;Jt.Cancel=Jt.CanceledError;Jt.all=function(e){return Promise.all(e)};Jt.spread=wj;Jt.isAxiosError=bj;Jt.mergeConfig=ru;Jt.AxiosHeaders=yr;Jt.formToJSON=n=>QP(Z.isHTMLForm(n)?new FormData(n):n);Jt.getAdapter=iT.getAdapter;Jt.HttpStatusCode=Yx;Jt.default=Jt;const Vi=_.createContext({loanId:"",setLoanId:()=>{},valueMap:{},setFields:()=>{},tableData:[],setTableData:()=>{}}),zp="https://api.assurif.ai",jp=Jt.create({baseURL:zp,headers:{"Content-Type":"application/json"}});let Qx=!0;const gh=new Map,Nb=new Map,xj=(n,e,t)=>{Qx=!1,jp.post("/file_classify",e).then(r=>{t()},r=>{})},Sj=n=>{const{loanId:e}=_.useContext(Vi),[t,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(null);return _.useEffect(()=>{r(!0),s(null),jp.get("/file_classify",{params:{loan_id:e}}).then(c=>{n(c.data),l(c.data),r(!1)},c=>{s(c),r(!1)})},[e]),aT(()=>{}),{data:o,loading:t,error:i}},Ej=(n,e,t)=>{const[r,i]=_.useState(!1),[s,o]=_.useState(null),{setLoanId:l}=_.useContext(Vi),[c,d]=_.useState(null);return _.useEffect(()=>{if(!t)return;i(!0),o(null);const h=new FormData;h.append("f",t),jp.post(`/upload_docs/${n}`,h,{headers:{"Content-Type":"multipart/form-data"}}).then(p=>{d(p.data),l(p.data),i(!1),e(p.data)},p=>{o(p),i(!1)})},[n,t]),{data:c,loading:r,error:s}},aT=n=>{const{loanId:e}=_.useContext(Vi),[t,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(null);return _.useEffect(()=>{if(!e)return;const c=`getInfoAll-${e}`;if(Qx&&Nb.has(c)){const h=Nb.get(c);l(h),n(h);return}if(Qx&&gh.has(c)){r(!0),gh.get(c).then(h=>{l(h),n(h),r(!1)}).catch(h=>{s(h),r(!1)});return}r(!0),s(null);const d=jp.get("/info",{params:{loan_id:e}}).then(h=>(Nb.set(c,h.data),gh.delete(c),h.data)).catch(h=>{throw gh.delete(c),h});gh.set(c,d),d.then(h=>{l(h),n(h),r(!1)}).catch(h=>{s(h),r(!1)})},[e]),{data:o,loading:t,error:i}},Cj=n=>{const{loanId:e}=_.useContext(Vi),[t,r]=_.useState(!1),[i,s]=_.useState(null),[o,l]=_.useState(null);return _.useEffect(()=>{r(!0),s(null),jp.get("/credit_rows",{params:{loan_id:e}}).then(c=>{n(c.data),l(c.data),r(!1)},c=>{s(c),r(!1)})},[e]),{data:o,loading:t,error:i}},Aj=({nextStep:n})=>{const[e,t]=_.useState(void 0),{loading:r,error:i}=Ej("credit",o=>{n()},e),s=o=>{var c;const l=((c=o.target.files)==null?void 0:c[0])||null;l&&t(l)};return O.jsx(bd,{children:O.jsxs(xd,{className:"flex flex-col items-start gap-4 p-10 w-[95vw] h-[93vh] overflow-y-auto",children:[O.jsx("h1",{className:"text-xl font-bold",children:"Upload a File"}),O.jsx(nv,{type:"file",inputId:"uploadLoanZip",onChange:s}),r&&O.jsx(Op,{}),i&&O.jsxs(O.Fragment,{children:[O.jsx("h3",{children:" Error:"}),i.message]})]})})},IR=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,DR=yd,_j=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return DR(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const h=t==null?void 0:t[d],p=s==null?void 0:s[d];if(h===null)return null;const g=IR(h)||IR(p);return i[d][g]}),l=t&&Object.entries(t).reduce((d,h)=>{let[p,g]=h;return g===void 0||(d[p]=g),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:g,...y}=h;return Object.entries(y).every(w=>{let[b,E]=w;return Array.isArray(E)?E.includes({...s,...l}[b]):{...s,...l}[b]===E})?[...d,p,g]:d},[]);return DR(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)},Rj=_j("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vr=_.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?tv:"button";return O.jsx(o,{className:Tt(Rj({variant:e,size:t,className:n})),ref:s,...i})});vr.displayName="Button";function Qn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var kj=typeof Symbol=="function"&&Symbol.observable||"@@observable",LR=kj,Ob=()=>Math.random().toString(36).substring(7).split("").join("."),Pj={INIT:`@@redux/INIT${Ob()}`,REPLACE:`@@redux/REPLACE${Ob()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ob()}`},MR=Pj;function Tj(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function lT(n,e,t){if(typeof n!="function")throw new Error(Qn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qn(1));return t(lT)(n,e)}let r=n,i=e,s=new Map,o=s,l=0,c=!1;function d(){o===s&&(o=new Map,s.forEach((E,S)=>{o.set(S,E)}))}function h(){if(c)throw new Error(Qn(3));return i}function p(E){if(typeof E!="function")throw new Error(Qn(4));if(c)throw new Error(Qn(5));let S=!0;d();const A=l++;return o.set(A,E),function(){if(S){if(c)throw new Error(Qn(6));S=!1,d(),o.delete(A),s=null}}}function g(E){if(!Tj(E))throw new Error(Qn(7));if(typeof E.type>"u")throw new Error(Qn(8));if(typeof E.type!="string")throw new Error(Qn(17));if(c)throw new Error(Qn(9));try{c=!0,i=r(i,E)}finally{c=!1}return(s=o).forEach(A=>{A()}),E}function y(E){if(typeof E!="function")throw new Error(Qn(10));r=E,g({type:MR.REPLACE})}function w(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Qn(11));function A(){const I=S;I.next&&I.next(h())}return A(),{unsubscribe:E(A)}},[LR](){return this}}}return g({type:MR.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[LR]:w}}function NR(n,e){return function(...t){return e(n.apply(this,t))}}function OR(n,e){if(typeof n=="function")return NR(n,e);if(typeof n!="object"||n===null)throw new Error(Qn(16));const t={};for(const r in n){const i=n[r];typeof i=="function"&&(t[r]=NR(i,e))}return t}function uT(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function Ij(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(Qn(15))};const o={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=n.map(c=>c(o));return s=uT(...l)(i.dispatch),{...i,dispatch:s}}}var Fb={exports:{}},Bb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function Dj(){if(FR)return Bb;FR=1;var n=Qy();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,o=n.useMemo,l=n.useDebugValue;return Bb.useSyncExternalStoreWithSelector=function(c,d,h,p,g){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function E(N){if(!S){if(S=!0,A=N,N=p(N),g!==void 0&&w.hasValue){var L=w.value;if(g(L,N))return R=L}return R=N}if(L=R,t(A,N))return L;var z=p(N);return g!==void 0&&g(L,z)?(A=N,L):(A=N,R=z)}var S=!1,A,R,I=h===void 0?null:h;return[function(){return E(d())},I===null?void 0:function(){return E(I())}]},[d,h,p,g]);var b=r(c,y[0],y[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),l(b),b},Bb}var BR;function Lj(){return BR||(BR=1,Fb.exports=Dj()),Fb.exports}Lj();var Mj=_.version.startsWith("19"),Nj=Symbol.for(Mj?"react.transitional.element":"react.element"),Oj=Symbol.for("react.portal"),Fj=Symbol.for("react.fragment"),Bj=Symbol.for("react.strict_mode"),zj=Symbol.for("react.profiler"),jj=Symbol.for("react.consumer"),$j=Symbol.for("react.context"),cT=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),Vj=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Uj=Symbol.for("react.lazy"),Gj=cT,Wj=i0;function qj(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case Nj:switch(n=n.type,n){case Fj:case zj:case Bj:case Hj:case Vj:return n;default:switch(n=n&&n.$$typeof,n){case $j:case cT:case Uj:case i0:return n;case jj:return n;default:return e}}case Oj:return e}}}function Xj(n){return qj(n)===i0}function Kj(n,e,t,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let l=!1,c,d,h,p,g;function y(A,R){return c=A,d=R,h=n(c,d),p=e(r,d),g=t(h,p,d),l=!0,g}function w(){return h=n(c,d),e.dependsOnOwnProps&&(p=e(r,d)),g=t(h,p,d),g}function b(){return n.dependsOnOwnProps&&(h=n(c,d)),e.dependsOnOwnProps&&(p=e(r,d)),g=t(h,p,d),g}function E(){const A=n(c,d),R=!o(A,h);return h=A,R&&(g=t(h,p,d)),g}function S(A,R){const I=!s(R,d),N=!i(A,c,R,d);return c=A,d=R,I&&N?w():I?b():N?E():g}return function(R,I){return l?S(R,I):y(R,I)}}function Yj(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:r,...i}){const s=e(n,i),o=t(n,i),l=r(n,i);return Kj(s,o,l,n,i)}function Qj(n,e){const t={};for(const r in n){const i=n[r];typeof i=="function"&&(t[r]=(...s)=>e(i(...s)))}return t}function Jx(n){return function(t){const r=n(t);function i(){return r}return i.dependsOnOwnProps=!1,i}}function zR(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function dT(n,e){return function(r,{displayName:i}){const s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=n,s.dependsOnOwnProps=zR(n);let d=s(l,c);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=zR(d),d=s(l,c)),d},s}}function s0(n,e){return(t,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Jj(n){return n&&typeof n=="object"?Jx(e=>Qj(n,e)):n?typeof n=="function"?dT(n):s0(n,"mapDispatchToProps"):Jx(e=>({dispatch:e}))}function Zj(n){return n?typeof n=="function"?dT(n):s0(n,"mapStateToProps"):Jx(()=>({}))}function e$(n,e,t){return{...t,...n,...e}}function t$(n){return function(t,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(c,d,h){const p=n(c,d,h);return s?i(p,o)||(o=p):(s=!0,o=p),o}}}function n$(n){return n?typeof n=="function"?t$(n):s0(n,"mergeProps"):()=>e$}function r$(n){n()}function i$(){let n=null,e=null;return{clear(){n=null,e=null},notify(){r$(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var jR={notify(){},get:()=>[]};function hT(n,e){let t,r=jR,i=0,s=!1;function o(b){h();const E=r.subscribe(b);let S=!1;return()=>{S||(S=!0,E(),p())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return s}function h(){i++,t||(t=e?e.addNestedSub(c):n.subscribe(c),r=i$())}function p(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=jR)}function g(){s||(s=!0,h())}function y(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return w}var s$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o$=s$(),a$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",l$=a$(),u$=()=>o$||l$?_.useLayoutEffect:_.useEffect,py=u$();function $R(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function zb(n,e){if($R(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!$R(n[t[i]],e[t[i]]))return!1;return!0}var c$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},h$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f$={[Gj]:h$,[Wj]:fT};function HR(n){return Xj(n)?fT:f$[n.$$typeof]||c$}var p$=Object.defineProperty,g$=Object.getOwnPropertyNames,VR=Object.getOwnPropertySymbols,m$=Object.getOwnPropertyDescriptor,y$=Object.getPrototypeOf,UR=Object.prototype;function Zx(n,e){if(typeof e!="string"){if(UR){const s=y$(e);s&&s!==UR&&Zx(n,s)}let t=g$(e);VR&&(t=t.concat(VR(e)));const r=HR(n),i=HR(e);for(let s=0;s<t.length;++s){const o=t[s];if(!d$[o]&&!(i&&i[o])&&!(r&&r[o])){const l=m$(e,o);try{p$(n,o,l)}catch{}}}}return n}var jb=Symbol.for("react-redux-context"),$b=typeof globalThis<"u"?globalThis:{};function v$(){if(!_.createContext)return{};const n=$b[jb]??($b[jb]=new Map);let e=n.get(_.createContext);return e||(e=_.createContext(null),n.set(_.createContext,e)),e}var pT=v$(),w$=[null,null];function b$(n,e,t){py(()=>n(...e),t)}function x$(n,e,t,r,i,s){n.current=r,t.current=!1,i.current&&(i.current=null,s())}function S$(n,e,t,r,i,s,o,l,c,d,h){if(!n)return()=>{};let p=!1,g=null;const y=()=>{if(p||!l.current)return;const b=e.getState();let E,S;try{E=r(b,i.current)}catch(A){S=A,g=A}S||(g=null),E===s.current?o.current||d():(s.current=E,c.current=E,o.current=!0,h())};return t.onStateChange=y,t.trySubscribe(),y(),()=>{if(p=!0,t.tryUnsubscribe(),t.onStateChange=null,g)throw g}}function E$(n,e){return n===e}function C$(n,e,t,{pure:r,areStatesEqual:i=E$,areOwnPropsEqual:s=zb,areStatePropsEqual:o=zb,areMergedPropsEqual:l=zb,forwardRef:c=!1,context:d=pT}={}){const h=d,p=Zj(n),g=Jj(e),y=n$(t),w=!!n;return E=>{const S=E.displayName||E.name||"Component",A=`Connect(${S})`,R={shouldHandleStateChanges:w,displayName:A,wrappedComponentName:S,WrappedComponent:E,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:l};function I(z){const[V,X,Q]=_.useMemo(()=>{const{reactReduxForwardedRef:It,...Ye}=z;return[z.context,It,Ye]},[z]),W=_.useMemo(()=>{let It=h;return V!=null&&V.Consumer,It},[V,h]),ne=_.useContext(W),ee=!!z.store&&!!z.store.getState&&!!z.store.dispatch,K=!!ne&&!!ne.store,re=ee?z.store:ne.store,ce=K?ne.getServerState:re.getState,ie=_.useMemo(()=>Yj(re.dispatch,R),[re]),[U,fe]=_.useMemo(()=>{if(!w)return w$;const It=hT(re,ee?void 0:ne.subscription),Ye=It.notifyNestedSubs.bind(It);return[It,Ye]},[re,ee,ne]),M=_.useMemo(()=>ee?ne:{...ne,subscription:U},[ee,ne,U]),j=_.useRef(void 0),J=_.useRef(Q),F=_.useRef(void 0),ve=_.useRef(!1),Re=_.useRef(!1),pe=_.useRef(void 0);py(()=>(Re.current=!0,()=>{Re.current=!1}),[]);const ye=_.useMemo(()=>()=>F.current&&Q===J.current?F.current:ie(re.getState(),Q),[re,Q]),Te=_.useMemo(()=>Ye=>U?S$(w,re,U,ie,J,j,ve,Re,F,fe,Ye):()=>{},[U]);b$(x$,[J,j,ve,Q,F,fe]);let De;try{De=_.useSyncExternalStore(Te,ye,ce?()=>ie(ce(),Q):ye)}catch(It){throw pe.current&&(It.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),It}py(()=>{pe.current=void 0,F.current=void 0,j.current=De});const Oe=_.useMemo(()=>_.createElement(E,{...De,ref:X}),[X,E,De]);return _.useMemo(()=>w?_.createElement(W.Provider,{value:M},Oe):Oe,[W,Oe,M])}const L=_.memo(I);if(L.WrappedComponent=E,L.displayName=I.displayName=A,c){const V=_.forwardRef(function(Q,W){return _.createElement(L,{...Q,reactReduxForwardedRef:W})});return V.displayName=A,V.WrappedComponent=E,Zx(V,E)}return Zx(L,E)}}var gT=C$;function A$(n){const{children:e,context:t,serverState:r,store:i}=n,s=_.useMemo(()=>{const c=hT(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=_.useMemo(()=>i.getState(),[i]);py(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=t||pT;return _.createElement(l.Provider,{value:s},e)}var _$=A$;function R$(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function mT(n,e){var t=_.useState(function(){return{inputs:e,result:n()}})[0],r=_.useRef(!0),i=_.useRef(t),s=r.current||!!(e&&i.current.inputs&&R$(e,i.current.inputs)),o=s?i.current:{inputs:e,result:n()};return _.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function k$(n,e){return mT(function(){return n},e)}var st=mT,Pe=k$,P$="Invariant failed";function gt(n,e){if(!n)throw new Error(P$)}var Fi=function(e){var t=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,l=i-t,c={top:t,right:r,bottom:i,left:s,width:o,height:l,x:s,y:t,center:{x:(r+s)/2,y:(i+t)/2}};return c},o0=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},GR=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},T$=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Hb={top:0,right:0,bottom:0,left:0},a0=function(e){var t=e.borderBox,r=e.margin,i=r===void 0?Hb:r,s=e.border,o=s===void 0?Hb:s,l=e.padding,c=l===void 0?Hb:l,d=Fi(o0(t,i)),h=Fi(GR(t,o)),p=Fi(GR(h,c));return{marginBox:d,borderBox:Fi(t),paddingBox:h,contentBox:p,margin:i,border:o,padding:c}},ei=function(e){var t=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(t);return isNaN(i)&&gt(!1),i},I$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gy=function(e,t){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=T$(r,t);return a0({borderBox:l,border:i,margin:s,padding:o})},my=function(e,t){return t===void 0&&(t=I$()),gy(e,t)},yT=function(e,t){var r={top:ei(t.marginTop),right:ei(t.marginRight),bottom:ei(t.marginBottom),left:ei(t.marginLeft)},i={top:ei(t.paddingTop),right:ei(t.paddingRight),bottom:ei(t.paddingBottom),left:ei(t.paddingLeft)},s={top:ei(t.borderTopWidth),right:ei(t.borderRightWidth),bottom:ei(t.borderBottomWidth),left:ei(t.borderLeftWidth)};return a0({borderBox:e,margin:r,padding:i,border:s})},vT=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return yT(t,r)},WR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function D$(n,e){return!!(n===e||WR(n)&&WR(e))}function L$(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!D$(n[t],e[t]))return!1;return!0}function vn(n,e){e===void 0&&(e=L$);var t=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var o=n.apply(this,i);return t={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){t=null},r}var tf=function(e){var t=[],r=null,i=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function yy(){return yy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yy.apply(null,arguments)}function wT(n,e){}wT.bind(null,"warn");wT.bind(null,"error");function Sa(){}function M$(n,e){return{...n,...e}}function ci(n,e,t){const r=e.map(i=>{const s=M$(t,i.options);return n.addEventListener(i.eventName,i.fn,s),function(){n.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const N$="Invariant failed";class vy extends Error{}vy.prototype.toString=function(){return this.message};function he(n,e){throw new vy(N$)}class O$ extends _t.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Sa,this.onWindowError=t=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),t.error instanceof vy&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=ci(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof vy){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const F$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,wy=n=>n+1,B$=n=>`
  You have lifted an item in position ${wy(n.source.index)}
`,bT=(n,e)=>{const t=n.droppableId===e.droppableId,r=wy(n.index),i=wy(e.index);return t?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${n.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},xT=(n,e,t)=>e.droppableId===t.droppableId?`
      The item ${n}
      has been combined with ${t.draggableId}`:`
      The item ${n}
      in list ${e.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,z$=n=>{const e=n.destination;if(e)return bT(n.source,e);const t=n.combine;return t?xT(n.draggableId,n.source,t):"You are over an area that cannot be dropped on"},qR=n=>`
  The item has returned to its starting position
  of ${wy(n.index)}
`,j$=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${qR(n.source)}
    `;const e=n.destination,t=n.combine;return e?`
      You have dropped the item.
      ${bT(n.source,e)}
    `:t?`
      You have dropped the item.
      ${xT(n.draggableId,n.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${qR(n.source)}
  `},Tm={dragHandleUsageInstructions:F$,onDragStart:B$,onDragUpdate:z$,onDragEnd:j$},wn={x:0,y:0},kn=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),jr=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),Ea=(n,e)=>n.x===e.x&&n.y===e.y,Cd=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),iu=(n,e,t=0)=>n==="x"?{x:e,y:t}:{x:t,y:e},nf=(n,e)=>Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2),XR=(n,e)=>Math.min(...e.map(t=>nf(n,t))),ST=n=>e=>({x:n(e.x),y:n(e.y)});var $$=(n,e)=>{const t=Fi({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t};const $p=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),KR=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],H$={top:0,right:0,bottom:0,left:0},V$=(n,e)=>e?$p(n,e.scroll.diff.displacement):n,U$=(n,e,t)=>t&&t.increasedBy?{...n,[e.end]:n[e.end]+t.increasedBy[e.line]}:n,G$=(n,e)=>e&&e.shouldClipSubject?$$(e.pageMarginBox,n):Fi(n);var hd=({page:n,withPlaceholder:e,axis:t,frame:r})=>{const i=V$(n.marginBox,r),s=U$(i,t,e),o=G$(s,r);return{page:n,withPlaceholder:e,active:o}},l0=(n,e)=>{n.frame||he();const t=n.frame,r=jr(e,t.scroll.initial),i=Cd(r),s={...t,scroll:{initial:t.scroll.initial,current:e,diff:{value:r,displacement:i},max:t.scroll.max}},o=hd({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:s});return{...n,frame:s,subject:o}};const ET=vn(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),CT=vn(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),uv=vn(n=>Object.values(n)),W$=vn(n=>Object.values(n));var Ad=vn((n,e)=>W$(e).filter(r=>n===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function u0(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function cv(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var dv=vn((n,e)=>e.filter(t=>t.descriptor.id!==n.descriptor.id)),q$=({isMovingForward:n,draggable:e,destination:t,insideDestination:r,previousImpact:i})=>{if(!t.isCombineEnabled||!u0(i))return null;function o(y){const w={type:"COMBINE",combine:{draggableId:y,droppableId:t.descriptor.id}};return{...i,at:w}}const l=i.displaced.all,c=l.length?l[0]:null;if(n)return c?o(c):null;const d=dv(e,r);if(!c){if(!d.length)return null;const y=d[d.length-1];return o(y.descriptor.id)}const h=d.findIndex(y=>y.descriptor.id===c);h===-1&&he();const p=h-1;if(p<0)return null;const g=d[p];return o(g.descriptor.id)},_d=(n,e)=>n.descriptor.droppableId===e.descriptor.id;const AT={point:wn,value:0},rf={invisible:{},visible:{},all:[]},X$={displaced:rf,displacedBy:AT,at:null};var di=(n,e)=>t=>n<=t&&t<=e,_T=n=>{const e=di(n.top,n.bottom),t=di(n.left,n.right);return r=>{if(e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right))return!0;const s=e(r.top)||e(r.bottom),o=t(r.left)||t(r.right);if(s&&o)return!0;const c=r.top<n.top&&r.bottom>n.bottom,d=r.left<n.left&&r.right>n.right;return c&&d?!0:c&&o||d&&s}},K$=n=>{const e=di(n.top,n.bottom),t=di(n.left,n.right);return r=>e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right)};const c0={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},RT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Y$=n=>e=>{const t=di(e.top,e.bottom),r=di(e.left,e.right);return i=>n===c0?t(i.top)&&t(i.bottom):r(i.left)&&r(i.right)};const Q$=(n,e)=>{const t=e.frame?e.frame.scroll.diff.displacement:wn;return $p(n,t)},J$=(n,e,t)=>e.subject.active?t(e.subject.active)(n):!1,Z$=(n,e,t)=>t(e)(n),d0=({target:n,destination:e,viewport:t,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?Q$(n,e):n;return J$(s,e,i)&&Z$(s,t,i)},eH=n=>d0({...n,isVisibleThroughFrameFn:_T}),kT=n=>d0({...n,isVisibleThroughFrameFn:K$}),tH=n=>d0({...n,isVisibleThroughFrameFn:Y$(n.destination.axis)}),nH=(n,e,t)=>{if(typeof t=="boolean")return t;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[n])return!1;const s=i[n];return s?s.shouldAnimate:!0};function rH(n,e){const t=n.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Fi(o0(t,r))}function sf({afterDragging:n,destination:e,displacedBy:t,viewport:r,forceShouldAnimate:i,last:s}){return n.reduce(function(l,c){const d=rH(c,t),h=c.descriptor.id;if(l.all.push(h),!eH({target:d,destination:e,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const g=nH(h,s,i),y={draggableId:h,shouldAnimate:g};return l.visible[h]=y,l},{all:[],visible:{},invisible:{}})}function iH(n,e){if(!n.length)return 0;const t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function YR({insideDestination:n,inHomeList:e,displacedBy:t,destination:r}){const i=iH(n,{inHomeList:e});return{displaced:rf,displacedBy:t,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function by({draggable:n,insideDestination:e,destination:t,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:l}){const c=_d(n,t);if(o==null)return YR({insideDestination:e,inHomeList:c,displacedBy:i,destination:t});const d=e.find(w=>w.descriptor.index===o);if(!d)return YR({insideDestination:e,inHomeList:c,displacedBy:i,destination:t});const h=dv(n,e),p=e.indexOf(d),g=h.slice(p);return{displaced:sf({afterDragging:g,destination:t,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:o}}}}function Aa(n,e){return!!e.effected[n]}var sH=({isMovingForward:n,destination:e,draggables:t,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const s=r.draggableId,l=t[s].descriptor.index;return Aa(s,i)?n?l:l-1:n?l+1:l},oH=({isMovingForward:n,isInHomeList:e,insideDestination:t,location:r})=>{if(!t.length)return null;const i=r.index,s=n?i+1:i-1,o=t[0].descriptor.index,l=t[t.length-1].descriptor.index,c=e?l:l+1;return s<o||s>c?null:s},aH=({isMovingForward:n,isInHomeList:e,draggable:t,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||he(),d.type==="REORDER"){const p=oH({isMovingForward:n,isInHomeList:e,location:d.destination,insideDestination:s});return p==null?null:by({draggable:t,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:p})}const h=sH({isMovingForward:n,destination:i,displaced:o.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:by({draggable:t,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},lH=({displaced:n,afterCritical:e,combineWith:t,displacedBy:r})=>{const i=!!(n.visible[t]||n.invisible[t]);return Aa(t,e)?i?wn:Cd(r.point):i?r.point:wn},uH=({afterCritical:n,impact:e,draggables:t})=>{const r=cv(e);r||he();const i=r.draggableId,s=t[i].page.borderBox.center,o=lH({displaced:e.displaced,afterCritical:n,combineWith:i,displacedBy:e.displacedBy});return kn(s,o)};const PT=(n,e)=>e.margin[n.start]+e.borderBox[n.size]/2,cH=(n,e)=>e.margin[n.end]+e.borderBox[n.size]/2,h0=(n,e,t)=>e[n.crossAxisStart]+t.margin[n.crossAxisStart]+t.borderBox[n.crossAxisSize]/2,QR=({axis:n,moveRelativeTo:e,isMoving:t})=>iu(n.line,e.marginBox[n.end]+PT(n,t),h0(n,e.marginBox,t)),JR=({axis:n,moveRelativeTo:e,isMoving:t})=>iu(n.line,e.marginBox[n.start]-cH(n,t),h0(n,e.marginBox,t)),dH=({axis:n,moveInto:e,isMoving:t})=>iu(n.line,e.contentBox[n.start]+PT(n,t),h0(n,e.contentBox,t));var hH=({impact:n,draggable:e,draggables:t,droppable:r,afterCritical:i})=>{const s=Ad(r.descriptor.id,t),o=e.page,l=r.axis;if(!s.length)return dH({axis:l,moveInto:r.page,isMoving:o});const{displaced:c,displacedBy:d}=n,h=c.all[0];if(h){const g=t[h];if(Aa(h,i))return JR({axis:l,moveRelativeTo:g.page,isMoving:o});const y=gy(g.page,d.point);return JR({axis:l,moveRelativeTo:y,isMoving:o})}const p=s[s.length-1];if(p.descriptor.id===e.descriptor.id)return o.borderBox.center;if(Aa(p.descriptor.id,i)){const g=gy(p.page,Cd(i.displacedBy.point));return QR({axis:l,moveRelativeTo:g,isMoving:o})}return QR({axis:l,moveRelativeTo:p.page,isMoving:o})},eS=(n,e)=>{const t=n.frame;return t?kn(e,t.scroll.diff.displacement):e};const fH=({impact:n,draggable:e,droppable:t,draggables:r,afterCritical:i})=>{const s=e.page.borderBox.center,o=n.at;return!t||!o?s:o.type==="REORDER"?hH({impact:n,draggable:e,draggables:r,droppable:t,afterCritical:i}):uH({impact:n,draggables:r,afterCritical:i})};var hv=n=>{const e=fH(n),t=n.droppable;return t?eS(t,e):e},TT=(n,e)=>{const t=jr(e,n.scroll.initial),r=Cd(t);return{frame:Fi({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:r}}}};function ZR(n,e){return n.map(t=>e[t])}function pH(n,e){for(let t=0;t<e.length;t++){const r=e[t].visible[n];if(r)return r}return null}var gH=({impact:n,viewport:e,destination:t,draggables:r,maxScrollChange:i})=>{const s=TT(e,kn(e.scroll.current,i)),o=t.frame?l0(t,kn(t.frame.scroll.current,i)):t,l=n.displaced,c=sf({afterDragging:ZR(l.all,r),destination:t,displacedBy:n.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=sf({afterDragging:ZR(l.all,r),destination:o,displacedBy:n.displacedBy,viewport:e.frame,last:l,forceShouldAnimate:!1}),h={},p={},g=[l,c,d];return l.all.forEach(w=>{const b=pH(w,g);if(b){p[w]=b;return}h[w]=!0}),{...n,displaced:{all:l.all,invisible:h,visible:p}}},mH=(n,e)=>kn(n.scroll.diff.displacement,e),f0=({pageBorderBoxCenter:n,draggable:e,viewport:t})=>{const r=mH(t,n),i=jr(r,e.page.borderBox.center);return kn(e.client.borderBox.center,i)},IT=({draggable:n,destination:e,newPageBorderBoxCenter:t,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=jr(t,n.page.borderBox.center),c={target:$p(n.page.borderBox,o),destination:e,withDroppableDisplacement:i,viewport:r};return s?tH(c):kT(c)},yH=({isMovingForward:n,draggable:e,destination:t,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!t.isEnabled)return null;const d=Ad(t.descriptor.id,r),h=_d(e,t),p=q$({isMovingForward:n,draggable:e,destination:t,insideDestination:d,previousImpact:i})||aH({isMovingForward:n,isInHomeList:h,draggable:e,draggables:r,destination:t,insideDestination:d,previousImpact:i,viewport:s,afterCritical:c});if(!p)return null;const g=hv({impact:p,draggable:e,droppable:t,draggables:r,afterCritical:c});if(IT({draggable:e,destination:t,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:f0({pageBorderBoxCenter:g,draggable:e,viewport:s}),impact:p,scrollJumpRequest:null};const w=jr(g,o),b=gH({impact:p,viewport:s,destination:t,draggables:r,maxScrollChange:w});return{clientSelection:l,impact:b,scrollJumpRequest:w}};const Kn=n=>{const e=n.subject.active;return e||he(),e};var vH=({isMovingForward:n,pageBorderBoxCenter:e,source:t,droppables:r,viewport:i})=>{const s=t.subject.active;if(!s)return null;const o=t.axis,l=di(s[o.start],s[o.end]),c=uv(r).filter(h=>h!==t).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>_T(i.frame)(Kn(h))).filter(h=>{const p=Kn(h);return n?s[o.crossAxisEnd]<p[o.crossAxisEnd]:p[o.crossAxisStart]<s[o.crossAxisStart]}).filter(h=>{const p=Kn(h),g=di(p[o.start],p[o.end]);return l(p[o.start])||l(p[o.end])||g(s[o.start])||g(s[o.end])}).sort((h,p)=>{const g=Kn(h)[o.crossAxisStart],y=Kn(p)[o.crossAxisStart];return n?g-y:y-g}).filter((h,p,g)=>Kn(h)[o.crossAxisStart]===Kn(g[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>di(Kn(h)[o.start],Kn(h)[o.end])(e[o.line]));return d.length===1?d[0]:d.length>1?d.sort((h,p)=>Kn(h)[o.start]-Kn(p)[o.start])[0]:c.sort((h,p)=>{const g=XR(e,KR(Kn(h))),y=XR(e,KR(Kn(p)));return g!==y?g-y:Kn(h)[o.start]-Kn(p)[o.start]})[0]};const e1=(n,e)=>{const t=n.page.borderBox.center;return Aa(n.descriptor.id,e)?jr(t,e.displacedBy.point):t},wH=(n,e)=>{const t=n.page.borderBox;return Aa(n.descriptor.id,e)?$p(t,Cd(e.displacedBy.point)):t};var bH=({pageBorderBoxCenter:n,viewport:e,destination:t,insideDestination:r,afterCritical:i})=>r.filter(o=>kT({target:wH(o,i),destination:t,viewport:e.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=nf(n,eS(t,e1(o,i))),d=nf(n,eS(t,e1(l,i)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Hp=vn(function(e,t){const r=t[e.line];return{value:r,point:iu(e.line,r)}});const xH=(n,e,t)=>{const r=n.axis;if(n.descriptor.mode==="virtual")return iu(r.line,e[r.line]);const i=n.subject.page.contentBox[r.size],c=Ad(n.descriptor.id,t).reduce((d,h)=>d+h.client.marginBox[r.size],0)+e[r.line]-i;return c<=0?null:iu(r.line,c)},DT=(n,e)=>({...n,scroll:{...n.scroll,max:e}}),LT=(n,e,t)=>{const r=n.frame;_d(e,n)&&he(),n.subject.withPlaceholder&&he();const i=Hp(n.axis,e.displaceBy).point,s=xH(n,i,t),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!r){const h=hd({page:n.subject.page,withPlaceholder:o,axis:n.axis,frame:n.frame});return{...n,subject:h}}const l=s?kn(r.scroll.max,s):r.scroll.max,c=DT(r,l),d=hd({page:n.subject.page,withPlaceholder:o,axis:n.axis,frame:c});return{...n,subject:d,frame:c}},SH=n=>{const e=n.subject.withPlaceholder;e||he();const t=n.frame;if(!t){const o=hd({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:o}}const r=e.oldFrameMaxScroll;r||he();const i=DT(t,r),s=hd({page:n.subject.page,axis:n.axis,frame:i,withPlaceholder:null});return{...n,subject:s,frame:i}};var EH=({previousPageBorderBoxCenter:n,moveRelativeTo:e,insideDestination:t,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:l})=>{if(!e){if(t.length)return null;const p={displaced:rf,displacedBy:AT,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},g=hv({impact:p,draggable:r,droppable:s,draggables:i,afterCritical:l}),y=_d(r,s)?s:LT(s,r,i);return IT({draggable:r,destination:y,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const c=n[s.axis.line]<=e.page.borderBox.center[s.axis.line],d=(()=>{const p=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?p:p+1})(),h=Hp(s.axis,r.displaceBy);return by({draggable:r,insideDestination:t,destination:s,viewport:o,displacedBy:h,last:rf,index:d})},CH=({isMovingForward:n,previousPageBorderBoxCenter:e,draggable:t,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:l})=>{const c=vH({isMovingForward:n,pageBorderBoxCenter:e,source:r,droppables:s,viewport:o});if(!c)return null;const d=Ad(c.descriptor.id,i),h=bH({pageBorderBoxCenter:e,viewport:o,destination:c,insideDestination:d,afterCritical:l}),p=EH({previousPageBorderBoxCenter:e,destination:c,draggable:t,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:o,afterCritical:l});if(!p)return null;const g=hv({impact:p,draggable:t,droppable:c,draggables:i,afterCritical:l});return{clientSelection:f0({pageBorderBoxCenter:g,draggable:t,viewport:o}),impact:p,scrollJumpRequest:null}},Vr=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const AH=(n,e)=>{const t=Vr(n);return t?e[t]:null};var _H=({state:n,type:e})=>{const t=AH(n.impact,n.dimensions.droppables),r=!!t,i=n.dimensions.droppables[n.critical.droppable.id],s=t||i,o=s.axis.direction,l=o==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||o==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(l&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",d=n.dimensions.draggables[n.critical.draggable.id],h=n.current.page.borderBoxCenter,{draggables:p,droppables:g}=n.dimensions;return l?yH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:s,draggables:p,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):CH({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:s,draggables:p,droppables:g,viewport:n.viewport,afterCritical:n.afterCritical})};function Ja(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function MT(n){const e=di(n.top,n.bottom),t=di(n.left,n.right);return function(i){return e(i.y)&&t(i.x)}}function RH(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function kH({pageBorderBox:n,draggable:e,candidates:t}){const r=e.page.borderBox.center,i=t.map(s=>{const o=s.axis,l=iu(s.axis.line,n.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:nf(r,l)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function PH({pageBorderBox:n,draggable:e,droppables:t}){const r=uv(t).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!RH(n,s))return!1;if(MT(s)(n.center))return!0;const o=i.axis,l=s.center[o.crossAxisLine],c=n[o.crossAxisStart],d=n[o.crossAxisEnd],h=di(s[o.crossAxisStart],s[o.crossAxisEnd]),p=h(c),g=h(d);return!p&&!g?!0:p?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:kH({pageBorderBox:n,draggable:e,candidates:r}):null}const NT=(n,e)=>Fi($p(n,e));var TH=(n,e)=>{const t=n.frame;return t?NT(e,t.scroll.diff.value):e};function OT({displaced:n,id:e}){return!!(n.visible[e]||n.invisible[e])}function IH({draggable:n,closest:e,inHomeList:t}){return e?t&&e.descriptor.index>n.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var DH=({pageBorderBoxWithDroppableScroll:n,draggable:e,destination:t,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const l=t.axis,c=Hp(t.axis,e.displaceBy),d=c.value,h=n[l.start],p=n[l.end],y=dv(e,r).find(b=>{const E=b.descriptor.id,S=b.page.borderBox.center[l.line],A=Aa(E,o),R=OT({displaced:i,id:E});return A?R?p<=S:h<S-d:R?p<=S+d:h<S})||null,w=IH({draggable:e,closest:y,inHomeList:_d(e,t)});return by({draggable:e,insideDestination:r,destination:t,viewport:s,last:i,displacedBy:c,index:w})};const LH=4;var MH=({draggable:n,pageBorderBoxWithDroppableScroll:e,previousImpact:t,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,l=Hp(r.axis,n.displaceBy),c=l.value,d=e[o.start],h=e[o.end],g=dv(n,i).find(w=>{const b=w.descriptor.id,E=w.page.borderBox,A=E[o.size]/LH,R=Aa(b,s),I=OT({displaced:t.displaced,id:b});return R?I?h>E[o.start]+A&&h<E[o.end]-A:d>E[o.start]-c+A&&d<E[o.end]-c-A:I?h>E[o.start]+c+A&&h<E[o.end]+c-A:d>E[o.start]+A&&d<E[o.end]-A});return g?{displacedBy:l,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},FT=({pageOffset:n,draggable:e,draggables:t,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const l=NT(e.page.borderBox,n),c=PH({pageBorderBox:l,draggable:e,droppables:r});if(!c)return X$;const d=r[c],h=Ad(d.descriptor.id,t),p=TH(d,l);return MH({pageBorderBoxWithDroppableScroll:p,draggable:e,previousImpact:i,destination:d,insideDestination:h,afterCritical:o})||DH({pageBorderBoxWithDroppableScroll:p,draggable:e,destination:d,insideDestination:h,last:i.displaced,viewport:s,afterCritical:o})},p0=(n,e)=>({...n,[e.descriptor.id]:e});const NH=({previousImpact:n,impact:e,droppables:t})=>{const r=Vr(n),i=Vr(e);if(!r||r===i)return t;const s=t[r];if(!s.subject.withPlaceholder)return t;const o=SH(s);return p0(t,o)};var OH=({draggable:n,draggables:e,droppables:t,previousImpact:r,impact:i})=>{const s=NH({previousImpact:r,impact:i,droppables:t}),o=Vr(i);if(!o)return s;const l=t[o];if(_d(n,l)||l.subject.withPlaceholder)return s;const c=LT(l,n,e);return p0(s,c)},Uh=({state:n,clientSelection:e,dimensions:t,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||n.viewport,l=t||n.dimensions,c=e||n.current.client.selection,d=jr(c,n.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:kn(n.initial.client.borderBoxCenter,d)},p={selection:kn(h.selection,o.scroll.current),borderBoxCenter:kn(h.borderBoxCenter,o.scroll.current),offset:kn(h.offset,o.scroll.diff.value)},g={client:h,page:p};if(n.phase==="COLLECTING")return{...n,dimensions:l,viewport:o,current:g};const y=l.draggables[n.critical.draggable.id],w=i||FT({pageOffset:p.offset,draggable:y,draggables:l.draggables,droppables:l.droppables,previousImpact:n.impact,viewport:o,afterCritical:n.afterCritical}),b=OH({draggable:y,impact:w,previousImpact:n.impact,draggables:l.draggables,droppables:l.droppables});return{...n,current:g,dimensions:{draggables:l.draggables,droppables:b},impact:w,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function FH(n,e){return n.map(t=>e[t])}var BT=({impact:n,viewport:e,draggables:t,destination:r,forceShouldAnimate:i})=>{const s=n.displaced,o=FH(s.all,t),l=sf({afterDragging:o,destination:r,displacedBy:n.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:s});return{...n,displaced:l}},zT=({impact:n,draggable:e,droppable:t,draggables:r,viewport:i,afterCritical:s})=>{const o=hv({impact:n,draggable:e,draggables:r,droppable:t,afterCritical:s});return f0({pageBorderBoxCenter:o,draggable:e,viewport:i})},jT=({state:n,dimensions:e,viewport:t})=>{n.movementMode!=="SNAP"&&he();const r=n.impact,i=t||n.viewport,s=e||n.dimensions,{draggables:o,droppables:l}=s,c=o[n.critical.draggable.id],d=Vr(r);d||he();const h=l[d],p=BT({impact:r,viewport:i,destination:h,draggables:o}),g=zT({impact:p,draggable:c,droppable:h,draggables:o,viewport:i,afterCritical:n.afterCritical});return Uh({impact:p,clientSelection:g,state:n,dimensions:s,viewport:i})},BH=n=>({index:n.index,droppableId:n.droppableId}),$T=({draggable:n,home:e,draggables:t,viewport:r})=>{const i=Hp(e.axis,n.displaceBy),s=Ad(e.descriptor.id,t),o=s.indexOf(n);o===-1&&he();const l=s.slice(o+1),c=l.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),d={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:sf({afterDragging:l,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:BH(n.descriptor)}},afterCritical:d}},zH=(n,e)=>({draggables:n.draggables,droppables:p0(n.droppables,e)}),jH=({draggable:n,offset:e,initialWindowScroll:t})=>{const r=gy(n.client,e),i=my(r,t);return{...n,placeholder:{...n.placeholder,client:r},client:r,page:i}},$H=n=>{const e=n.frame;return e||he(),e},HH=({additions:n,updatedDroppables:e,viewport:t})=>{const r=t.scroll.diff.value;return n.map(i=>{const s=i.descriptor.droppableId,o=e[s],c=$H(o).scroll.diff.value,d=kn(r,c);return jH({draggable:i,offset:d,initialWindowScroll:t.scroll.initial})})},VH=({state:n,published:e})=>{const t=e.modified.map(S=>{const A=n.dimensions.droppables[S.droppableId];return l0(A,S.scroll)}),r={...n.dimensions.droppables,...ET(t)},i=CT(HH({additions:e.additions,updatedDroppables:r,viewport:n.viewport})),s={...n.dimensions.draggables,...i};e.removals.forEach(S=>{delete s[S]});const o={droppables:r,draggables:s},l=Vr(n.impact),c=l?o.droppables[l]:null,d=o.draggables[n.critical.draggable.id],h=o.droppables[n.critical.droppable.id],{impact:p,afterCritical:g}=$T({draggable:d,home:h,draggables:s,viewport:n.viewport}),y=c&&c.isCombineEnabled?n.impact:p,w=FT({pageOffset:n.current.page.offset,draggable:o.draggables[n.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:y,viewport:n.viewport,afterCritical:g}),b={...n,phase:"DRAGGING",impact:w,onLiftImpact:p,dimensions:o,afterCritical:g,forceShouldAnimate:!1};return n.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const tS=n=>n.movementMode==="SNAP",Vb=(n,e,t)=>{const r=zH(n.dimensions,e);return!tS(n)||t?Uh({state:n,dimensions:r}):jT({state:n,dimensions:r})};function Ub(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const t1={phase:"IDLE",completed:null,shouldFlush:!1};var UH=(n=t1,e)=>{if(e.type==="FLUSH")return{...t1,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&he();const{critical:t,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=e.payload,l=s.draggables[t.draggable.id],c=s.droppables[t.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:wn},h={client:d,page:{selection:kn(d.selection,i.scroll.initial),borderBoxCenter:kn(d.selection,i.scroll.initial),offset:kn(d.selection,i.scroll.diff.value)}},p=uv(s.droppables).every(b=>!b.isFixedOnPage),{impact:g,afterCritical:y}=$T({draggable:l,home:c,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:o,dimensions:s,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:y,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&he(),{...n,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||he(),VH({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Ja(n)||he();const{client:t}=e.payload;return Ea(t,n.current.client.selection)?n:Uh({state:n,clientSelection:t,impact:tS(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return Ub(n);Ja(n)||he();const{id:t,newScroll:r}=e.payload,i=n.dimensions.droppables[t];if(!i)return n;const s=l0(i,r);return Vb(n,s,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ja(n)||he();const{id:t,isEnabled:r}=e.payload,i=n.dimensions.droppables[t];i||he(),i.isEnabled===r&&he();const s={...i,isEnabled:r};return Vb(n,s,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ja(n)||he();const{id:t,isCombineEnabled:r}=e.payload,i=n.dimensions.droppables[t];i||he(),i.isCombineEnabled===r&&he();const s={...i,isCombineEnabled:r};return Vb(n,s,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Ja(n)||he(),n.isWindowScrollAllowed||he();const t=e.payload.newScroll;if(Ea(n.viewport.scroll.current,t))return Ub(n);const r=TT(n.viewport,t);return tS(n)?jT({state:n,viewport:r}):Uh({state:n,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ja(n))return n;const t=e.payload.maxScroll;if(Ea(t,n.viewport.scroll.max))return n;const r={...n.viewport,scroll:{...n.viewport.scroll,max:t}};return{...n,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&he();const t=_H({state:n,type:e.type});return t?Uh({state:n,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){const t=e.payload.reason;return n.phase!=="COLLECTING"&&he(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(e.type==="DROP_ANIMATE"){const{completed:t,dropDuration:r,newHomeClientOffset:i}=e.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||he(),{phase:"DROP_ANIMATING",completed:t,dropDuration:r,newHomeClientOffset:i,dimensions:n.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:t}=e.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return n};function ct(n,e){return n instanceof Object&&"type"in n&&n.type===e}const GH=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),WH=n=>({type:"LIFT",payload:n}),qH=n=>({type:"INITIAL_PUBLISH",payload:n}),XH=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),KH=()=>({type:"COLLECTION_STARTING",payload:null}),YH=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),QH=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),JH=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),HT=n=>({type:"MOVE",payload:n}),ZH=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),eV=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),tV=()=>({type:"MOVE_UP",payload:null}),nV=()=>({type:"MOVE_DOWN",payload:null}),rV=()=>({type:"MOVE_RIGHT",payload:null}),iV=()=>({type:"MOVE_LEFT",payload:null}),g0=()=>({type:"FLUSH",payload:null}),sV=n=>({type:"DROP_ANIMATE",payload:n}),m0=n=>({type:"DROP_COMPLETE",payload:n}),VT=n=>({type:"DROP",payload:n}),oV=n=>({type:"DROP_PENDING",payload:n}),UT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var aV=n=>({getState:e,dispatch:t})=>r=>i=>{if(!ct(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:l}=i.payload,c=e();c.phase==="DROP_ANIMATING"&&t(m0({completed:c.completed})),e().phase!=="IDLE"&&he(),t(g0()),t(GH({draggableId:s,movementMode:l}));const h={draggableId:s,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:p,dimensions:g,viewport:y}=n.startPublishing(h);t(qH({critical:p,dimensions:g,clientSelection:o,movementMode:l,viewport:y}))},lV=n=>()=>e=>t=>{ct(t,"INITIAL_PUBLISH")&&n.dragging(),ct(t,"DROP_ANIMATE")&&n.dropping(t.payload.completed.result.reason),(ct(t,"FLUSH")||ct(t,"DROP_COMPLETE"))&&n.resting(),e(t)};const y0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},of={opacity:{drop:0,combining:.7},scale:{drop:.75}},GT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ya=`${GT.outOfTheWay}s ${y0.outOfTheWay}`,Gh={fluid:`opacity ${Ya}`,snap:`transform ${Ya}, opacity ${Ya}`,drop:n=>{const e=`${n}s ${y0.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Ya}`,placeholder:`height ${Ya}, width ${Ya}, margin ${Ya}`},n1=n=>Ea(n,wn)?void 0:`translate(${n.x}px, ${n.y}px)`,nS={moveTo:n1,drop:(n,e)=>{const t=n1(n);if(t)return e?`${t} scale(${of.scale.drop})`:t}},{minDropTime:rS,maxDropTime:WT}=GT,uV=WT-rS,r1=1500,cV=.6;var dV=({current:n,destination:e,reason:t})=>{const r=nf(n,e);if(r<=0)return rS;if(r>=r1)return WT;const i=r/r1,s=rS+uV*i,o=t==="CANCEL"?s*cV:s;return Number(o.toFixed(2))},hV=({impact:n,draggable:e,dimensions:t,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=t,l=Vr(n),c=l?o[l]:null,d=o[e.descriptor.droppableId],h=zT({impact:n,draggable:e,draggables:s,afterCritical:i,droppable:c||d,viewport:r});return jr(h,e.client.borderBox.center)},fV=({draggables:n,reason:e,lastImpact:t,home:r,viewport:i,onLiftImpact:s})=>!t.at||e!=="DROP"?{impact:BT({draggables:n,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:rf},didDropInsideDroppable:!0};const pV=({getState:n,dispatch:e})=>t=>r=>{if(!ct(r,"DROP")){t(r);return}const i=n(),s=r.payload.reason;if(i.phase==="COLLECTING"){e(oV({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&he(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||he();const l=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=fV({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=p?u0(h):null,y=p?cv(h):null,w={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:w,reason:s,mode:i.movementMode,destination:g,combine:y},E=hV({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),S={critical:i.critical,afterCritical:i.afterCritical,result:b,impact:h};if(!(!Ea(i.current.client.offset,E)||!!b.combine)){e(m0({completed:S}));return}const R=dV({current:i.current.client.offset,destination:E,reason:s});e(sV({newHomeClientOffset:E,dropDuration:R,completed:S}))};var qT=()=>({x:window.pageXOffset,y:window.pageYOffset});function gV(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||n()}}}function mV({onWindowScroll:n}){function e(){n(qT())}const t=tf(e),r=gV(t);let i=Sa;function s(){return i!==Sa}function o(){s()&&he(),i=ci(window,[r])}function l(){s()||he(),t.cancel(),i(),i=Sa}return{start:o,stop:l,isActive:s}}const yV=n=>ct(n,"DROP_COMPLETE")||ct(n,"DROP_ANIMATE")||ct(n,"FLUSH"),vV=n=>{const e=mV({onWindowScroll:t=>{n.dispatch(ZH({newScroll:t}))}});return t=>r=>{!e.isActive()&&ct(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&yV(r)&&e.stop(),t(r)}};var wV=n=>{let e=!1,t=!1;const r=setTimeout(()=>{t=!0}),i=s=>{e||t||(e=!0,n(s),clearTimeout(r))};return i.wasCalled=()=>e,i},bV=()=>{const n=[],e=i=>{const s=n.findIndex(l=>l.timerId===i);s===-1&&he();const[o]=n.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>e(s)),o={timerId:s,callback:i};n.push(o)},flush:()=>{if(!n.length)return;const i=[...n];n.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const xV=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.droppableId===e.droppableId&&n.index===e.index,SV=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.draggableId===e.draggableId&&n.droppableId===e.droppableId,EV=(n,e)=>{if(n===e)return!0;const t=n.draggable.id===e.draggable.id&&n.draggable.droppableId===e.draggable.droppableId&&n.draggable.type===e.draggable.type&&n.draggable.index===e.draggable.index,r=n.droppable.id===e.droppable.id&&n.droppable.type===e.droppable.type;return t&&r},mh=(n,e)=>{e()},sm=(n,e)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:e});function Gb(n,e,t,r){if(!n){t(r(e));return}const i=wV(t);n(e,{announce:i}),i.wasCalled()||t(r(e))}var CV=(n,e)=>{const t=bV();let r=null;const i=(p,g)=>{r&&he(),mh("onBeforeCapture",()=>{const y=n().onBeforeCapture;y&&y({draggableId:p,mode:g})})},s=(p,g)=>{r&&he(),mh("onBeforeDragStart",()=>{const y=n().onBeforeDragStart;y&&y(sm(p,g))})},o=(p,g)=>{r&&he();const y=sm(p,g);r={mode:g,lastCritical:p,lastLocation:y.source,lastCombine:null},t.add(()=>{mh("onDragStart",()=>Gb(n().onDragStart,y,e,Tm.onDragStart))})},l=(p,g)=>{const y=u0(g),w=cv(g);r||he();const b=!EV(p,r.lastCritical);b&&(r.lastCritical=p);const E=!xV(r.lastLocation,y);E&&(r.lastLocation=y);const S=!SV(r.lastCombine,w);if(S&&(r.lastCombine=w),!b&&!E&&!S)return;const A={...sm(p,r.mode),combine:w,destination:y};t.add(()=>{mh("onDragUpdate",()=>Gb(n().onDragUpdate,A,e,Tm.onDragUpdate))})},c=()=>{r||he(),t.flush()},d=p=>{r||he(),r=null,mh("onDragEnd",()=>Gb(n().onDragEnd,p,e,Tm.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:l,flush:c,drop:d,abort:()=>{if(!r)return;const p={...sm(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(p)}}},AV=(n,e)=>{const t=CV(n,e);return r=>i=>s=>{if(ct(s,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(ct(s,"INITIAL_PUBLISH")){const l=s.payload.critical;t.beforeStart(l,s.payload.movementMode),i(s),t.start(l,s.payload.movementMode);return}if(ct(s,"DROP_COMPLETE")){const l=s.payload.completed.result;t.flush(),i(s),t.drop(l);return}if(i(s),ct(s,"FLUSH")){t.abort();return}const o=r.getState();o.phase==="DRAGGING"&&t.update(o.critical,o.impact)}};const _V=n=>e=>t=>{if(!ct(t,"DROP_ANIMATION_FINISHED")){e(t);return}const r=n.getState();r.phase!=="DROP_ANIMATING"&&he(),n.dispatch(m0({completed:r.completed}))},RV=n=>{let e=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return i=>s=>{if((ct(s,"FLUSH")||ct(s,"DROP_COMPLETE")||ct(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!ct(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(UT())}};t=requestAnimationFrame(()=>{t=null,e=ci(window,[o])})}};var kV=n=>()=>e=>t=>{(ct(t,"DROP_COMPLETE")||ct(t,"FLUSH")||ct(t,"DROP_ANIMATE"))&&n.stopPublishing(),e(t)},PV=n=>{let e=!1;return()=>t=>r=>{if(ct(r,"INITIAL_PUBLISH")){e=!0,n.tryRecordFocus(r.payload.critical.draggable.id),t(r),n.tryRestoreFocusRecorded();return}if(t(r),!!e){if(ct(r,"FLUSH")){e=!1,n.tryRestoreFocusRecorded();return}if(ct(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&n.tryShiftRecord(i.draggableId,i.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const TV=n=>ct(n,"DROP_COMPLETE")||ct(n,"DROP_ANIMATE")||ct(n,"FLUSH");var IV=n=>e=>t=>r=>{if(TV(r)){n.stop(),t(r);return}if(ct(r,"INITIAL_PUBLISH")){t(r);const i=e.getState();i.phase!=="DRAGGING"&&he(),n.start(i);return}t(r),n.scroll(e.getState())};const DV=n=>e=>t=>{if(e(t),!ct(t,"PUBLISH_WHILE_DRAGGING"))return;const r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(VT({reason:r.reason})))},LV=uT;var MV=({dimensionMarshal:n,focusMarshal:e,styleMarshal:t,getResponders:r,announce:i,autoScroller:s})=>lT(UH,LV(Ij(lV(t),kV(n),aV(n),pV,_V,RV,DV,IV(s),vV,PV(e),AV(r,i))));const Wb=()=>({additions:{},removals:{},modified:{}});function NV({registry:n,callbacks:e}){let t=Wb(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=t,p=Object.keys(c).map(w=>n.draggable.getById(w).getDimension(wn)).sort((w,b)=>w.descriptor.index-b.descriptor.index),g=Object.keys(h).map(w=>{const E=n.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:E}}),y={additions:p,removals:Object.keys(d),modified:g};t=Wb(),e.publish(y)}))};return{add:c=>{const d=c.descriptor.id;t.additions[d]=c,t.modified[c.descriptor.droppableId]=!0,t.removals[d]&&delete t.removals[d],i()},remove:c=>{const d=c.descriptor;t.removals[d.id]=!0,t.modified[d.droppableId]=!0,t.additions[d.id]&&delete t.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,t=Wb())}}}var XT=({scrollHeight:n,scrollWidth:e,height:t,width:r})=>{const i=jr({x:e,y:n},{x:r,y:t});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},KT=()=>{const n=document.documentElement;return n||he(),n},YT=()=>{const n=KT();return XT({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},OV=()=>{const n=qT(),e=YT(),t=n.y,r=n.x,i=KT(),s=i.clientWidth,o=i.clientHeight,l=r+s,c=t+o;return{frame:Fi({top:t,left:r,right:l,bottom:c}),scroll:{initial:n,current:n,max:e,diff:{value:wn,displacement:wn}}}},FV=({critical:n,scrollOptions:e,registry:t})=>{const r=OV(),i=r.scroll.current,s=n.droppable,o=t.droppable.getAllByType(s.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,e)),l=t.draggable.getAllByType(n.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:CT(l),droppables:ET(o)},critical:n,viewport:r}};function i1(n,e,t){return!(t.descriptor.id===e.id||t.descriptor.type!==e.type||n.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual")}var BV=(n,e)=>{let t=null;const r=NV({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),i=(g,y)=>{n.droppable.exists(g)||he(),t&&e.updateDroppableIsEnabled({id:g,isEnabled:y})},s=(g,y)=>{t&&(n.droppable.exists(g)||he(),e.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},o=(g,y)=>{t&&(n.droppable.exists(g)||he(),e.updateDroppableScroll({id:g,newScroll:y}))},l=(g,y)=>{t&&n.droppable.getById(g).callbacks.scroll(y)},c=()=>{if(!t)return;r.stop();const g=t.critical.droppable;n.droppable.getAllByType(g.type).forEach(y=>y.callbacks.dragStopped()),t.unsubscribe(),t=null},d=g=>{t||he();const y=t.critical.draggable;g.type==="ADDITION"&&i1(n,y,g.value)&&r.add(g.value),g.type==="REMOVAL"&&i1(n,y,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:o,startPublishing:g=>{t&&he();const y=n.draggable.getById(g.draggableId),w=n.droppable.getById(y.descriptor.droppableId),b={draggable:y.descriptor,droppable:w.descriptor},E=n.subscribe(d);return t={critical:b,unsubscribe:E},FV({critical:b,registry:n,scrollOptions:g.scrollOptions})},stopPublishing:c}},QT=(n,e)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP",zV=n=>{window.scrollBy(n.x,n.y)};const jV=vn(n=>uv(n).filter(e=>!(!e.isEnabled||!e.frame))),$V=(n,e)=>jV(e).find(r=>(r.frame||he(),MT(r.frame.pageMarginBox)(n)))||null;var HV=({center:n,destination:e,droppables:t})=>{if(e){const i=t[e];return i.frame?i:null}return $V(n,t)};const af={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var VV=(n,e,t=()=>af)=>{const r=t(),i=n[e.size]*r.startFromPercentage,s=n[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},JT=({startOfRange:n,endOfRange:e,current:t})=>{const r=e-n;return r===0?0:(t-n)/r},v0=1,UV=(n,e,t=()=>af)=>{const r=t();if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return r.maxPixelScroll;if(n===e.startScrollingFrom)return v0;const s=1-JT({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},GV=(n,e,t)=>{const r=t(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=e,l=s,d=Date.now()-o;if(d>=s)return n;if(d<i)return v0;const h=JT({startOfRange:i,endOfRange:l,current:d}),p=n*r.ease(h);return Math.ceil(p)},s1=({distanceToEdge:n,thresholds:e,dragStartTime:t,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=UV(n,e,i);return s===0?0:r?Math.max(GV(s,t,i),v0):s},o1=({container:n,distanceToEdges:e,dragStartTime:t,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=VV(n,r,s);return e[r.end]<e[r.start]?s1({distanceToEdge:e[r.end],thresholds:o,dragStartTime:t,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*s1({distanceToEdge:e[r.start],thresholds:o,dragStartTime:t,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},WV=({container:n,subject:e,proposedScroll:t})=>{const r=e.height>n.height,i=e.width>n.width;return!i&&!r?t:i&&r?null:{x:i?0:t.x,y:r?0:t.y}};const qV=ST(n=>n===0?0:n);var ZT=({dragStartTime:n,container:e,subject:t,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},l=o1({container:e,distanceToEdges:o,dragStartTime:n,axis:c0,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=o1({container:e,distanceToEdges:o,dragStartTime:n,axis:RT,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),d=qV({x:c,y:l});if(Ea(d,wn))return null;const h=WV({container:e,subject:t,proposedScroll:d});return h?Ea(h,wn)?null:h:null};const XV=ST(n=>n===0?0:n>0?1:-1),w0=(()=>{const n=(e,t)=>e<0?e:e>t?e-t:0;return({current:e,max:t,change:r})=>{const i=kn(e,r),s={x:n(i.x,t.x),y:n(i.y,t.y)};return Ea(s,wn)?null:s}})(),eI=({max:n,current:e,change:t})=>{const r={x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)},i=XV(t),s=w0({max:r,current:e,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},b0=(n,e)=>eI({current:n.scroll.current,max:n.scroll.max,change:e}),KV=(n,e)=>{if(!b0(n,e))return null;const t=n.scroll.max,r=n.scroll.current;return w0({current:r,max:t,change:e})},x0=(n,e)=>{const t=n.frame;return t?eI({current:t.scroll.current,max:t.scroll.max,change:e}):!1},YV=(n,e)=>{const t=n.frame;return!t||!x0(n,e)?null:w0({current:t.scroll.current,max:t.scroll.max,change:e})};var QV=({viewport:n,subject:e,center:t,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=ZT({dragStartTime:r,container:n.frame,subject:e,center:t,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&b0(n,o)?o:null},JV=({droppable:n,subject:e,center:t,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=n.frame;if(!o)return null;const l=ZT({dragStartTime:r,container:o.pageMarginBox,subject:e,center:t,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return l&&x0(n,l)?l:null},a1=({state:n,dragStartTime:e,shouldUseTimeDampening:t,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=n.current.page.borderBoxCenter,c=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const p=n.viewport,g=QV({dragStartTime:e,viewport:p,subject:c,center:o,shouldUseTimeDampening:t,getAutoScrollerOptions:s});if(g){r(g);return}}const d=HV({center:o,destination:Vr(n.impact),droppables:n.dimensions.droppables});if(!d)return;const h=JV({dragStartTime:e,droppable:d,subject:c,center:o,shouldUseTimeDampening:t,getAutoScrollerOptions:s});h&&i(d.descriptor.id,h)},ZV=({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:t=()=>af})=>{const r=tf(n),i=tf(e);let s=null;const o=d=>{s||he();const{shouldUseTimeDampening:h,dragStartTime:p}=s;a1({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:t})};return{start:d=>{s&&he();const h=Date.now();let p=!1;const g=()=>{p=!0};a1({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:t}),s={dragStartTime:h,shouldUseTimeDampening:p},p&&o(d)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},eU=({move:n,scrollDroppable:e,scrollWindow:t})=>{const r=(l,c)=>{const d=kn(l.current.client.selection,c);n({client:d})},i=(l,c)=>{if(!x0(l,c))return c;const d=YV(l,c);if(!d)return e(l.descriptor.id,c),null;const h=jr(c,d);return e(l.descriptor.id,h),jr(c,h)},s=(l,c,d)=>{if(!l||!b0(c,d))return d;const h=KV(c,d);if(!h)return t(d),null;const p=jr(d,h);return t(p),jr(d,p)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Vr(l.impact);d||he();const h=i(l.dimensions.droppables[d],c);if(!h)return;const p=l.viewport,g=s(l.isWindowScrollAllowed,p,h);g&&r(l,g)}},tU=({scrollDroppable:n,scrollWindow:e,move:t,getAutoScrollerOptions:r})=>{const i=ZV({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:r}),s=eU({move:t,scrollWindow:e,scrollDroppable:n});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:i.start,stop:i.stop}};const fd="data-rfd",pd=(()=>{const n=`${fd}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),iS=(()=>{const n=`${fd}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),nU=(()=>{const n=`${fd}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),l1={contextId:`${fd}-scroll-container-context-id`},rU=n=>e=>`[${e}="${n}"]`,yh=(n,e)=>n.map(t=>{const r=t.styles[e];return r?`${t.selector} { ${r} }`:""}).join(" "),iU="pointer-events: none;";var sU=n=>{const e=rU(n),t=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(pd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:iU,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${Gh.outOfTheWay};
    `;return{selector:e(iS.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),i={selector:e(nU.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,t,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:yh(o,"always"),resting:yh(o,"resting"),dragging:yh(o,"dragging"),dropAnimating:yh(o,"dropAnimating"),userCancel:yh(o,"userCancel")}};const Ur=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,qb=()=>{const n=document.querySelector("head");return n||he(),n},u1=n=>{const e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.type="text/css",e};function oU(n,e){const t=st(()=>sU(n),[n]),r=_.useRef(null),i=_.useRef(null),s=Pe(vn(p=>{const g=i.current;g||he(),g.textContent=p}),[]),o=Pe(p=>{const g=r.current;g||he(),g.textContent=p},[]);Ur(()=>{!r.current&&!i.current||he();const p=u1(e),g=u1(e);return r.current=p,i.current=g,p.setAttribute(`${fd}-always`,n),g.setAttribute(`${fd}-dynamic`,n),qb().appendChild(p),qb().appendChild(g),o(t.always),s(t.resting),()=>{const y=w=>{const b=w.current;b||he(),qb().removeChild(b),w.current=null};y(r),y(i)}},[e,o,s,t.always,t.resting,n]);const l=Pe(()=>s(t.dragging),[s,t.dragging]),c=Pe(p=>{if(p==="DROP"){s(t.dropAnimating);return}s(t.userCancel)},[s,t.dropAnimating,t.userCancel]),d=Pe(()=>{i.current&&s(t.resting)},[s,t.resting]);return st(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function tI(n,e){return Array.from(n.querySelectorAll(e))}var nI=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function fv(n){return n instanceof nI(n).HTMLElement}function aU(n,e){const t=`[${pd.contextId}="${n}"]`,r=tI(document,t);if(!r.length)return null;const i=r.find(s=>s.getAttribute(pd.draggableId)===e);return!i||!fv(i)?null:i}function lU(n){const e=_.useRef({}),t=_.useRef(null),r=_.useRef(null),i=_.useRef(!1),s=Pe(function(g,y){const w={id:g,focus:y};return e.current[g]=w,function(){const E=e.current;E[g]!==w&&delete E[g]}},[]),o=Pe(function(g){const y=aU(n,g);y&&y!==document.activeElement&&y.focus()},[n]),l=Pe(function(g,y){t.current===g&&(t.current=y)},[]),c=Pe(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=t.current;g&&o(g)}))},[o]),d=Pe(function(g){t.current=null;const y=document.activeElement;y&&y.getAttribute(pd.draggableId)===g&&(t.current=g)},[]);return Ur(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),st(()=>({register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[s,d,c,l])}function uU(){const n={draggables:{},droppables:{}},e=[];function t(p){return e.push(p),function(){const y=e.indexOf(p);y!==-1&&e.splice(y,1)}}function r(p){e.length&&e.forEach(g=>g(p))}function i(p){return n.draggables[p]||null}function s(p){const g=i(p);return g||he(),g}const o={register:p=>{n.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:(p,g)=>{const y=n.draggables[g.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete n.draggables[g.descriptor.id],n.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,y=i(g);y&&p.uniqueId===y.uniqueId&&(delete n.draggables[g],n.droppables[p.descriptor.droppableId]&&r({type:"REMOVAL",value:p}))},getById:s,findById:i,exists:p=>!!i(p),getAllByType:p=>Object.values(n.draggables).filter(g=>g.descriptor.type===p)};function l(p){return n.droppables[p]||null}function c(p){const g=l(p);return g||he(),g}const d={register:p=>{n.droppables[p.descriptor.id]=p},unregister:p=>{const g=l(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete n.droppables[p.descriptor.id]},getById:c,findById:l,exists:p=>!!l(p),getAllByType:p=>Object.values(n.droppables).filter(g=>g.descriptor.type===p)};function h(){n.draggables={},n.droppables={},e.length=0}return{draggable:o,droppable:d,subscribe:t,clean:h}}function cU(){const n=st(uU,[]);return _.useEffect(()=>function(){n.clean()},[n]),n}var S0=_t.createContext(null),xy=()=>{const n=document.body;return n||he(),n};const dU={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},hU=n=>`rfd-announcement-${n}`;function fU(n){const e=st(()=>hU(n),[n]),t=_.useRef(null);return _.useEffect(function(){const s=document.createElement("div");return t.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),yy(s.style,dU),xy().appendChild(s),function(){setTimeout(function(){const c=xy();c.contains(s)&&c.removeChild(s),s===t.current&&(t.current=null)})}},[e]),Pe(i=>{const s=t.current;if(s){s.textContent=i;return}},[])}const pU={separator:"::"};function E0(n,e=pU){const t=_t.useId();return st(()=>`${n}${e.separator}${t}`,[e.separator,n,t])}function gU({contextId:n,uniqueId:e}){return`rfd-hidden-text-${n}-${e}`}function mU({contextId:n,text:e}){const t=E0("hidden-text",{separator:"-"}),r=st(()=>gU({contextId:n,uniqueId:t}),[t,n]);return _.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=e,s.style.display="none",xy().appendChild(s),function(){const l=xy();l.contains(s)&&l.removeChild(s)}},[r,e]),r}var pv=_t.createContext(null);function rI(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),e}function yU(){let n=null;function e(){return!!n}function t(o){return o===n}function r(o){n&&he();const l={abandon:o};return n=l,l}function i(){n||he(),n=null}function s(){n&&(n.abandon(),i())}return{isClaimed:e,isActive:t,claim:r,release:i,tryAbandon:s}}function lf(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const vU=9,wU=13,C0=27,iI=32,bU=33,xU=34,SU=35,EU=36,CU=37,AU=38,_U=39,RU=40,kU={[wU]:!0,[vU]:!0};var sI=n=>{kU[n.keyCode]&&n.preventDefault()};const gv=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(r=>`on${r}`in document)||n})(),oI=0,c1=5;function PU(n,e){return Math.abs(e.x-n.x)>=c1||Math.abs(e.y-n.y)>=c1}const d1={type:"IDLE"};function TU({cancel:n,completed:e,getPhase:t,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:l}=i;if(s!==oI)return;const c={x:o,y:l},d=t();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&he();const h=d.point;if(!PU(h,c))return;i.preventDefault();const p=d.actions.fluidLift(c);r({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:i=>{const s=t();if(s.type!=="DRAGGING"){n();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{t().type==="DRAGGING"&&i.preventDefault(),n()}},{eventName:"keydown",fn:i=>{if(t().type==="PENDING"){n();return}if(i.keyCode===C0){i.preventDefault(),n();return}sI(i)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=t();if(s.type==="IDLE"&&he(),s.actions.shouldRespectForcePress()){n();return}i.preventDefault()}},{eventName:gv,fn:n}]}function IU(n){const e=_.useRef(d1),t=_.useRef(Sa),r=st(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==oI||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=n.findClosestDraggableId(p);if(!g)return;const y=n.tryGetLock(g,o,{sourceEvent:p});if(!y)return;p.preventDefault();const w={x:p.clientX,y:p.clientY};t.current(),d(y,w)}}),[n]),i=st(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=n.findClosestDraggableId(h);if(!p)return;const g=n.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||n.canGetLock(p)&&h.preventDefault())}}),[n]),s=Pe(function(){const p={passive:!1,capture:!0};t.current=ci(window,[i,r],p)},[i,r]),o=Pe(()=>{e.current.type!=="IDLE"&&(e.current=d1,t.current(),s())},[s]),l=Pe(()=>{const h=e.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=Pe(function(){const p={capture:!0,passive:!1},g=TU({cancel:l,completed:o,getPhase:()=>e.current,setPhase:y=>{e.current=y}});t.current=ci(window,g,p)},[l,o]),d=Pe(function(p,g){e.current.type!=="IDLE"&&he(),e.current={type:"PENDING",point:g,actions:p},c()},[c]);Ur(function(){return s(),function(){t.current()}},[s])}function DU(){}const LU={[xU]:!0,[bU]:!0,[EU]:!0,[SU]:!0};function MU(n,e){function t(){e(),n.cancel()}function r(){e(),n.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===C0){i.preventDefault(),t();return}if(i.keyCode===iI){i.preventDefault(),r();return}if(i.keyCode===RU){i.preventDefault(),n.moveDown();return}if(i.keyCode===AU){i.preventDefault(),n.moveUp();return}if(i.keyCode===_U){i.preventDefault(),n.moveRight();return}if(i.keyCode===CU){i.preventDefault(),n.moveLeft();return}if(LU[i.keyCode]){i.preventDefault();return}sI(i)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:gv,fn:t}]}function NU(n){const e=_.useRef(DU),t=st(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==iI)return;const o=n.findClosestDraggableId(s);if(!o)return;const l=n.tryGetLock(o,h,{sourceEvent:s});if(!l)return;s.preventDefault();let c=!0;const d=l.snapLift();e.current();function h(){c||he(),c=!1,e.current(),r()}e.current=ci(window,MU(d,h),{capture:!0,passive:!1})}}),[n]),r=Pe(function(){const s={passive:!1,capture:!0};e.current=ci(window,[t],s)},[t]);Ur(function(){return r(),function(){e.current()}},[r])}const Xb={type:"IDLE"},OU=120,FU=.15;function BU({cancel:n,getPhase:e}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(e().type!=="DRAGGING"){n();return}t.keyCode===C0&&t.preventDefault(),n()}},{eventName:gv,fn:n}]}function zU({cancel:n,completed:e,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=t();if(i.type!=="DRAGGING"){n();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],l={x:s,y:o};r.preventDefault(),i.actions.move(l)}},{eventName:"touchend",fn:r=>{const i=t();if(i.type!=="DRAGGING"){n();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(t().type!=="DRAGGING"){n();return}r.preventDefault(),n()}},{eventName:"touchforcechange",fn:r=>{const i=t();i.type==="IDLE"&&he();const s=r.touches[0];if(!s||!(s.force>=FU))return;const l=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){l&&n();return}if(l){if(i.hasMoved){r.preventDefault();return}n();return}r.preventDefault()}},{eventName:gv,fn:n}]}function jU(n){const e=_.useRef(Xb),t=_.useRef(Sa),r=Pe(function(){return e.current},[]),i=Pe(function(y){e.current=y},[]),s=st(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const w=n.findClosestDraggableId(y);if(!w)return;const b=n.tryGetLock(w,l,{sourceEvent:y});if(!b)return;const E=y.touches[0],{clientX:S,clientY:A}=E,R={x:S,y:A};t.current(),p(b,R)}}),[n]),o=Pe(function(){const y={capture:!0,passive:!1};t.current=ci(window,[s],y)},[s]),l=Pe(()=>{const g=e.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(Xb),t.current(),o())},[o,i]),c=Pe(()=>{const g=e.current;l(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[l]),d=Pe(function(){const y={capture:!0,passive:!1},w={cancel:c,completed:l,getPhase:r},b=ci(window,zU(w),y),E=ci(window,BU(w),y);t.current=function(){b(),E()}},[c,r,l]),h=Pe(function(){const y=r();y.type!=="PENDING"&&he();const w=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),p=Pe(function(y,w){r().type!=="IDLE"&&he();const b=setTimeout(h,OU);i({type:"PENDING",point:w,actions:y,longPressTimerId:b}),d()},[d,r,i,h]);Ur(function(){return o(),function(){t.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(Xb))}},[r,o,i]),Ur(function(){return ci(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const $U=["input","button","textarea","select","option","optgroup","video","audio"];function aI(n,e){if(e==null)return!1;if($U.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===n?!1:aI(n,e.parentElement)}function HU(n,e){const t=e.target;return fv(t)?aI(n,t):!1}var VU=n=>Fi(n.getBoundingClientRect()).center;function UU(n){return n instanceof nI(n).Element}const GU=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||n})();function lI(n,e){return n==null?null:n[GU](e)?n:lI(n.parentElement,e)}function WU(n,e){return n.closest?n.closest(e):lI(n,e)}function qU(n){return`[${pd.contextId}="${n}"]`}function XU(n,e){const t=e.target;if(!UU(t))return null;const r=qU(n),i=WU(t,r);return!i||!fv(i)?null:i}function KU(n,e){const t=XU(n,e);return t?t.getAttribute(pd.draggableId):null}function YU(n,e){const t=`[${iS.contextId}="${n}"]`,i=tI(document,t).find(s=>s.getAttribute(iS.id)===e);return!i||!fv(i)?null:i}function QU(n){n.preventDefault()}function om({expected:n,phase:e,isLockActive:t,shouldWarn:r}){return!(!t()||n!==e)}function uI({lockAPI:n,store:e,registry:t,draggableId:r}){if(n.isClaimed())return!1;const i=t.draggable.findById(r);return!(!i||!i.options.isEnabled||!QT(e.getState(),r))}function JU({lockAPI:n,contextId:e,store:t,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!uI({lockAPI:n,store:t,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=YU(e,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&HU(d,o))return null;const h=n.claim(s||Sa);let p="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function y(){return n.isActive(h)}function w(N,L){om({expected:N,phase:p,isLockActive:y,shouldWarn:!0})&&t.dispatch(L())}const b=w.bind(null,"DRAGGING");function E(N){function L(){n.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(L(),he()),t.dispatch(WH(N.liftActionArgs)),p="DRAGGING";function z(V,X={shouldBlockNextClick:!1}){if(N.cleanup(),X.shouldBlockNextClick){const Q=ci(window,[{eventName:"click",fn:QU,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Q)}L(),t.dispatch(VT({reason:V}))}return{isActive:()=>om({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:V=>z("DROP",V),cancel:V=>z("CANCEL",V),...N.actions}}function S(N){const L=tf(V=>{b(()=>HT({client:V}))});return{...E({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:()=>L.cancel(),actions:{move:L}}),move:L}}function A(){const N={moveUp:()=>b(tV),moveRight:()=>b(rV),moveDown:()=>b(nV),moveLeft:()=>b(iV)};return E({liftActionArgs:{id:i,clientSelection:VU(d),movementMode:"SNAP"},cleanup:Sa,actions:N})}function R(){om({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&n.release()}return{isActive:()=>om({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:S,snapLift:A,abort:R}}const ZU=[IU,NU,jU];function e3({contextId:n,store:e,registry:t,customSensors:r,enableDefaultSensors:i}){const s=[...i?ZU:[],...r||[]],o=_.useState(()=>yU())[0],l=Pe(function(E,S){lf(E)&&!lf(S)&&o.tryAbandon()},[o]);Ur(function(){let E=e.getState();return e.subscribe(()=>{const A=e.getState();l(E,A),E=A})},[o,e,l]),Ur(()=>o.tryAbandon,[o.tryAbandon]);const c=Pe(b=>uI({lockAPI:o,registry:t,store:e,draggableId:b}),[o,t,e]),d=Pe((b,E,S)=>JU({lockAPI:o,registry:t,contextId:n,store:e,draggableId:b,forceSensorStop:E||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[n,o,t,e]),h=Pe(b=>KU(n,b),[n]),p=Pe(b=>{const E=t.draggable.findById(b);return E?E.options:null},[t.draggable]),g=Pe(function(){o.isClaimed()&&(o.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(g0()))},[o,e]),y=Pe(()=>o.isClaimed(),[o]),w=st(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:y}),[c,d,h,p,g,y]);for(let b=0;b<s.length;b++)s[b](w)}const t3=n=>({onBeforeCapture:e=>{const t=()=>{n.onBeforeCapture&&n.onBeforeCapture(e)};ev.flushSync(t)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),n3=n=>({...af,...n.autoScrollerOptions,durationDampening:{...af.durationDampening,...n.autoScrollerOptions}});function vh(n){return n.current||he(),n.current}function r3(n){const{contextId:e,setCallbacks:t,sensors:r,nonce:i,dragHandleUsageInstructions:s}=n,o=_.useRef(null),l=rI(n),c=Pe(()=>t3(l.current),[l]),d=Pe(()=>n3(l.current),[l]),h=fU(e),p=mU({contextId:e,text:s}),g=oU(e,i),y=Pe(Q=>{vh(o).dispatch(Q)},[]),w=st(()=>OR({publishWhileDragging:XH,updateDroppableScroll:YH,updateDroppableIsEnabled:QH,updateDroppableIsCombineEnabled:JH,collectionStarting:KH},y),[y]),b=cU(),E=st(()=>BV(b,w),[b,w]),S=st(()=>tU({scrollWindow:zV,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:d,...OR({move:HT},y)}),[E.scrollDroppable,y,d]),A=lU(e),R=st(()=>MV({announce:h,autoScroller:S,dimensionMarshal:E,focusMarshal:A,getResponders:c,styleMarshal:g}),[h,S,E,A,c,g]);o.current=R;const I=Pe(()=>{const Q=vh(o);Q.getState().phase!=="IDLE"&&Q.dispatch(g0())},[]),N=Pe(()=>{const Q=vh(o).getState();return Q.phase==="DROP_ANIMATING"?!0:Q.phase==="IDLE"?!1:Q.isDragging},[]),L=st(()=>({isDragging:N,tryAbort:I}),[N,I]);t(L);const z=Pe(Q=>QT(vh(o).getState(),Q),[]),V=Pe(()=>Ja(vh(o).getState()),[]),X=st(()=>({marshal:E,focus:A,contextId:e,canLift:z,isMovementAllowed:V,dragHandleUsageInstructionsId:p,registry:b}),[e,E,p,A,z,V,b]);return e3({contextId:e,store:R,registry:b,customSensors:r||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),_.useEffect(()=>I,[I]),_t.createElement(pv.Provider,{value:X},_t.createElement(_$,{context:S0,store:R},n.children))}function i3(){return _t.useId()}function s3(n){const e=i3(),t=n.dragHandleUsageInstructions||Tm.dragHandleUsageInstructions;return _t.createElement(O$,null,r=>_t.createElement(r3,{nonce:n.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const h1={dragging:5e3,dropAnimating:4500},o3=(n,e)=>e?Gh.drop(e.duration):n?Gh.snap:Gh.fluid,a3=(n,e)=>{if(n)return e?of.opacity.drop:of.opacity.combining},l3=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function u3(n){const t=n.dimension.client,{offset:r,combineWith:i,dropping:s}=n,o=!!i,l=l3(n),c=!!s,d=c?nS.drop(r,o):nS.moveTo(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:o3(l,s),transform:d,opacity:a3(o,c),zIndex:c?h1.dropAnimating:h1.dragging,pointerEvents:"none"}}function c3(n){return{transform:nS.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function d3(n){return n.type==="DRAGGING"?u3(n):c3(n)}function h3(n,e,t=wn){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=yT(i,r),o=my(s,t),l={client:s,tagName:e.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:n,placeholder:l,displaceBy:c,client:s,page:o}}function f3(n){const e=E0("draggable"),{descriptor:t,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}=n,c=st(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}),[s,l,o]),d=Pe(y=>{const w=i();return w||he(),h3(t,w,y)},[t,i]),h=st(()=>({uniqueId:e,descriptor:t,options:c,getDimension:d}),[t,d,c,e]),p=_.useRef(h),g=_.useRef(!0);Ur(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),Ur(()=>{if(g.current){g.current=!1;return}const y=p.current;p.current=h,r.draggable.update(h,y)},[h,r.draggable])}var A0=_t.createContext(null);function Sy(n){const e=_.useContext(n);return e||he(),e}function p3(n){n.preventDefault()}const g3=n=>{const e=_.useRef(null),t=Pe((L=null)=>{e.current=L},[]),r=Pe(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=Sy(pv),{type:l,droppableId:c}=Sy(A0),d=st(()=>({id:n.draggableId,index:n.index,type:l,droppableId:c}),[n.draggableId,n.index,l,c]),{children:h,draggableId:p,isEnabled:g,shouldRespectForcePress:y,canDragInteractiveElements:w,isClone:b,mapped:E,dropAnimationFinished:S}=n;if(!b){const L=st(()=>({descriptor:d,registry:o,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:g}),[d,o,r,w,y,g]);f3(L)}const A=st(()=>g?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:p3}:null,[i,s,p,g]),R=Pe(L=>{E.type==="DRAGGING"&&E.dropping&&L.propertyName==="transform"&&ev.flushSync(S)},[S,E]),I=st(()=>{const L=d3(E),z=E.type==="DRAGGING"&&E.dropping?R:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":p,style:L,onTransitionEnd:z},dragHandleProps:A}},[i,A,p,E,R,t]),N=st(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return _t.createElement(_t.Fragment,null,h(I,E.snapshot,N))};var cI=(n,e)=>n===e,dI=n=>{const{combine:e,destination:t}=n;return t?t.droppableId:e?e.droppableId:null};const m3=n=>n.combine?n.combine.draggableId:null,y3=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function v3(){const n=vn((i,s)=>({x:i,y:s})),e=vn((i,s,o=null,l=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null})),t=vn((i,s,o,l,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:i,dimension:o,forceShouldAnimate:h,snapshot:e(s,l,c,d,null)}}));return(i,s)=>{if(lf(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,l=i.dimensions.draggables[s.draggableId],c=Vr(i.impact),d=y3(i.impact),h=i.forceShouldAnimate;return t(n(o.x,o.y),i.movementMode,l,s.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const l=s.isClone,c=i.dimensions.draggables[s.draggableId],d=o.result,h=d.mode,p=dI(d),g=m3(d),w={duration:i.dropDuration,curve:y0.drop,moveTo:i.newHomeClientOffset,opacity:g?of.opacity.drop:null,scale:g?of.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:w,draggingOver:p,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:e(h,l,p,g,w)}}}return null}}function hI(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const w3={mapped:{type:"SECONDARY",offset:wn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:hI(null)}};function b3(){const n=vn((o,l)=>({x:o,y:l})),e=vn(hI),t=vn((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:e(l)}})),r=o=>o?t(wn,o,!0):null,i=(o,l,c,d)=>{const h=c.displaced.visible[o],p=!!(d.inVirtualList&&d.effected[o]),g=cv(c),y=g&&g.draggableId===o?l:null;if(!h){if(!p)return r(y);if(c.displaced.invisible[o])return null;const E=Cd(d.displacedBy.point),S=n(E.x,E.y);return t(S,y,!0)}if(p)return r(y);const w=c.displacedBy.point,b=n(w.x,w.y);return t(b,y,h.shouldAnimate)};return(o,l)=>{if(lf(o))return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const x3=()=>{const n=v3(),e=b3();return(r,i)=>n(r,i)||e(r,i)||w3},S3={dropAnimationFinished:UT},E3=gT(x3,S3,null,{context:S0,areStatePropsEqual:cI})(g3);function fI(n){return Sy(A0).isUsingCloneFor===n.draggableId&&!n.isClone?null:_t.createElement(E3,n)}function C3(n){const e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return _t.createElement(fI,yy({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:r}))}const pI=n=>e=>n===e,A3=pI("scroll"),_3=pI("auto"),f1=(n,e)=>e(n.overflowX)||e(n.overflowY),R3=n=>{const e=window.getComputedStyle(n),t={overflowX:e.overflowX,overflowY:e.overflowY};return f1(t,A3)||f1(t,_3)},k3=()=>!1,gI=n=>n==null?null:n===document.body?k3()?n:null:n===document.documentElement?null:R3(n)?n:gI(n.parentElement);var sS=n=>({x:n.scrollLeft,y:n.scrollTop});const mI=n=>n?window.getComputedStyle(n).position==="fixed"?!0:mI(n.parentElement):!1;var P3=n=>{const e=gI(n),t=mI(n);return{closestScrollable:e,isFixedOnPage:t}},T3=({descriptor:n,isEnabled:e,isCombineEnabled:t,isFixedOnPage:r,direction:i,client:s,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:g,client:y}=l,w=XT({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:w,diff:{value:wn,displacement:wn}}}})(),d=i==="vertical"?c0:RT,h=hd({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:n,isCombineEnabled:t,isFixedOnPage:r,axis:d,isEnabled:e,client:s,page:o,frame:c,subject:h}};const I3=(n,e)=>{const t=vT(n);if(!e||n!==e)return t;const r=t.paddingBox.top-e.scrollTop,i=t.paddingBox.left-e.scrollLeft,s=r+e.scrollHeight,o=i+e.scrollWidth,c=o0({top:r,right:o,bottom:s,left:i},t.border);return a0({borderBox:c,margin:t.margin,border:t.border,padding:t.padding})};var D3=({ref:n,descriptor:e,env:t,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:l})=>{const c=t.closestScrollable,d=I3(n,c),h=my(d,r),p=(()=>{if(!c)return null;const y=vT(c),w={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:my(y,r),scroll:sS(c),scrollSize:w,shouldClipSubject:l}})();return T3({descriptor:e,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:t.isFixedOnPage,direction:i,client:d,page:h,closest:p})};const L3={passive:!1},M3={passive:!0};var p1=n=>n.shouldPublishImmediately?L3:M3;const am=n=>n&&n.env.closestScrollable||null;function N3(n){const e=_.useRef(null),t=Sy(pv),r=E0("droppable"),{registry:i,marshal:s}=t,o=rI(n),l=st(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),c=_.useRef(l),d=st(()=>vn((I,N)=>{e.current||he();const L={x:I,y:N};s.updateDroppableScroll(l.id,L)}),[l.id,s]),h=Pe(()=>{const I=e.current;return!I||!I.env.closestScrollable?wn:sS(I.env.closestScrollable)},[]),p=Pe(()=>{const I=h();d(I.x,I.y)},[h,d]),g=st(()=>tf(p),[p]),y=Pe(()=>{const I=e.current,N=am(I);if(I&&N||he(),I.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),w=Pe((I,N)=>{e.current&&he();const L=o.current,z=L.getDroppableRef();z||he();const V=P3(z),X={ref:z,descriptor:l,env:V,scrollOptions:N};e.current=X;const Q=D3({ref:z,descriptor:l,env:V,windowScroll:I,direction:L.direction,isDropDisabled:L.isDropDisabled,isCombineEnabled:L.isCombineEnabled,shouldClipSubject:!L.ignoreContainerClipping}),W=V.closestScrollable;return W&&(W.setAttribute(l1.contextId,t.contextId),W.addEventListener("scroll",y,p1(X.scrollOptions))),Q},[t.contextId,l,y,o]),b=Pe(()=>{const I=e.current,N=am(I);return I&&N||he(),sS(N)},[]),E=Pe(()=>{const I=e.current;I||he();const N=am(I);e.current=null,N&&(g.cancel(),N.removeAttribute(l1.contextId),N.removeEventListener("scroll",y,p1(I.scrollOptions)))},[y,g]),S=Pe(I=>{const N=e.current;N||he();const L=am(N);L||he(),L.scrollTop+=I.y,L.scrollLeft+=I.x},[]),A=st(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:b,dragStopped:E,scroll:S}),[E,w,b,S]),R=st(()=>({uniqueId:r,descriptor:l,callbacks:A}),[A,l,r]);Ur(()=>(c.current=R.descriptor,i.droppable.register(R),()=>{e.current&&E(),i.droppable.unregister(R)}),[A,l,E,R,s,i.droppable]),Ur(()=>{e.current&&s.updateDroppableIsEnabled(c.current.id,!n.isDropDisabled)},[n.isDropDisabled,s]),Ur(()=>{e.current&&s.updateDroppableIsCombineEnabled(c.current.id,n.isCombineEnabled)},[n.isCombineEnabled,s])}function Kb(){}const g1={width:0,height:0,margin:H$},O3=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>n||t==="close"?g1:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},F3=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>{const r=O3({isAnimatingOpenOnMount:n,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?Gh.placeholder:null}},B3=n=>{const e=_.useRef(null),t=Pe(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=n,[l,c]=_.useState(n.animate==="open");_.useEffect(()=>l?r!=="open"?(t(),c(!1),Kb):e.current?Kb:(e.current=setTimeout(()=>{e.current=null,c(!1)}),t):Kb,[r,l,t]);const d=Pe(p=>{p.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),h=F3({isAnimatingOpenOnMount:l,animate:n.animate,placeholder:n.placeholder});return _t.createElement(n.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:n.innerRef})};var z3=_t.memo(B3);class j3 extends _t.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const $3=n=>{const e=_.useContext(pv);e||he();const{contextId:t,isMovementAllowed:r}=e,i=_.useRef(null),s=_.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:h,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:y,snapshot:w,useClone:b,updateViewportMaxScroll:E,getContainerForClone:S}=n,A=Pe(()=>i.current,[]),R=Pe((W=null)=>{i.current=W},[]);Pe(()=>s.current,[]);const I=Pe((W=null)=>{s.current=W},[]),N=Pe(()=>{r()&&E({maxScroll:YT()})},[r,E]);N3({droppableId:l,type:c,mode:d,direction:h,isDropDisabled:g,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:A});const L=st(()=>_t.createElement(j3,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:W,data:ne,animate:ee})=>_t.createElement(z3,{placeholder:ne,onClose:W,innerRef:I,animate:ee,contextId:t,onTransitionEnd:N})),[t,N,n.placeholder,n.shouldAnimatePlaceholder,I]),z=st(()=>({innerRef:R,placeholder:L,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":t}}),[t,l,L,R]),V=b?b.dragging.draggableId:null,X=st(()=>({droppableId:l,type:c,isUsingCloneFor:V}),[l,V,c]);function Q(){if(!b)return null;const{dragging:W,render:ne}=b,ee=_t.createElement(fI,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(K,re)=>ne(K,re,W));return wP.createPortal(ee,S())}return _t.createElement(A0.Provider,{value:X},o(z,w),Q())};function H3(){return document.body||he(),document.body}const m1={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:H3},yI=n=>{let e={...n},t;for(t in m1)n[t]===void 0&&(e={...e,[t]:m1[t]});return e},Yb=(n,e)=>n===e.droppable.type,y1=(n,e)=>e.draggables[n.draggable.id],V3=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},t=vn(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=vn((s,o,l,c,d,h)=>{const p=d.descriptor.id;if(d.descriptor.droppableId===s){const w=h?{render:h,dragging:t(d.descriptor)}:null,b={isDraggingOver:l,draggingOverWith:l?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:w}}if(!o)return e;if(!c)return n;const y={isDraggingOver:l,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(s,o)=>{const l=yI(o),c=l.droppableId,d=l.type,h=!l.isDropDisabled,p=l.renderClone;if(lf(s)){const g=s.critical;if(!Yb(d,g))return e;const y=y1(g,s.dimensions),w=Vr(s.impact)===c;return r(c,h,w,w,y,p)}if(s.phase==="DROP_ANIMATING"){const g=s.completed;if(!Yb(d,g.critical))return e;const y=y1(g.critical,s.dimensions);return r(c,h,dI(g.result)===c,Vr(g.impact)===c,y,p)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const g=s.completed;if(!Yb(d,g.critical))return e;const y=Vr(g.impact)===c,w=!!(g.impact.at&&g.impact.at.type==="COMBINE"),b=g.critical.droppable.id===c;return y?w?n:e:b?n:e}return e}},U3={updateViewportMaxScroll:eV},G3=gT(V3,U3,(n,e,t)=>({...yI(t),...n,...e}),{context:S0,areStatePropsEqual:cI})($3);var W3=G3;function uf(n){const e=n.split("/");return e[e.length-1]}const q3="modulepreload",X3=function(n,e){return new URL(n,e).href},v1={},lm=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(d=>{if(d=X3(d,r),d in v1)return;v1[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(!!r)for(let w=o.length-1;w>=0;w--){const b=o[w];if(b.href===d&&(!h||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":q3,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((w,b)=>{y.addEventListener("load",w),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var Wh={};Wh.d=(n,e)=>{for(var t in e)Wh.o(e,t)&&!Wh.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Wh.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Ve=globalThis.pdfjsLib={};Wh.d(Ve,{AbortException:()=>yu,AnnotationEditorLayer:()=>yE,AnnotationEditorParamsType:()=>He,AnnotationEditorType:()=>Xe,AnnotationEditorUIManager:()=>ou,AnnotationLayer:()=>WG,AnnotationMode:()=>Wo,ColorPicker:()=>_y,DOMSVGFactory:()=>F0,DrawLayer:()=>xE,FeatureTest:()=>er,GlobalWorkerOptions:()=>uo,ImageKind:()=>Im,InvalidPDFException:()=>wI,MissingPDFException:()=>mu,OPS:()=>Ei,OutputScale:()=>cS,PDFDataRangeTransport:()=>gD,PDFDateString:()=>T0,PDFWorker:()=>lc,PasswordResponses:()=>J3,PermissionFlag:()=>Q3,PixelsPerInch:()=>_a,RenderingCancelledException:()=>k0,TextLayer:()=>BS,UnexpectedResponseException:()=>wv,Util:()=>ke,VerbosityLevel:()=>mv,XfaLayer:()=>yD,build:()=>_G,createValidAbsoluteUrl:()=>n4,fetchData:()=>xv,getDocument:()=>yG,getFilenameFromUrl:()=>d4,getPdfFilenameFromUrl:()=>h4,getXfaPageViewport:()=>f4,isDataScheme:()=>Sv,isPdfFile:()=>P0,noContextMenu:()=>pi,normalizeUnicode:()=>l4,setLayerDimensions:()=>su,shadow:()=>rt,version:()=>AG});const Un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),vI=[1,0,0,1,0,0],oS=[.001,0,0,.001,0,0],K3=1e7,Qb=1.35,Br={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Y3="pdfjs_internal_editor_",Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},He={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Q3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},On={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Im={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},tn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},wh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mv={ERRORS:0,WARNINGS:1,INFOS:5},Ei={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},J3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let yv=mv.WARNINGS;function Z3(n){Number.isInteger(n)&&(yv=n)}function e4(){return yv}function vv(n){yv>=mv.INFOS&&console.log(`Info: ${n}`)}function Qe(n){yv>=mv.WARNINGS&&console.log(`Warning: ${n}`)}function At(n){throw new Error(n)}function on(n,e){n||At(e)}function t4(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function n4(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=a4(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(t4(r))return r}catch{}return null}function rt(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ia=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class aS extends Ia{constructor(e,t){super(e,"PasswordException"),this.code=t}}class lS extends Ia{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class wI extends Ia{constructor(e){super(e,"InvalidPDFException")}}class mu extends Ia{constructor(e){super(e,"MissingPDFException")}}class wv extends Ia{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class r4 extends Ia{constructor(e){super(e,"FormatError")}}class yu extends Ia{constructor(e){super(e,"AbortException")}}function bI(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&At("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function bv(n){typeof n!="string"&&At("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function i4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function _0(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function s4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function o4(){try{return new Function(""),!0}catch{return!1}}class er{static get isLittleEndian(){return rt(this,"isLittleEndian",s4())}static get isEvalSupported(){return rt(this,"isEvalSupported",o4())}static get isOffscreenCanvasSupported(){return rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?rt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):rt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return rt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Jb=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var po,Dm,uS;class ke{static makeHexColor(e,t,r){return`#${Jb[e]}${Jb[t]}${Jb[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],l=(r+o)/2,c=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,d=l+c||1,h=l-c||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,l,c,d){return d?(d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],t,c)):d=[Math.min(e,l),Math.min(t,c),Math.max(e,l),Math.max(t,c)],T(this,po,uS).call(this,e,r,s,l,t,i,o,c,3*(-e+3*(r-s)+l),6*(e-2*r+s),3*(r-e),d),T(this,po,uS).call(this,e,r,s,l,t,i,o,c,3*(-t+3*(i-o)+c),6*(t-2*i+o),3*(i-t),d),d}}po=new WeakSet,Dm=function(e,t,r,i,s,o,l,c,d,h){if(d<=0||d>=1)return;const p=1-d,g=d*d,y=g*d,w=p*(p*(p*e+3*d*t)+3*g*r)+y*i,b=p*(p*(p*s+3*d*o)+3*g*l)+y*c;h[0]=Math.min(h[0],w),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],w),h[3]=Math.max(h[3],b)},uS=function(e,t,r,i,s,o,l,c,d,h,p,g){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&T(this,po,Dm).call(this,e,t,r,i,s,o,l,c,-p/h,g);return}const y=h**2-4*p*d;if(y<0)return;const w=Math.sqrt(y),b=2*d;T(this,po,Dm).call(this,e,t,r,i,s,o,l,c,(-h+w)/b,g),T(this,po,Dm).call(this,e,t,r,i,s,o,l,c,(-h-w)/b,g)},D(ke,po);function a4(n){return decodeURIComponent(escape(n))}let Zb=null,w1=null;function l4(n){return Zb||(Zb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,w1=new Map([["","t"]])),n.replaceAll(Zb,(e,t,r)=>t?t.normalize("NFKC"):w1.get(r))}function u4(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return bI(n)}const R0="pdfjs_internal_id_",Ls={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function c4(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(bI(n))}const Ns="http://www.w3.org/2000/svg",rl=class rl{};$e(rl,"CSS",96),$e(rl,"PDF",72),$e(rl,"PDF_TO_CSS_UNITS",rl.CSS/rl.PDF);let _a=rl;async function xv(n,e="text"){if(kh(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Vp{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,p,g;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,p=0,g=1;break;case 90:d=0,h=1,p=1,g=0;break;case 270:d=0,h=-1,p=-1,g=0;break;case 0:d=1,h=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,g=-g);let y,w,b,E;d===0?(y=Math.abs(c-e[1])*t+i,w=Math.abs(l-e[0])*t+s,b=(e[3]-e[1])*t,E=(e[2]-e[0])*t):(y=Math.abs(l-e[0])*t+i,w=Math.abs(c-e[1])*t+s,b=(e[2]-e[0])*t,E=(e[3]-e[1])*t),this.transform=[d*t,h*t,p*t,g*t,y-d*t*l-p*t*c,w-h*t*l-g*t*c],this.width=b,this.height=E}get rawDims(){const{viewBox:e}=this;return rt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Vp({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return ke.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ke.applyTransform([e[0],e[1]],this.transform),r=ke.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return ke.applyInverseTransform([e,t],this.transform)}}class k0 extends Ia{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Sv(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function P0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function d4(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function h4(n,e="document.pdf"){if(typeof n!="string")return e;if(Sv(n))return Qe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class b1{constructor(){$e(this,"started",Object.create(null));$e(this,"times",[])}time(e){e in this.started&&Qe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Qe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function kh(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function pi(n){n.preventDefault()}function x1(n){console.log("Deprecated API usage: "+n)}var yf;class T0{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,yf)||k(this,yf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,yf).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(o+=h,l+=p):d==="+"&&(o-=h,l-=p),new Date(Date.UTC(r,i,s,o,l,c))}}yf=new WeakMap,D(T0,yf);function f4(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Vp({viewBox:s,scale:e,rotation:t})}function I0(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Qe(`Not a valid color format: "${n}"`),[0,0,0])}function p4(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,I0(r))}e.remove()}function Ft(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Ms(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function su(n,e,t=!1,r=!0){if(e instanceof Vp){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,l=er.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,h=l?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,p=l?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(o.width=h,o.height=p):(o.width=p,o.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class cS{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var qo,ol,Ci,al,vf,wf,My,xI,tr,SI,EI,Lm,CI,hS;const Fs=class Fs{constructor(e){D(this,tr);D(this,qo,null);D(this,ol,null);D(this,Ci);D(this,al,null);D(this,vf,null);k(this,Ci,e),m(Fs,wf)||k(Fs,wf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=k(this,qo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Ci)._uiManager._signal;e.addEventListener("contextmenu",pi,{signal:t}),e.addEventListener("pointerdown",T(Fs,My,xI),{signal:t});const r=k(this,al,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,Ci).toolbarPosition;if(i){const{style:s}=e,o=m(this,Ci)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return T(this,tr,CI).call(this),e}get div(){return m(this,qo)}hide(){var e;m(this,qo).classList.add("hidden"),(e=m(this,ol))==null||e.hideDropdown()}show(){var e;m(this,qo).classList.remove("hidden"),(e=m(this,vf))==null||e.shown()}async addAltText(e){const t=await e.render();T(this,tr,Lm).call(this,t),m(this,al).prepend(t,m(this,tr,hS)),k(this,vf,e)}addColorPicker(e){k(this,ol,e);const t=e.renderButton();T(this,tr,Lm).call(this,t),m(this,al).prepend(t,m(this,tr,hS))}remove(){var e;m(this,qo).remove(),(e=m(this,ol))==null||e.destroy(),k(this,ol,null)}};qo=new WeakMap,ol=new WeakMap,Ci=new WeakMap,al=new WeakMap,vf=new WeakMap,wf=new WeakMap,My=new WeakSet,xI=function(e){e.stopPropagation()},tr=new WeakSet,SI=function(e){m(this,Ci)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},EI=function(e){m(this,Ci)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Lm=function(e){const t=m(this,Ci)._uiManager._signal;e.addEventListener("focusin",T(this,tr,SI).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",T(this,tr,EI).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",pi,{signal:t})},CI=function(){const{editorType:e,_uiManager:t}=m(this,Ci),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",m(Fs,wf)[e]),T(this,tr,Lm).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,al).append(r)},hS=function(){const e=document.createElement("div");return e.className="divider",e},D(Fs,My),D(Fs,wf,null);let dS=Fs;var bf,ll,ul,Pa,AI,_I,RI;class g4{constructor(e){D(this,Pa);D(this,bf,null);D(this,ll,null);D(this,ul);k(this,ul,e)}show(e,t,r){const[i,s]=T(this,Pa,_I).call(this,t,r),{style:o}=m(this,ll)||k(this,ll,T(this,Pa,AI).call(this));e.append(m(this,ll)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,ll).remove()}}bf=new WeakMap,ll=new WeakMap,ul=new WeakMap,Pa=new WeakSet,AI=function(){const e=k(this,ll,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",pi,{signal:m(this,ul)._signal});const t=k(this,bf,document.createElement("div"));return t.className="buttons",e.append(t),T(this,Pa,RI).call(this),e},_I=function(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const l=s.x+(t?s.width:0);if(o>r){i=l,r=o;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,r]},RI=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=m(this,ul)._signal;e.addEventListener("contextmenu",pi,{signal:r}),e.addEventListener("click",()=>{m(this,ul).highlightSelection("floating_button")},{signal:r}),m(this,bf).append(e)};function Ey(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function m4(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Ny;class y4{constructor(){D(this,Ny,0)}get id(){return`${Y3}${Xn(this,Ny)._++}`}}Ny=new WeakMap;var pc,xf,Bn,gc,Mm;const uC=class uC{constructor(){D(this,gc);D(this,pc,u4());D(this,xf,0);D(this,Bn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return rt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return T(this,gc,Mm).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return T(this,gc,Mm).call(this,e,e)}async getFromBlob(e,t){const r=await t;return T(this,gc,Mm).call(this,e,r)}async getFromId(e){m(this,Bn)||k(this,Bn,new Map);const t=m(this,Bn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,Bn)||k(this,Bn,new Map);let r=m(this,Bn).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,pc)}_${Xn(this,xf)._++}`,refCounter:1,isSvg:!1},m(this,Bn).set(e,r),m(this,Bn).set(r.id,r),r}getSvgUrl(e){const t=m(this,Bn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,Bn)||k(this,Bn,new Map);const t=m(this,Bn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,pc)}_`)}};pc=new WeakMap,xf=new WeakMap,Bn=new WeakMap,gc=new WeakSet,Mm=async function(e,t){m(this,Bn)||k(this,Bn,new Map);let r=m(this,Bn).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,pc)}_${Xn(this,xf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await xv(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=uC._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((d,h)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,d()},o.onload=async()=>{const p=r.svgUrl=o.result;l.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=o.onerror=h});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return m(this,Bn).set(e,r),r&&m(this,Bn).set(r.id,r),r};let fS=uC;var fn,Xo,Sf,pn;class v4{constructor(e=128){D(this,fn,[]);D(this,Xo,!1);D(this,Sf);D(this,pn,-1);k(this,Sf,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&e(),m(this,Xo))return;const c={cmd:e,undo:t,post:r,type:s};if(m(this,pn)===-1){m(this,fn).length>0&&(m(this,fn).length=0),k(this,pn,0),m(this,fn).push(c);return}if(o&&m(this,fn)[m(this,pn)].type===s){l&&(c.undo=m(this,fn)[m(this,pn)].undo),m(this,fn)[m(this,pn)]=c;return}const d=m(this,pn)+1;d===m(this,Sf)?m(this,fn).splice(0,1):(k(this,pn,d),d<m(this,fn).length&&m(this,fn).splice(d)),m(this,fn).push(c)}undo(){if(m(this,pn)===-1)return;k(this,Xo,!0);const{undo:e,post:t}=m(this,fn)[m(this,pn)];e(),t==null||t(),k(this,Xo,!1),k(this,pn,m(this,pn)-1)}redo(){if(m(this,pn)<m(this,fn).length-1){k(this,pn,m(this,pn)+1),k(this,Xo,!0);const{cmd:e,post:t}=m(this,fn)[m(this,pn)];e(),t==null||t(),k(this,Xo,!1)}}hasSomethingToUndo(){return m(this,pn)!==-1}hasSomethingToRedo(){return m(this,pn)<m(this,fn).length-1}destroy(){k(this,fn,null)}}fn=new WeakMap,Xo=new WeakMap,Sf=new WeakMap,pn=new WeakMap;var Oy,kI;class Up{constructor(e){D(this,Oy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=er.platform;for(const[r,i,s={}]of e)for(const o of r){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(T(this,Oy,kI).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:l=null}}=r;l&&!l(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}Oy=new WeakSet,kI=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Fy=class Fy{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return p4(e),rt(this,"_colors",e)}convert(e){const t=I0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Fy._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?ke.makeHexColor(...t):e}};$e(Fy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let pS=Fy;var mc,Tr,nn,An,yc,zs,vc,Ai,Ko,wc,cl,ns,_i,dl,Ef,Cf,bc,Af,rs,Yo,xc,Qo,is,By,Jo,_f,Zo,hl,Rf,kf,gn,ht,js,fl,Pf,Tf,ea,ss,$s,If,ni,me,Nm,gS,PI,TI,Om,II,DI,LI,mS,MI,yS,vS,NI,Yn,Vo,OI,FI,wS,BI,Ph,bS;const oc=class oc{constructor(e,t,r,i,s,o,l,c,d,h,p){D(this,me);D(this,mc,new AbortController);D(this,Tr,null);D(this,nn,new Map);D(this,An,new Map);D(this,yc,null);D(this,zs,null);D(this,vc,null);D(this,Ai,new v4);D(this,Ko,null);D(this,wc,0);D(this,cl,new Set);D(this,ns,null);D(this,_i,null);D(this,dl,new Set);D(this,Ef,!1);D(this,Cf,!1);D(this,bc,!1);D(this,Af,null);D(this,rs,null);D(this,Yo,null);D(this,xc,null);D(this,Qo,!1);D(this,is,null);D(this,By,new y4);D(this,Jo,!1);D(this,_f,!1);D(this,Zo,null);D(this,hl,null);D(this,Rf,null);D(this,kf,null);D(this,gn,Xe.NONE);D(this,ht,new Set);D(this,js,null);D(this,fl,null);D(this,Pf,null);D(this,Tf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});D(this,ea,[0,0]);D(this,ss,null);D(this,$s,null);D(this,If,null);D(this,ni,null);const g=this._signal=m(this,mc).signal;k(this,$s,e),k(this,If,t),k(this,yc,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:g}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),i._on("setpreference",this.onSetPreference.bind(this),{signal:g}),i._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:g}),T(this,me,II).call(this),T(this,me,NI).call(this),T(this,me,mS).call(this),k(this,zs,s.annotationStorage),k(this,Af,s.filterFactory),k(this,fl,o),k(this,xc,l||null),k(this,Ef,c),k(this,Cf,d),k(this,bc,h),k(this,kf,p||null),this.viewParameters={realScale:_a.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=oc.prototype,t=o=>m(o,$s).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return rt(this,"_keyboardManager",new Up([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,$s).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&m(o,$s).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i;(e=m(this,ni))==null||e.resolve(),k(this,ni,null),(t=m(this,mc))==null||t.abort(),k(this,mc,null),this._signal=null;for(const s of m(this,An).values())s.destroy();m(this,An).clear(),m(this,nn).clear(),m(this,dl).clear(),k(this,Tr,null),m(this,ht).clear(),m(this,Ai).destroy(),(r=m(this,yc))==null||r.destroy(),(i=m(this,is))==null||i.hide(),k(this,is,null),m(this,rs)&&(clearTimeout(m(this,rs)),k(this,rs,null)),m(this,ss)&&(clearTimeout(m(this,ss)),k(this,ss,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,kf)}get useNewAltTextFlow(){return m(this,Cf)}get useNewAltTextWhenAddingImage(){return m(this,bc)}get hcmFilter(){return rt(this,"hcmFilter",m(this,fl)?m(this,Af).addHCMFilter(m(this,fl).foreground,m(this,fl).background):"none")}get direction(){return rt(this,"direction",getComputedStyle(m(this,$s)).direction)}get highlightColors(){return rt(this,"highlightColors",m(this,xc)?new Map(m(this,xc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){k(this,Rf,e)}editAltText(e,t=!1){var r;(r=m(this,yc))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":k(this,bc,t);break}}onPageChanging({pageNumber:e}){k(this,wc,e-1)}focusMainContainer(){m(this,$s).focus()}findParent(e,t){for(const r of m(this,An).values()){const{x:i,y:s,width:o,height:l}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+l)return r}return null}disableUserSelect(e=!1){m(this,If).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,dl).add(e)}removeShouldRescale(e){m(this,dl).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*_a.PDF_TO_CSS_UNITS;for(const t of m(this,dl))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,l=t.toString(),d=T(this,me,Nm).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;t.empty();const p=T(this,me,gS).call(this,d),g=m(this,gn)===Xe.NONE,y=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:l}),g&&this.showAllEditors("highlight",!0,!0)};if(g){this.switchToMode(Xe.HIGHLIGHT,y);return}y()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,zs)&&!m(this,zs).has(e.id)&&m(this,zs).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,Qo)&&(k(this,Qo,!1),T(this,me,Om).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,ht))if(t.div.contains(e)){k(this,hl,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,hl))return;const[e,t]=m(this,hl);k(this,hl,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){T(this,me,mS).call(this),T(this,me,yS).call(this)}removeEditListeners(){T(this,me,MI).call(this),T(this,me,vS).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of m(this,_i))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of m(this,_i))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Tr))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,ht)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of m(this,_i))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Qe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const c of r){const d=await i.deserialize(c);if(!d)return;s.push(d)}const o=()=>{for(const c of s)T(this,me,wS).call(this,c);T(this,me,bS).call(this,s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){Qe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,gn)!==Xe.NONE&&!this.isEditorHandlingKeyboard&&oc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Qo)&&(k(this,Qo,!1),T(this,me,Om).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(T(this,me,DI).call(this),T(this,me,yS).call(this),T(this,me,Yn).call(this,{isEditing:m(this,gn)!==Xe.NONE,isEmpty:T(this,me,Ph).call(this),hasSomethingToUndo:m(this,Ai).hasSomethingToUndo(),hasSomethingToRedo:m(this,Ai).hasSomethingToRedo(),hasSelectedEditor:!1})):(T(this,me,LI).call(this),T(this,me,vS).call(this),T(this,me,Yn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,_i)){k(this,_i,e);for(const t of m(this,_i))T(this,me,Vo).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,By).id}get currentLayer(){return m(this,An).get(m(this,wc))}getLayer(e){return m(this,An).get(e)}get currentPageIndex(){return m(this,wc)}addLayer(e){m(this,An).set(e.pageIndex,e),m(this,Jo)?e.enable():e.disable()}removeLayer(e){m(this,An).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(m(this,gn)!==e&&!(m(this,ni)&&(await m(this,ni).promise,!m(this,ni)))){if(k(this,ni,Promise.withResolvers()),k(this,gn,e),e===Xe.NONE){this.setEditingState(!1),T(this,me,FI).call(this),m(this,ni).resolve();return}this.setEditingState(!0),await T(this,me,OI).call(this),this.unselectAll();for(const i of m(this,An).values())i.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),m(this,ni).resolve();return}for(const i of m(this,nn).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();m(this,ni).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,gn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(m(this,_i)){switch(e){case He.CREATE:this.currentLayer.addNewEditor();return;case He.HIGHLIGHT_DEFAULT_COLOR:(r=m(this,Rf))==null||r.updateColor(t);break;case He.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Pf)||k(this,Pf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,ht))i.updateParams(e,t);for(const i of m(this,_i))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const o of m(this,nn).values())o.editorType===e&&o.show(t);(((s=m(this,Pf))==null?void 0:s.get(He.HIGHLIGHT_SHOW_ALL))??!0)!==t&&T(this,me,Vo).call(this,[[He.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,_f)!==e){k(this,_f,e);for(const t of m(this,An).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of m(this,nn).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return m(this,nn).get(e)}addEditor(e){m(this,nn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,rs)&&clearTimeout(m(this,rs)),k(this,rs,setTimeout(()=>{this.focusMainContainer(),k(this,rs,null)},0))),m(this,nn).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,cl).has(e.annotationElementId))&&((t=m(this,zs))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,cl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,cl).has(e)}removeDeletedAnnotationElement(e){m(this,cl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Tr)!==e&&(k(this,Tr,e),e&&T(this,me,Vo).call(this,e.propertiesToUpdate))}updateUI(e){m(this,me,BI)===e&&T(this,me,Vo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(m(this,ht).has(e)){m(this,ht).delete(e),e.unselect(),T(this,me,Yn).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,ht).add(e),e.select(),T(this,me,Vo).call(this,e.propertiesToUpdate),T(this,me,Yn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of m(this,ht))t!==e&&t.unselect();m(this,ht).clear(),m(this,ht).add(e),e.select(),T(this,me,Vo).call(this,e.propertiesToUpdate),T(this,me,Yn).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,ht).has(e)}get firstSelectedEditor(){return m(this,ht).values().next().value}unselect(e){e.unselect(),m(this,ht).delete(e),T(this,me,Yn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,ht).size!==0}get isEnterHandled(){return m(this,ht).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){m(this,Ai).undo(),T(this,me,Yn).call(this,{hasSomethingToUndo:m(this,Ai).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:T(this,me,Ph).call(this)})}redo(){m(this,Ai).redo(),T(this,me,Yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Ai).hasSomethingToRedo(),isEmpty:T(this,me,Ph).call(this)})}addCommands(e){m(this,Ai).add(e),T(this,me,Yn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:T(this,me,Ph).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...m(this,ht)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)T(this,me,wS).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Tr))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Tr)||this.hasSelection}selectAll(){for(const e of m(this,ht))e.commit();T(this,me,bS).call(this,m(this,nn).values())}unselectAll(){if(!(m(this,Tr)&&(m(this,Tr).commitOrRemove(),m(this,gn)!==Xe.NONE))&&this.hasSelection){for(const e of m(this,ht))e.unselect();m(this,ht).clear(),T(this,me,Yn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,ea)[0]+=e,m(this,ea)[1]+=t;const[i,s]=m(this,ea),o=[...m(this,ht)],l=1e3;m(this,ss)&&clearTimeout(m(this,ss)),k(this,ss,setTimeout(()=>{k(this,ss,null),m(this,ea)[0]=m(this,ea)[1]=0,this.addCommands({cmd:()=>{for(const c of o)m(this,nn).has(c.id)&&c.translateInPage(i,s)},undo:()=>{for(const c of o)m(this,nn).has(c.id)&&c.translateInPage(-i,-s)},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),k(this,ns,new Map);for(const e of m(this,ht))m(this,ns).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,ns))return!1;this.disableUserSelect(!1);const e=m(this,ns);k(this,ns,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},l]of e)l.newX=i,l.newY=s,l.newPageIndex=o,t||(t=i!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const r=(i,s,o,l)=>{if(m(this,nn).has(i.id)){const c=m(this,An).get(l);c?i._setParentAndPosition(c,s,o):(i.pageIndex=l,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:l}]of e)r(i,s,o,l)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:l}]of e)r(i,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,ns))for(const r of m(this,ns).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,ht).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Tr)===e}getActive(){return m(this,Tr)}getMode(){return m(this,gn)}get imageManager(){return rt(this,"imageManager",new fS)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(d,h,p,g)=>({x:(h-i)/o,y:1-(d+p-r)/s,width:g/o,height:p/s});break;case"180":l=(d,h,p,g)=>({x:1-(d+p-r)/s,y:1-(h+g-i)/o,width:p/s,height:g/o});break;case"270":l=(d,h,p,g)=>({x:1-(h+g-i)/o,y:(d-r)/s,width:g/o,height:p/s});break;default:l=(d,h,p,g)=>({x:(d-r)/s,y:(h-i)/o,width:p/s,height:g/o});break}const c=[];for(let d=0,h=t.rangeCount;d<h;d++){const p=t.getRangeAt(d);if(!p.collapsed)for(const{x:g,y,width:w,height:b}of p.getClientRects())w===0||b===0||c.push(l(g,y,w,b))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,vc)||k(this,vc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,vc))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,vc))==null?void 0:i.get(e.data.id);if(!t)return;const r=m(this,zs).getRawValue(t);r&&(m(this,gn)===Xe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};mc=new WeakMap,Tr=new WeakMap,nn=new WeakMap,An=new WeakMap,yc=new WeakMap,zs=new WeakMap,vc=new WeakMap,Ai=new WeakMap,Ko=new WeakMap,wc=new WeakMap,cl=new WeakMap,ns=new WeakMap,_i=new WeakMap,dl=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,bc=new WeakMap,Af=new WeakMap,rs=new WeakMap,Yo=new WeakMap,xc=new WeakMap,Qo=new WeakMap,is=new WeakMap,By=new WeakMap,Jo=new WeakMap,_f=new WeakMap,Zo=new WeakMap,hl=new WeakMap,Rf=new WeakMap,kf=new WeakMap,gn=new WeakMap,ht=new WeakMap,js=new WeakMap,fl=new WeakMap,Pf=new WeakMap,Tf=new WeakMap,ea=new WeakMap,ss=new WeakMap,$s=new WeakMap,If=new WeakMap,ni=new WeakMap,me=new WeakSet,Nm=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},gS=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of m(this,An).values())if(r.hasTextLayer(e))return r;return null},PI=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=T(this,me,Nm).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,is)||k(this,is,new g4(this)),m(this,is).show(r,i,this.direction==="ltr"))},TI=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){m(this,js)&&((s=m(this,is))==null||s.hide(),k(this,js,null),T(this,me,Yn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,js))return;const i=T(this,me,Nm).call(this,e).closest(".textLayer");if(!i){m(this,js)&&((o=m(this,is))==null||o.hide(),k(this,js,null),T(this,me,Yn).call(this,{hasSelectedText:!1}));return}if((l=m(this,is))==null||l.hide(),k(this,js,t),T(this,me,Yn).call(this,{hasSelectedText:!0}),!(m(this,gn)!==Xe.HIGHLIGHT&&m(this,gn)!==Xe.NONE)&&(m(this,gn)===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),k(this,Qo,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=m(this,gn)===Xe.HIGHLIGHT?T(this,me,gS).call(this,i):null;c==null||c.toggleDrawing();const d=new AbortController,h=this.combinedSignal(d),p=g=>{g.type==="pointerup"&&g.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),g.type==="pointerup"&&T(this,me,Om).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("blur",p,{signal:h})}},Om=function(e=""){m(this,gn)===Xe.HIGHLIGHT?this.highlightSelection(e):m(this,Ef)&&T(this,me,PI).call(this)},II=function(){document.addEventListener("selectionchange",T(this,me,TI).bind(this),{signal:this._signal})},DI=function(){if(m(this,Yo))return;k(this,Yo,new AbortController);const e=this.combinedSignal(m(this,Yo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},LI=function(){var e;(e=m(this,Yo))==null||e.abort(),k(this,Yo,null)},mS=function(){if(m(this,Zo))return;k(this,Zo,new AbortController);const e=this.combinedSignal(m(this,Zo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},MI=function(){var e;(e=m(this,Zo))==null||e.abort(),k(this,Zo,null)},yS=function(){if(m(this,Ko))return;k(this,Ko,new AbortController);const e=this.combinedSignal(m(this,Ko));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},vS=function(){var e;(e=m(this,Ko))==null||e.abort(),k(this,Ko,null)},NI=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Yn=function(e){Object.entries(e).some(([r,i])=>m(this,Tf)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,Tf),e)}),m(this,gn)===Xe.HIGHLIGHT&&e.hasSelectedEditor===!1&&T(this,me,Vo).call(this,[[He.HIGHLIGHT_FREE,!0]]))},Vo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},OI=async function(){if(!m(this,Jo)){k(this,Jo,!0);const e=[];for(const t of m(this,An).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,nn).values())t.enable()}},FI=function(){if(this.unselectAll(),m(this,Jo)){k(this,Jo,!1);for(const e of m(this,An).values())e.disable();for(const e of m(this,nn).values())e.disable()}},wS=function(e){const t=m(this,An).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},BI=function(){let e=null;for(e of m(this,ht));return e},Ph=function(){if(m(this,nn).size===0)return!0;if(m(this,nn).size===1)for(const e of m(this,nn).values())return e.isEmpty();return!1},bS=function(e){for(const t of m(this,ht))t.unselect();m(this,ht).clear();for(const t of e)t.isEmpty()||(m(this,ht).add(t),t.select());T(this,me,Yn).call(this,{hasSelectedEditor:this.hasSelection})},$e(oc,"TRANSLATE_SMALL",1),$e(oc,"TRANSLATE_BIG",10);let ou=oc;var mn,os,Ri,Sc,as,Ir,Ec,ls,hr,Hs,pl,us,ta,Bi,Th,Fm;const Jn=class Jn{constructor(e){D(this,Bi);D(this,mn,null);D(this,os,!1);D(this,Ri,null);D(this,Sc,null);D(this,as,null);D(this,Ir,null);D(this,Ec,!1);D(this,ls,null);D(this,hr,null);D(this,Hs,null);D(this,pl,null);D(this,us,!1);k(this,hr,e),k(this,us,e._uiManager.useNewAltTextFlow),m(Jn,ta)||k(Jn,ta,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Jn._l10n??(Jn._l10n=e)}async render(){const e=k(this,Ri,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=k(this,Sc,document.createElement("span"));e.append(t),m(this,us)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Jn,ta).missing),t.setAttribute("data-l10n-id",m(Jn,ta)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,hr)._uiManager._signal;e.addEventListener("contextmenu",pi,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),m(this,hr)._uiManager.editAltText(m(this,hr)),m(this,us)&&m(this,hr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Bi,Th)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(k(this,Ec,!0),i(s))},{signal:r}),await T(this,Bi,Fm).call(this),e}finish(){m(this,Ri)&&(m(this,Ri).focus({focusVisible:m(this,Ec)}),k(this,Ec,!1))}isEmpty(){return m(this,us)?m(this,mn)===null:!m(this,mn)&&!m(this,os)}hasData(){return m(this,us)?m(this,mn)!==null||!!m(this,Hs):this.isEmpty()}get guessedText(){return m(this,Hs)}async setGuessedText(e){m(this,mn)===null&&(k(this,Hs,e),k(this,pl,await Jn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),T(this,Bi,Fm).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,us)||m(this,mn)){(t=m(this,ls))==null||t.remove(),k(this,ls,null);return}if(!m(this,ls)){const r=k(this,ls,document.createElement("div"));r.className="noAltTextBadge",m(this,hr).div.append(r)}m(this,ls).classList.toggle("hidden",!e)}serialize(e){let t=m(this,mn);return!e&&m(this,Hs)===t&&(t=m(this,pl)),{altText:t,decorative:m(this,os),guessedText:m(this,Hs),textWithDisclaimer:m(this,pl)}}get data(){return{altText:m(this,mn),decorative:m(this,os)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(k(this,Hs,r),k(this,pl,i)),!(m(this,mn)===e&&m(this,os)===t)&&(s||(k(this,mn,e),k(this,os,t)),T(this,Bi,Fm).call(this))}toggle(e=!1){m(this,Ri)&&(!e&&m(this,Ir)&&(clearTimeout(m(this,Ir)),k(this,Ir,null)),m(this,Ri).disabled=!e)}shown(){m(this,hr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Bi,Th)}})}destroy(){var e,t;(e=m(this,Ri))==null||e.remove(),k(this,Ri,null),k(this,Sc,null),k(this,as,null),(t=m(this,ls))==null||t.remove(),k(this,ls,null)}};mn=new WeakMap,os=new WeakMap,Ri=new WeakMap,Sc=new WeakMap,as=new WeakMap,Ir=new WeakMap,Ec=new WeakMap,ls=new WeakMap,hr=new WeakMap,Hs=new WeakMap,pl=new WeakMap,us=new WeakMap,ta=new WeakMap,Bi=new WeakSet,Th=function(){return m(this,mn)&&"added"||m(this,mn)===null&&this.guessedText&&"review"||"missing"},Fm=async function(){var i,s,o;const e=m(this,Ri);if(!e)return;if(m(this,us)){if(e.classList.toggle("done",!!m(this,mn)),e.setAttribute("data-l10n-id",m(Jn,ta)[m(this,Bi,Th)]),(i=m(this,Sc))==null||i.setAttribute("data-l10n-id",m(Jn,ta)[`${m(this,Bi,Th)}-label`]),!m(this,mn)){(s=m(this,as))==null||s.remove();return}}else{if(!m(this,mn)&&!m(this,os)){e.classList.remove("done"),(o=m(this,as))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,as);if(!t){k(this,as,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,hr).id}`;const l=100,c=m(this,hr)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(m(this,Ir)),k(this,Ir,null)},{once:!0}),e.addEventListener("mouseenter",()=>{k(this,Ir,setTimeout(()=>{k(this,Ir,null),m(this,as).classList.add("show"),m(this,hr)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;m(this,Ir)&&(clearTimeout(m(this,Ir)),k(this,Ir,null)),(d=m(this,as))==null||d.classList.remove("show")},{signal:c})}m(this,os)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,mn)),t.parentNode||e.append(t);const r=m(this,hr).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},D(Jn,ta,null),$e(Jn,"_l10n",null);let Cy=Jn;var gl,ki,Nt,Cc,ml,_n,yl,na,Df,vl,ra,Lf,wl,Vs,cs,Ac,_c,ri,Mf,zy,Ke,xS,Nf,SS,ES,zI,jI,CS,AS,_S,$I,RS,HI,VI,UI,kS,Ih;const ut=class ut{constructor(e){D(this,Ke);D(this,gl,null);D(this,ki,null);D(this,Nt,null);D(this,Cc,!1);D(this,ml,!1);D(this,_n,null);D(this,yl,null);D(this,na,null);D(this,Df,"");D(this,vl,!1);D(this,ra,null);D(this,Lf,!1);D(this,wl,!1);D(this,Vs,!1);D(this,cs,null);D(this,Ac,0);D(this,_c,0);D(this,ri,null);$e(this,"_editToolbar",null);$e(this,"_initialOptions",Object.create(null));$e(this,"_initialData",null);$e(this,"_isVisible",!0);$e(this,"_uiManager",null);$e(this,"_focusEventsAllowed",!0);D(this,Mf,!1);D(this,zy,ut._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ut.prototype._resizeWithKeyboard,t=ou.TRANSLATE_SMALL,r=ou.TRANSLATE_BIG;return rt(this,"_resizerKeyboardManager",new Up([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ut.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new w4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ut._l10n??(ut._l10n=e),ut._l10nResizer||(ut._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ut._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){At("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,Mf)}set _isDraggable(e){var t;k(this,Mf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,zy)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):T(this,Ke,Ih).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,vl)?k(this,vl,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){T(this,Ke,xS).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,ra)||k(this,ra,[this.x,this.y]),T(this,Ke,xS).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,ra)||k(this,ra,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,c]=this.getBaseTranslation();s+=l,o+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!m(this,ra)&&(m(this,ra)[0]!==this.x||m(this,ra)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=ut,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:l}=this;if(o*=t,l*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-l,s));break;case 90:i=Math.max(0,Math.min(t-l,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(l,s));break;case 270:i=Math.min(t,Math.max(l,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[c,d]=this.getBaseTranslation();i+=c,s+=d;const{style:h}=this.div;h.left=`${(100*i).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return T(r=ut,Nf,SS).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return T(r=ut,Nf,SS).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,m(this,ml)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!m(this,ml)&&t.endsWith("%");if(i&&s)return;const[o,l]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!m(this,ml)&&!s&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=m(this,Nt))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,wl)?this._editToolbar:(this._editToolbar=new dS(this),this.div.append(this._editToolbar.render()),m(this,Nt)&&await this._editToolbar.addAltText(m(this,Nt)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,Nt))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,Nt)||(Cy.initialize(ut._l10n),k(this,Nt,new Cy(this)),m(this,gl)&&(m(this,Nt).data=m(this,gl),k(this,gl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,Nt))==null?void 0:e.data}set altTextData(e){m(this,Nt)&&(m(this,Nt).data=e)}get guessedAltText(){var e;return(e=m(this,Nt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,Nt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,Nt))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,Nt)&&!m(this,Nt).isEmpty()}hasAltTextData(){var e;return((e=m(this,Nt))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,Cc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),T(this,Ke,RS).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),Ey(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=er.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(k(this,vl,!0),this._isDraggable){T(this,Ke,$I).call(this,e);return}T(this,Ke,_S).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){m(this,cs)&&clearTimeout(m(this,cs)),k(this,cs,setTimeout(()=>{var e;k(this,cs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[l,c]=this.pageTranslation,d=e/i,h=t/i,p=this.x*s,g=this.y*o,y=this.width*s,w=this.height*o;switch(r){case 0:return[p+d+l,o-g-h-w+c,p+d+y+l,o-g-h+c];case 90:return[p+h+l,o-g+d+c,p+h+w+l,o-g+d+y+c];case 180:return[p-d-y+l,o-g+h+c,p-d+l,o-g+h+w+c];case 270:return[p-h-w+l,o-g-d-y+c,p-h+l,o-g-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,l=s-r,c=o-i;switch(this.rotation){case 0:return[r,t-o,l,c];case 90:return[r,t-i,c,l];case 180:return[s,t-i,l,c];case 270:return[s,t-o,c,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){k(this,wl,!0)}disableEditMode(){k(this,wl,!1)}isInEditMode(){return m(this,wl)}shouldGetKeyboardEvents(){return m(this,Vs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){T(this,Ke,RS).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){At("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,k(i,gl,e.accessibilityData);const[s,o]=i.pageDimensions,[l,c,d,h]=i.getRectInCurrentCoords(e.rect,o);return i.x=l/s,i.y=c/o,i.width=d/s,i.height=h/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=m(this,na))==null||e.abort(),k(this,na,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,cs)&&(clearTimeout(m(this,cs)),k(this,cs,null)),T(this,Ke,Ih).call(this),this.removeEditToolbar(),m(this,ri)){for(const t of m(this,ri).values())clearTimeout(t);k(this,ri,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(T(this,Ke,zI).call(this),m(this,_n).classList.remove("hidden"),Ey(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),k(this,yl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,_n).children;if(!m(this,ki)){k(this,ki,Array.from(t));const o=T(this,Ke,HI).bind(this),l=T(this,Ke,VI).bind(this),c=this._uiManager._signal;for(const d of m(this,ki)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",o,{signal:c}),d.addEventListener("blur",l,{signal:c}),d.addEventListener("focus",T(this,Ke,UI).bind(this,h),{signal:c}),d.setAttribute("data-l10n-id",ut._l10nResizer[h])}}const r=m(this,ki)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,ki).length/4);if(s!==i){if(s<i)for(let l=0;l<i-s;l++)m(this,_n).append(m(this,_n).firstChild);else if(s>i)for(let l=0;l<s-i;l++)m(this,_n).firstChild.before(m(this,_n).lastChild);let o=0;for(const l of t){const d=m(this,ki)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ut._l10nResizer[d])}}T(this,Ke,kS).call(this,0),k(this,Vs,!0),m(this,_n).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,Vs)&&T(this,Ke,AS).call(this,m(this,Df),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){T(this,Ke,Ih).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=m(this,Nt))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=m(this,_n))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,Nt))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,Lf)}set isEditing(e){k(this,Lf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){k(this,ml,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,ri)||k(this,ri,new Map);const{action:r}=e;let i=m(this,ri).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ri).delete(r),m(this,ri).size===0&&k(this,ri,null)},ut._telemetryTimeout),m(this,ri).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),k(this,Cc,!1)}disable(){this.div&&(this.div.tabIndex=-1),k(this,Cc,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};gl=new WeakMap,ki=new WeakMap,Nt=new WeakMap,Cc=new WeakMap,ml=new WeakMap,_n=new WeakMap,yl=new WeakMap,na=new WeakMap,Df=new WeakMap,vl=new WeakMap,ra=new WeakMap,Lf=new WeakMap,wl=new WeakMap,Vs=new WeakMap,cs=new WeakMap,Ac=new WeakMap,_c=new WeakMap,ri=new WeakMap,Mf=new WeakMap,zy=new WeakMap,Ke=new WeakSet,xS=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this.fixAndSetPosition()},Nf=new WeakSet,SS=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},ES=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},zI=function(){if(m(this,_n))return;k(this,_n,document.createElement("div")),m(this,_n).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,_n).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",T(this,Ke,jI).bind(this,r),{signal:t}),i.addEventListener("contextmenu",pi,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,_n))},jI=function(e,t){var w;t.preventDefault();const{isMac:r}=er.platform;if(t.button!==0||t.ctrlKey&&r)return;(w=m(this,Nt))==null||w.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",T(this,Ke,AS).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",pi,{signal:o});const l=this.x,c=this.y,d=this.width,h=this.height,p=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const y=()=>{var b;s.abort(),this.parent.togglePointerEvents(!0),(b=m(this,Nt))==null||b.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=p,this.div.style.cursor=g,T(this,Ke,CS).call(this,l,c,d,h)};window.addEventListener("pointerup",y,{signal:o}),window.addEventListener("blur",y,{signal:o})},CS=function(e,t,r,i){const s=this.x,o=this.y,l=this.width,c=this.height;s===e&&o===t&&l===r&&c===i||this.addCommands({cmd:()=>{this.width=l,this.height=c,this.x=s,this.y=o;const[d,h]=this.parentDimensions;this.setDims(d*l,h*c),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=t;const[d,h]=this.parentDimensions;this.setDims(d*r,h*i),this.fixAndSetPosition()},mustExec:!0})},AS=function(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,l=this.width,c=this.height,d=ut.MIN_SIZE/r,h=ut.MIN_SIZE/i,p=ie=>Math.round(ie*1e4)/1e4,g=T(this,Ke,ES).call(this,this.rotation),y=(ie,U)=>[g[0]*ie+g[2]*U,g[1]*ie+g[3]*U],w=T(this,Ke,ES).call(this,360-this.rotation),b=(ie,U)=>[w[0]*ie+w[2]*U,w[1]*ie+w[3]*U];let E,S,A=!1,R=!1;switch(e){case"topLeft":A=!0,E=(ie,U)=>[0,0],S=(ie,U)=>[ie,U];break;case"topMiddle":E=(ie,U)=>[ie/2,0],S=(ie,U)=>[ie/2,U];break;case"topRight":A=!0,E=(ie,U)=>[ie,0],S=(ie,U)=>[0,U];break;case"middleRight":R=!0,E=(ie,U)=>[ie,U/2],S=(ie,U)=>[0,U/2];break;case"bottomRight":A=!0,E=(ie,U)=>[ie,U],S=(ie,U)=>[0,0];break;case"bottomMiddle":E=(ie,U)=>[ie/2,U],S=(ie,U)=>[ie/2,0];break;case"bottomLeft":A=!0,E=(ie,U)=>[0,U],S=(ie,U)=>[ie,0];break;case"middleLeft":R=!0,E=(ie,U)=>[0,U/2],S=(ie,U)=>[ie,U/2];break}const I=E(l,c),N=S(l,c);let L=y(...N);const z=p(s+L[0]),V=p(o+L[1]);let X=1,Q=1,[W,ne]=this.screenToPageTranslation(t.movementX,t.movementY);if([W,ne]=b(W/r,ne/i),A){const ie=Math.hypot(l,c);X=Q=Math.max(Math.min(Math.hypot(N[0]-I[0]-W,N[1]-I[1]-ne)/ie,1/l,1/c),d/l,h/c)}else R?X=Math.max(d,Math.min(1,Math.abs(N[0]-I[0]-W)))/l:Q=Math.max(h,Math.min(1,Math.abs(N[1]-I[1]-ne)))/c;const ee=p(l*X),K=p(c*Q);L=y(...S(ee,K));const re=z-L[0],ce=V-L[1];this.width=ee,this.height=K,this.x=re,this.y=ce,this.setDims(r*ee,i*K),this.fixAndSetPosition()},_S=function(e){const{isMac:t}=er.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},$I=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,i=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),k(this,Ac,e.clientX),k(this,_c,e.clientY);const o=l=>{const{clientX:c,clientY:d}=l,[h,p]=this.screenToPageTranslation(c-m(this,Ac),d-m(this,_c));k(this,Ac,c),k(this,_c,d),this._uiManager.dragSelectedEditors(h,p)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:i})}const s=()=>{r.abort(),t&&this.div.classList.remove("moving"),k(this,vl,!1),this._uiManager.endDragSession()||T(this,Ke,_S).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},RS=function(){if(m(this,na)||!this.div)return;k(this,na,new AbortController);const e=this._uiManager.combinedSignal(m(this,na));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},HI=function(e){ut._resizerKeyboardManager.exec(this,e)},VI=function(e){var t;m(this,Vs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,_n)&&T(this,Ke,Ih).call(this)},UI=function(e){k(this,Df,m(this,Vs)?e:"")},kS=function(e){if(m(this,ki))for(const t of m(this,ki))t.tabIndex=e},Ih=function(){if(k(this,Vs,!1),T(this,Ke,kS).call(this,-1),m(this,yl)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=m(this,yl);T(this,Ke,CS).call(this,e,t,r,i),k(this,yl,null)}},D(ut,Nf),$e(ut,"_l10n",null),$e(ut,"_l10nResizer",null),$e(ut,"_borderLineWidth",-1),$e(ut,"_colorManager",new pS),$e(ut,"_zIndex",1),$e(ut,"_telemetryTimeout",1e3);let pt=ut;class w4 extends pt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const S1=3285377520,ti=4294901760,es=65535;class GI{constructor(e){this.h1=e?e&4294967295:S1,this.h2=e?e&4294967295:S1}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let b=0,E=e.length;b<E;b++){const S=e.charCodeAt(b);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let l=0,c=0,d=this.h1,h=this.h2;const p=3432918353,g=461845907,y=p&es,w=g&es;for(let b=0;b<i;b++)b&1?(l=o[b],l=l*p&ti|l*y&es,l=l<<15|l>>>17,l=l*g&ti|l*w&es,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(c=o[b],c=c*p&ti|c*y&es,c=c<<15|c>>>17,c=c*g&ti|c*w&es,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,s){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*p&ti|l*y&es,l=l<<15|l>>>17,l=l*g&ti|l*w&es,i&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ti|e*36045&es,t=t*4283543511&ti|((t<<16|e>>>16)*2950163797&ti)>>>16,e^=t>>>1,e=e*444984403&ti|e*60499&es,t=t*3301882366&ti|((t<<16|e>>>16)*3120437893&ti)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const PS=Object.freeze({map:null,hash:"",transfer:void 0});var bl,xl,yn,jy,WI;class D0{constructor(){D(this,jy);D(this,bl,!1);D(this,xl,null);D(this,yn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=m(this,yn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return m(this,yn).get(e)}remove(e){if(m(this,yn).delete(e),m(this,yn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,yn).values())if(t instanceof pt)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=m(this,yn).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,m(this,yn).set(e,t);i&&T(this,jy,WI).call(this),t instanceof pt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,yn).has(e)}getAll(){return m(this,yn).size>0?_0(m(this,yn)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return m(this,yn).size}resetModified(){m(this,bl)&&(k(this,bl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qI(this)}get serializable(){if(m(this,yn).size===0)return PS;const e=new Map,t=new GI,r=[],i=Object.create(null);let s=!1;for(const[o,l]of m(this,yn)){const c=l instanceof pt?l.serialize(!1,i):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:PS}get editorStats(){let e=null;const t=new Map;for(const r of m(this,yn).values()){if(!(r instanceof pt))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[l,c]of Object.entries(i)){if(l==="type")continue;let d=o.get(l);d||(d=new Map,o.set(l,d));const h=d.get(c)??0;d.set(c,h+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){k(this,xl,null)}get modifiedIds(){if(m(this,xl))return m(this,xl);const e=[];for(const t of m(this,yn).values())!(t instanceof pt)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return k(this,xl,{ids:new Set(e),hash:e.join(",")})}}bl=new WeakMap,xl=new WeakMap,yn=new WeakMap,jy=new WeakSet,WI=function(){m(this,bl)||(k(this,bl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Of;class qI extends D0{constructor(t){super();D(this,Of);const{map:r,hash:i,transfer:s}=t.serializable,o=structuredClone(r,s?{transfer:s}:null);k(this,Of,{map:o,hash:i,transfer:s})}get print(){At("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,Of)}get modifiedIds(){return rt(this,"modifiedIds",{ids:new Set,hash:""})}}Of=new WeakMap;var Rc;class b4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){D(this,Rc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Rc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,Rc).has(e.loadedName))){if(on(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),m(this,Rc).add(r),t==null||t(e)}catch{Qe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}At("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Qe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return rt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Un||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),rt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(on(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return rt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(I,N){return I.charCodeAt(N)<<24|I.charCodeAt(N+1)<<16|I.charCodeAt(N+2)<<8|I.charCodeAt(N+3)&255}function i(I,N,L,z){const V=I.substring(0,N),X=I.substring(N+L);return V+z+X}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let d=0;function h(I,N){if(++d>30){Qe("Load test font never loaded."),N();return}if(c.font="30px "+I,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(h.bind(null,I,N))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const w=16,b=1482184792;let E=r(g,w);for(s=0,o=p.length-3;s<o;s+=4)E=E-b+r(p,s)|0;s<p.length&&(E=E-b+r(p+"XXX",s)|0),g=i(g,w,4,i4(E));const S=`url(data:font/opentype;base64,${btoa(g)});`,A=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(A);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const I of[e.loadedName,p]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=I,R.append(N)}this._document.body.append(R),h(p,()=>{R.remove(),t.complete()})}}Rc=new WeakMap;class x4{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${c4(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){Qe(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Ls.BEZIER_CURVE_TO:{const[l,c,d,h,p,g]=r.slice(s,s+6);i.push(y=>y.bezierCurveTo(l,c,d,h,p,g)),s+=6}break;case Ls.MOVE_TO:{const[l,c]=r.slice(s,s+2);i.push(d=>d.moveTo(l,c)),s+=2}break;case Ls.LINE_TO:{const[l,c]=r.slice(s,s+2);i.push(d=>d.lineTo(l,c)),s+=2}break;case Ls.QUADRATIC_CURVE_TO:{const[l,c,d,h]=r.slice(s,s+4);i.push(p=>p.quadraticCurveTo(l,c,d,h)),s+=4}break;case Ls.RESTORE:i.push(l=>l.restore());break;case Ls.SAVE:i.push(l=>l.save());break;case Ls.SCALE:on(i.length===2,"Scale command is only valid at the third position.");break;case Ls.TRANSFORM:{const[l,c,d,h,p,g]=r.slice(s,s+6);i.push(y=>y.transform(l,c,d,h,p,g)),s+=6}break;case Ls.TRANSLATE:{const[l,c]=r.slice(s,s+2);i.push(d=>d.translate(l,c)),s+=2}break}return this.compiledGlyphs[t]=function(o,l){i[0](o),i[1](o),o.scale(l,-l);for(let c=2,d=i.length;c<d;c++)i[c](o)}}}var Ff;class XI{constructor({enableHWA:e=!1}){D(this,Ff,!1);k(this,Ff,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,Ff)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){At("Abstract method `_createCanvas` called.")}}Ff=new WeakMap;class S4 extends XI{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class KI{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){At("Abstract method `_fetch` called.")}}class YI extends KI{async _fetch(e){const t=await xv(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):bv(t)}}class QI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var Sl,El,ds,Us,zn,$y,Cl,Se,Fn,Ju,Zu,Bm,ec,JI,TS,tc,Dh,Lh,IS,Mh;class E4 extends QI{constructor({docId:t,ownerDocument:r=globalThis.document}){super();D(this,Se);D(this,Sl);D(this,El);D(this,ds);D(this,Us);D(this,zn);D(this,$y);D(this,Cl,0);k(this,Us,t),k(this,zn,r)}addFilter(t){if(!t)return"none";let r=m(this,Se,Fn).get(t);if(r)return r;const[i,s,o]=T(this,Se,Bm).call(this,t),l=t.length===1?i:`${i}${s}${o}`;if(r=m(this,Se,Fn).get(l),r)return m(this,Se,Fn).set(t,r),r;const c=`g_${m(this,Us)}_transfer_map_${Xn(this,Cl)._++}`,d=T(this,Se,ec).call(this,c);m(this,Se,Fn).set(t,d),m(this,Se,Fn).set(l,d);const h=T(this,Se,tc).call(this,c);return T(this,Se,Lh).call(this,i,s,o,h),d}addHCMFilter(t,r){var w;const i=`${t}-${r}`,s="base";let o=m(this,Se,Ju).get(s);if((o==null?void 0:o.key)===i||(o?((w=o.filter)==null||w.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},m(this,Se,Ju).set(s,o)),!t||!r))return o.url;const l=T(this,Se,Mh).call(this,t);t=ke.makeHexColor(...l);const c=T(this,Se,Mh).call(this,r);if(r=ke.makeHexColor(...c),m(this,Se,Zu).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const d=new Array(256);for(let b=0;b<=255;b++){const E=b/255;d[b]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=d.join(","),p=`g_${m(this,Us)}_hcm_filter`,g=o.filter=T(this,Se,tc).call(this,p);T(this,Se,Lh).call(this,h,h,h,g),T(this,Se,TS).call(this,g);const y=(b,E)=>{const S=l[b]/255,A=c[b]/255,R=new Array(E+1);for(let I=0;I<=E;I++)R[I]=S+I/E*(A-S);return R.join(",")};return T(this,Se,Lh).call(this,y(0,5),y(1,5),y(2,5),g),o.url=T(this,Se,ec).call(this,p),o.url}addAlphaFilter(t){let r=m(this,Se,Fn).get(t);if(r)return r;const[i]=T(this,Se,Bm).call(this,[t]),s=`alpha_${i}`;if(r=m(this,Se,Fn).get(s),r)return m(this,Se,Fn).set(t,r),r;const o=`g_${m(this,Us)}_alpha_map_${Xn(this,Cl)._++}`,l=T(this,Se,ec).call(this,o);m(this,Se,Fn).set(t,l),m(this,Se,Fn).set(s,l);const c=T(this,Se,tc).call(this,o);return T(this,Se,IS).call(this,i,c),l}addLuminosityFilter(t){let r=m(this,Se,Fn).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=T(this,Se,Bm).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=m(this,Se,Fn).get(s),r)return m(this,Se,Fn).set(t,r),r;const o=`g_${m(this,Us)}_luminosity_map_${Xn(this,Cl)._++}`,l=T(this,Se,ec).call(this,o);m(this,Se,Fn).set(t,l),m(this,Se,Fn).set(s,l);const c=T(this,Se,tc).call(this,o);return T(this,Se,JI).call(this,c),t&&T(this,Se,IS).call(this,i,c),l}addHighlightHCMFilter(t,r,i,s,o){var A;const l=`${r}-${i}-${s}-${o}`;let c=m(this,Se,Ju).get(t);if((c==null?void 0:c.key)===l||(c?((A=c.filter)==null||A.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},m(this,Se,Ju).set(t,c)),!r||!i))return c.url;const[d,h]=[r,i].map(T(this,Se,Mh).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,w]=[s,o].map(T(this,Se,Mh).bind(this));g<p&&([p,g,y,w]=[g,p,w,y]),m(this,Se,Zu).style.color="";const b=(R,I,N)=>{const L=new Array(256),z=(g-p)/N,V=R/255,X=(I-R)/(255*N);let Q=0;for(let W=0;W<=N;W++){const ne=Math.round(p+W*z),ee=V+W*X;for(let K=Q;K<=ne;K++)L[K]=ee;Q=ne+1}for(let W=Q;W<256;W++)L[W]=L[Q-1];return L.join(",")},E=`g_${m(this,Us)}_hcm_${t}_filter`,S=c.filter=T(this,Se,tc).call(this,E);return T(this,Se,TS).call(this,S),T(this,Se,Lh).call(this,b(y[0],w[0],5),b(y[1],w[1],5),b(y[2],w[2],5),S),c.url=T(this,Se,ec).call(this,E),c.url}destroy(t=!1){t&&m(this,Se,Ju).size!==0||(m(this,ds)&&(m(this,ds).parentNode.parentNode.remove(),k(this,ds,null)),m(this,El)&&(m(this,El).clear(),k(this,El,null)),k(this,Cl,0))}}Sl=new WeakMap,El=new WeakMap,ds=new WeakMap,Us=new WeakMap,zn=new WeakMap,$y=new WeakMap,Cl=new WeakMap,Se=new WeakSet,Fn=function(){return m(this,El)||k(this,El,new Map)},Ju=function(){return m(this,$y)||k(this,$y,new Map)},Zu=function(){if(!m(this,ds)){const t=m(this,zn).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,zn).createElementNS(Ns,"svg");i.setAttribute("width",0),i.setAttribute("height",0),k(this,ds,m(this,zn).createElementNS(Ns,"defs")),t.append(i),i.append(m(this,ds)),m(this,zn).body.append(t)}return m(this,ds)},Bm=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const p=h.join(",");return[p,p,p]}const[r,i,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)o[d]=r[d]/255,l[d]=i[d]/255,c[d]=s[d]/255;return[o.join(","),l.join(","),c.join(",")]},ec=function(t){if(m(this,Sl)===void 0){k(this,Sl,"");const r=m(this,zn).URL;r!==m(this,zn).baseURI&&(Sv(r)?Qe('#createUrl: ignore "data:"-URL for performance reasons.'):k(this,Sl,r.split("#",1)[0]))}return`url(${m(this,Sl)}#${t})`},JI=function(t){const r=m(this,zn).createElementNS(Ns,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},TS=function(t){const r=m(this,zn).createElementNS(Ns,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},tc=function(t){const r=m(this,zn).createElementNS(Ns,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),m(this,Se,Zu).append(r),r},Dh=function(t,r,i){const s=m(this,zn).createElementNS(Ns,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Lh=function(t,r,i,s){const o=m(this,zn).createElementNS(Ns,"feComponentTransfer");s.append(o),T(this,Se,Dh).call(this,o,"feFuncR",t),T(this,Se,Dh).call(this,o,"feFuncG",r),T(this,Se,Dh).call(this,o,"feFuncB",i)},IS=function(t,r){const i=m(this,zn).createElementNS(Ns,"feComponentTransfer");r.append(i),T(this,Se,Dh).call(this,i,"feFuncA",t)},Mh=function(t){return m(this,Se,Zu).style.color=t,I0(getComputedStyle(m(this,Se,Zu)).getPropertyValue("color"))};class ZI{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){At("Abstract method `_fetch` called.")}}class eD extends ZI{async _fetch(e){const t=await xv(e,"arraybuffer");return new Uint8Array(t)}}if(Un){var DS=Promise.withResolvers(),qh=null;(async()=>{const e=await lm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),t=await lm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=await lm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),i=await lm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);let s,o;return new Map(Object.entries({fs:e,http:t,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{qh=e,DS.resolve()},e=>{Qe(`loadPackages: ${e}`),qh=new Map,DS.resolve()})}class Ra{static get promise(){return DS.promise}static get(e){return qh==null?void 0:qh.get(e)}}async function tD(n){const t=await Ra.get("fs").promises.readFile(n);return new Uint8Array(t)}class C4 extends QI{}class A4 extends XI{_createCanvas(e,t){return Ra.get("canvas").createCanvas(e,t)}}class _4 extends KI{async _fetch(e){return tD(e)}}class R4 extends ZI{async _fetch(e){return tD(e)}}const Zn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LS(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class L0{getPattern(){At("Abstract method `getPattern` called.")}}class k4 extends L0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Zn.STROKE||i===Zn.FILL){const o=t.current.getClippedPathBoundingBox(i,Ft(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,d=t.cachedCanvases.getCanvas("pattern",l,c),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),r=ke.transform(r,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),LS(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else LS(e,this._bbox),s=this._createGradient(e);return s}}function ex(n,e,t,r,i,s,o,l){const c=e.coords,d=e.colors,h=n.data,p=n.width*4;let g;c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=o,o=g),c[r+1]>c[i+1]&&(g=r,r=i,i=g,g=o,o=l,l=g),c[t+1]>c[r+1]&&(g=t,t=r,r=g,g=s,s=o,o=g);const y=(c[t]+e.offsetX)*e.scaleX,w=(c[t+1]+e.offsetY)*e.scaleY,b=(c[r]+e.offsetX)*e.scaleX,E=(c[r+1]+e.offsetY)*e.scaleY,S=(c[i]+e.offsetX)*e.scaleX,A=(c[i+1]+e.offsetY)*e.scaleY;if(w>=A)return;const R=d[s],I=d[s+1],N=d[s+2],L=d[o],z=d[o+1],V=d[o+2],X=d[l],Q=d[l+1],W=d[l+2],ne=Math.round(w),ee=Math.round(A);let K,re,ce,ie,U,fe,M,j;for(let J=ne;J<=ee;J++){if(J<E){const ye=J<w?0:(w-J)/(w-E);K=y-(y-b)*ye,re=R-(R-L)*ye,ce=I-(I-z)*ye,ie=N-(N-V)*ye}else{let ye;J>A?ye=1:E===A?ye=0:ye=(E-J)/(E-A),K=b-(b-S)*ye,re=L-(L-X)*ye,ce=z-(z-Q)*ye,ie=V-(V-W)*ye}let F;J<w?F=0:J>A?F=1:F=(w-J)/(w-A),U=y-(y-S)*F,fe=R-(R-X)*F,M=I-(I-Q)*F,j=N-(N-W)*F;const ve=Math.round(Math.min(K,U)),Re=Math.round(Math.max(K,U));let pe=p*J+ve*4;for(let ye=ve;ye<=Re;ye++)F=(K-ye)/(K-U),F<0?F=0:F>1&&(F=1),h[pe++]=re-(re-fe)*F|0,h[pe++]=ce-(ce-M)*F|0,h[pe++]=ie-(ie-j)*F|0,h[pe++]=255}}function P4(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(r.length/l)-1,d=l-1;for(s=0;s<c;s++){let h=s*l;for(let p=0;p<d;p++,h++)ex(n,t,r[h],r[h+1],r[h+l],i[h],i[h+1],i[h+l]),ex(n,t,r[h+l+1],r[h+1],r[h+l],i[h+l+1],i[h+1],i[h+l])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)ex(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class T4 extends L0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),y=d/p,w=h/g,b={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/y,scaleY:1/w},E=p+2*2,S=g+2*2,A=r.getCanvas("mesh",E,S),R=A.context,I=R.createImageData(p,g);if(t){const L=I.data;for(let z=0,V=L.length;z<V;z+=4)L[z]=t[0],L[z+1]=t[1],L[z+2]=t[2],L[z+3]=255}for(const L of this._figures)P4(I,L,b);return R.putImageData(I,2,2),{canvas:A.canvas,offsetX:l-2*y,offsetY:c-2*w,scaleX:y,scaleY:w}}getPattern(e,t,r,i){LS(e,this._bbox);let s;if(i===Zn.SHADING)s=ke.singularValueDecompose2dScale(Ft(e));else if(s=ke.singularValueDecompose2dScale(t.baseTransform),this.matrix){const l=ke.singularValueDecompose2dScale(this.matrix);s=[s[0]*l[0],s[1]*l[1]]}const o=this._createMeshCanvas(s,i===Zn.SHADING?null:this._background,t.cachedCanvases);return i!==Zn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class I4 extends L0{getPattern(){return"hotpink"}}function D4(n){switch(n[0]){case"RadialAxial":return new k4(n);case"Mesh":return new T4(n);case"Dummy":return new I4}throw new Error(`Unknown IR type: ${n[0]}`)}const E1={COLORED:1,UNCOLORED:2},Hy=class Hy{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),vv("TilingType: "+s);const h=t[0],p=t[1],g=t[2],y=t[3],w=g-h,b=y-p,E=ke.singularValueDecompose2dScale(this.matrix),S=ke.singularValueDecompose2dScale(this.baseTransform),A=E[0]*S[0],R=E[1]*S[1];let I=w,N=b,L=!1,z=!1;const V=Math.ceil(c*A),X=Math.ceil(d*R),Q=Math.ceil(w*A),W=Math.ceil(b*R);V>=Q?I=c:L=!0,X>=W?N=d:z=!0;const ne=this.getSizeAndScale(I,this.ctx.canvas.width,A),ee=this.getSizeAndScale(N,this.ctx.canvas.height,R),K=e.cachedCanvases.getCanvas("pattern",ne.size,ee.size),re=K.context,ce=l.createCanvasGraphics(re);if(ce.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ce,i,o),re.translate(-ne.scale*h,-ee.scale*p),ce.transform(ne.scale,0,0,ee.scale,0,0),re.save(),this.clipBbox(ce,h,p,g,y),ce.baseTransform=Ft(ce.ctx),ce.executeOperatorList(r),ce.endDrawing(),re.restore(),L||z){const ie=K.canvas;L&&(I=c),z&&(N=d);const U=this.getSizeAndScale(I,this.ctx.canvas.width,A),fe=this.getSizeAndScale(N,this.ctx.canvas.height,R),M=U.size,j=fe.size,J=e.cachedCanvases.getCanvas("pattern-workaround",M,j),F=J.context,ve=L?Math.floor(w/c):0,Re=z?Math.floor(b/d):0;for(let pe=0;pe<=ve;pe++)for(let ye=0;ye<=Re;ye++)F.drawImage(ie,M*pe,j*ye,M,j,0,0,M,j);return{canvas:J.canvas,scaleX:U.scale,scaleY:fe.scale,offsetX:h,offsetY:p}}return{canvas:K.canvas,scaleX:ne.scale,scaleY:ee.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,t,r){const i=Math.max(Hy.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,l=s-r;e.ctx.rect(t,r,o,l),e.current.updateRectMinMax(Ft(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case E1.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case E1.UNCOLORED:const l=ke.makeHexColor(r[0],r[1],r[2]);i.fillStyle=l,i.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new r4(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Zn.SHADING&&(s=ke.transform(s,t.baseTransform),this.matrix&&(s=ke.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};$e(Hy,"MAX_PATTERN_SIZE",3e3);let MS=Hy;function L4({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=er.isLittleEndian?4278190080:255,[c,d]=o?[s,l]:[l,s],h=r>>3,p=r&7,g=n.length;t=new Uint32Array(t.buffer);let y=0;for(let w=0;w<i;w++){for(const E=e+h;e<E;e++){const S=e<g?n[e]:255;t[y++]=S&128?d:c,t[y++]=S&64?d:c,t[y++]=S&32?d:c,t[y++]=S&16?d:c,t[y++]=S&8?d:c,t[y++]=S&4?d:c,t[y++]=S&2?d:c,t[y++]=S&1?d:c}if(p===0)continue;const b=e<g?n[e++]:255;for(let E=0;E<p;E++)t[y++]=b&1<<7-E?d:c}return{srcPos:e,destPos:y}}const C1=16,A1=100,M4=15,_1=10,R1=1e3,gr=16;function N4(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,o,l,c){e.transform(r,i,s,o,l,c),this.__originalTransform(r,i,s,o,l,c)},n.setTransform=function(r,i,s,o,l,c){e.setTransform(r,i,s,o,l,c),this.__originalSetTransform(r,i,s,o,l,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,l){e.bezierCurveTo(t,r,i,s,o,l),this.__originalBezierCurveTo(t,r,i,s,o,l)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class O4{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function um(n,e,t,r,i,s,o,l,c,d){const[h,p,g,y,w,b]=Ft(n);if(p===0&&g===0){const A=o*h+w,R=Math.round(A),I=l*y+b,N=Math.round(I),L=(o+c)*h+w,z=Math.abs(Math.round(L)-R)||1,V=(l+d)*y+b,X=Math.abs(Math.round(V)-N)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(y),R,N),n.drawImage(e,t,r,i,s,0,0,z,X),n.setTransform(h,p,g,y,w,b),[z,X]}if(h===0&&y===0){const A=l*g+w,R=Math.round(A),I=o*p+b,N=Math.round(I),L=(l+d)*g+w,z=Math.abs(Math.round(L)-R)||1,V=(o+c)*p+b,X=Math.abs(Math.round(V)-N)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,R,N),n.drawImage(e,t,r,i,s,0,0,X,z),n.setTransform(h,p,g,y,w,b),[X,z]}n.drawImage(e,t,r,i,s,o,l,c,d);const E=Math.hypot(h,p),S=Math.hypot(g,y);return[E*c,S*d]}function F4(n){const{width:e,height:t}=n;if(e>R1||t>R1)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),l,c,d;const h=e+7&-8;let p=new Uint8Array(h*t),g=0;for(const S of n.data){let A=128;for(;A>0;)p[g++]=S&A?0:255,A>>=1}let y=0;for(g=0,p[g]!==0&&(o[0]=1,++y),c=1;c<e;c++)p[g]!==p[g+1]&&(o[c]=p[g]?2:1,++y),g++;for(p[g]!==0&&(o[c]=2,++y),l=1;l<t;l++){g=l*h,d=l*s,p[g-h]!==p[g]&&(o[d]=p[g]?1:8,++y);let S=(p[g]?4:0)+(p[g-h]?8:0);for(c=1;c<e;c++)S=(S>>2)+(p[g+1]?4:0)+(p[g-h+1]?8:0),i[S]&&(o[d+c]=i[S],++y),g++;if(p[g-h]!==p[g]&&(o[d+c]=p[g]?2:4,++y),y>r)return null}for(g=h*(t-1),d=l*s,p[g]!==0&&(o[d]=8,++y),c=1;c<e;c++)p[g]!==p[g+1]&&(o[d+c]=p[g]?4:8,++y),g++;if(p[g]!==0&&(o[d+c]=4,++y),y>r)return null;const w=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(l=0;y&&l<=t;l++){let S=l*s;const A=S+e;for(;S<A&&!o[S];)S++;if(S===A)continue;b.moveTo(S%s,l);const R=S;let I=o[S];do{const N=w[I];do S+=N;while(!o[S]);const L=o[S];L!==5&&L!==10?(I=L,o[S]=0):(I=L&51*I>>4,o[S]&=I>>2|I<<2),b.lineTo(S%s,S/s|0),o[S]||--y}while(R!==S);--l}return p=null,o=null,function(S){S.save(),S.scale(1/e,-1/t),S.translate(0,-t),S.fill(b),S.beginPath(),S.restore()}}class k1{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vI,this.textMatrixScale=1,this.fontMatrix=oS,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=On.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=ke.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=ke.applyTransform(t,e),i=ke.applyTransform(t.slice(2),e),s=ke.applyTransform([t[0],t[3]],e),o=ke.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){ke.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,l,c,d,h){const p=ke.bezierBoundingBox(t,r,i,s,o,l,c,d,h);h||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Zn.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Zn.STROKE){t||At("Stroke bounding box must include transform.");const i=ke.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Zn.FILL,t=null){return ke.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function P1(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%gr,s=(t-i)/gr,o=i===0?s:s+1,l=n.createImageData(r,gr);let c=0,d;const h=e.data,p=l.data;let g,y,w,b;if(e.kind===Im.GRAYSCALE_1BPP){const E=h.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),A=S.length,R=r+7>>3,I=4294967295,N=er.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(w=g<s?gr:i,d=0,y=0;y<w;y++){const L=E-c;let z=0;const V=L>R?r:L*8-7,X=V&-8;let Q=0,W=0;for(;z<X;z+=8)W=h[c++],S[d++]=W&128?I:N,S[d++]=W&64?I:N,S[d++]=W&32?I:N,S[d++]=W&16?I:N,S[d++]=W&8?I:N,S[d++]=W&4?I:N,S[d++]=W&2?I:N,S[d++]=W&1?I:N;for(;z<V;z++)Q===0&&(W=h[c++],Q=128),S[d++]=W&Q?I:N,Q>>=1}for(;d<A;)S[d++]=0;n.putImageData(l,0,g*gr)}}else if(e.kind===Im.RGBA_32BPP){for(y=0,b=r*gr*4,g=0;g<s;g++)p.set(h.subarray(c,c+b)),c+=b,n.putImageData(l,0,y),y+=gr;g<o&&(b=r*i*4,p.set(h.subarray(c,c+b)),n.putImageData(l,0,y))}else if(e.kind===Im.RGB_24BPP)for(w=gr,b=r*w,g=0;g<o;g++){for(g>=s&&(w=i,b=r*w),d=0,y=b;y--;)p[d++]=h[c++],p[d++]=h[c++],p[d++]=h[c++],p[d++]=255;n.putImageData(l,0,g*gr)}else throw new Error(`bad image kind: ${e.kind}`)}function T1(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%gr,s=(t-i)/gr,o=i===0?s:s+1,l=n.createImageData(r,gr);let c=0;const d=e.data,h=l.data;for(let p=0;p<o;p++){const g=p<s?gr:i;({srcPos:c}=L4({src:d,srcPos:c,dest:h,width:r,height:g,nonBlackColor:0})),n.putImageData(l,0,p*gr)}}function bh(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function cm(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Un){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function I1(n,e){if(e)return!0;const t=ke.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*_a.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const B4=["butt","round","square"],z4=["miter","round","bevel"],j4={},D1={};var Ta,NS,OS;const cC=class cC{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:l=null},c,d){D(this,Ta);this.ctx=e,this.current=new k1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new O4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Ft(this.compositeCtx))}this.ctx.save(),cm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ft(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let l=t||0;const c=s.length;if(c===l)return l;const d=c-l>_1&&typeof r=="function",h=d?Date.now()+M4:0;let p=0;const g=this.commonObjs,y=this.objs;let w;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(w=o[l],w!==Ei.dependency)this[w].apply(this,s[l]);else for(const b of s[l]){const E=b.startsWith("g_")?g:y;if(!E.has(b))return E.get(b,r),l}if(l++,l===c)return l;if(d&&++p>_1){if(Date.now()>h)return r(),l;p=0}}}endDrawing(){T(this,Ta,NS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),T(this,Ta,OS).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=r,c=i,d="prescale1",h,p;for(;s>2&&l>1||o>2&&c>1;){let g=l,y=c;s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/g),o>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/y),h=this.cachedCanvases.getCanvas(d,g,y),p=h.context,p.clearRect(0,0,g,y),p.drawImage(e,0,0,l,c,0,0,g,y),e=h.canvas,l=g,c=y,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,l=Ft(t);let c,d,h,p;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),s]),c=this._cachedBitmapsMap.get(V),c||(c=new Map,this._cachedBitmapsMap.set(V,c));const X=c.get(d);if(X&&!o){const Q=Math.round(Math.min(l[0],l[2])+l[4]),W=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:X,offsetX:Q,offsetY:W}}h=X}h||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),T1(p.context,e));let g=ke.transform(l,[1/r,0,0,-1/i,0,0]);g=ke.transform(g,[1,0,0,1,0,-i]);const[y,w,b,E]=ke.getAxialAlignedBoundingBox([0,0,r,i],g),S=Math.round(b-y)||1,A=Math.round(E-w)||1,R=this.cachedCanvases.getCanvas("fillCanvas",S,A),I=R.context,N=y,L=w;I.translate(-N,-L),I.transform(...g),h||(h=this._scaleImage(p.canvas,Ms(I)),h=h.img,c&&o&&c.set(d,h)),I.imageSmoothingEnabled=I1(Ft(I),e.interpolate),um(I,h,0,0,h.width,h.height,0,0,r,i),I.globalCompositeOperation="source-in";const z=ke.transform(Ms(I),[1,0,0,1,-N,-L]);return I.fillStyle=o?s.getPattern(t,this,z,Zn.FILL):s,I.fillRect(0,0,r,i),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,R.canvas)),{canvas:R.canvas,offsetX:Math.round(N),offsetY:Math.round(L)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=B4[e]}setLineJoin(e){this.ctx.lineJoin=z4[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Ft(this.suspendedCtx)),bh(this.suspendedCtx,s),N4(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),bh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],l=i[2]-s,c=i[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,r,l,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,l,c,d,h,p){let g=e.canvas,y=c-h,w=d-p;if(o){const E=ke.makeHexColor(...o);if(y<0||w<0||y+r>g.width||w+i>g.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),A=S.context;A.drawImage(g,-y,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=E,A.fillRect(0,0,r,i),A.globalCompositeOperation="source-over",g=S.canvas,y=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,w,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=E,e.fillRect(y,w,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const b=new Path2D;b.rect(c,d,r,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,y,w,r,i,c,d,r,i),t.restore()}save(){this.inSMaskMode?(bh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),bh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,l=s.y,c,d;const h=Ft(i),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,g=p?r.slice(0):null;for(let y=0,w=0,b=e.length;y<b;y++)switch(e[y]|0){case Ei.rectangle:o=t[w++],l=t[w++];const E=t[w++],S=t[w++],A=o+E,R=l+S;i.moveTo(o,l),E===0||S===0?i.lineTo(A,R):(i.lineTo(A,l),i.lineTo(A,R),i.lineTo(o,R)),p||s.updateRectMinMax(h,[o,l,A,R]),i.closePath();break;case Ei.moveTo:o=t[w++],l=t[w++],i.moveTo(o,l),p||s.updatePathMinMax(h,o,l);break;case Ei.lineTo:o=t[w++],l=t[w++],i.lineTo(o,l),p||s.updatePathMinMax(h,o,l);break;case Ei.curveTo:c=o,d=l,o=t[w+4],l=t[w+5],i.bezierCurveTo(t[w],t[w+1],t[w+2],t[w+3],o,l),s.updateCurvePathMinMax(h,c,d,t[w],t[w+1],t[w+2],t[w+3],o,l,g),w+=6;break;case Ei.curveTo2:c=o,d=l,i.bezierCurveTo(o,l,t[w],t[w+1],t[w+2],t[w+3]),s.updateCurvePathMinMax(h,c,d,o,l,t[w],t[w+1],t[w+2],t[w+3],g),o=t[w+2],l=t[w+3],w+=4;break;case Ei.curveTo3:c=o,d=l,o=t[w+2],l=t[w+3],i.bezierCurveTo(t[w],t[w+1],o,l,o,l),s.updateCurvePathMinMax(h,c,d,t[w],t[w+1],o,l,o,l,g),w+=4;break;case Ei.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(h,g),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,Ms(t),Zn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Ms(t),Zn.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j4}eoClip(){this.pendingClip=D1}beginText(){this.current.textMatrix=vI,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||oS,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Qe("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${s}", ${r.fallbackName}`;let l="normal";r.black?l="900":r.bold&&(l="bold");const c=r.italic?"italic":"normal";let d=t;t<C1?d=C1:t>A1&&(d=A1),this.current.fontSizeScale=t/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&On.FILL_STROKE_MASK,p=!!(c&On.ADD_TO_PATH_FLAG),g=o.patternFill&&!l.missingFile;let y;(l.disableFontFace||p||g)&&(y=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||g?(s.save(),s.translate(t,r),s.beginPath(),y(s,d),i&&s.setTransform(...i),(h===On.FILL||h===On.FILL_STROKE)&&s.fill(),(h===On.STROKE||h===On.FILL_STROKE)&&s.stroke(),s.restore()):((h===On.FILL||h===On.FILL_STROKE)&&s.fillText(e,t,r),(h===On.STROKE||h===On.FILL_STROKE)&&s.strokeText(e,t,r)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ft(s),x:t,y:r,fontSize:d,addToPath:y})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return rt(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,d=t.fontDirection,h=t.textHScale*d,p=e.length,g=r.vertical,y=g?1:-1,w=r.defaultVMetrics,b=i*t.fontMatrix[0],E=t.textRenderingMode===On.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(h,-1):s.scale(h,1);let S;if(t.patternFill){s.save();const L=t.fillColor.getPattern(s,this,Ms(s),Zn.FILL);S=Ft(s),s.restore(),s.fillStyle=L}let A=t.lineWidth;const R=t.textMatrixScale;if(R===0||A===0){const L=t.textRenderingMode&On.FILL_STROKE_MASK;(L===On.STROKE||L===On.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=R;if(o!==1&&(s.scale(o,o),A/=o),s.lineWidth=A,r.isInvalidPDFjsFont){const L=[];let z=0;for(const V of e)L.push(V.unicode),z+=V.width;s.fillText(L.join(""),0,0),t.x+=z*b*h,s.restore(),this.compose();return}let I=0,N;for(N=0;N<p;++N){const L=e[N];if(typeof L=="number"){I+=y*L*i/1e3;continue}let z=!1;const V=(L.isSpace?c:0)+l,X=L.fontChar,Q=L.accent;let W,ne,ee=L.width;if(g){const re=L.vmetric||w,ce=-(L.vmetric?re[1]:ee*.5)*b,ie=re[2]*b;ee=re?-re[0]:ee,W=ce/o,ne=(I+ie)/o}else W=I/o,ne=0;if(r.remeasure&&ee>0){const re=s.measureText(X).width*1e3/i*o;if(ee<re&&this.isFontSubpixelAAEnabled){const ce=ee/re;z=!0,s.save(),s.scale(ce,1),W/=ce}else ee!==re&&(W+=(ee-re)/2e3*i/o)}if(this.contentVisible&&(L.isInFont||r.missingFile)){if(E&&!Q)s.fillText(X,W,ne);else if(this.paintChar(X,W,ne,S),Q){const re=W+i*Q.offset.x/o,ce=ne-i*Q.offset.y/o;this.paintChar(Q.fontChar,re,ce,S)}}const K=g?ee*b-V*d:ee*b+V*d;I+=K,z&&s.restore()}g?t.y-=I:t.x+=I*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,l=i.vertical?1:-1,c=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,p=r.fontMatrix||oS,g=e.length,y=r.textRenderingMode===On.INVISIBLE;let w,b,E,S;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(h,o),w=0;w<g;++w){if(b=e[w],typeof b=="number"){S=l*b*s/1e3,this.ctx.translate(S,0),r.x+=S*h;continue}const A=(b.isSpace?d:0)+c,R=i.charProcOperatorList[b.operatorListId];if(!R){Qe(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(R),this.restore()),E=ke.applyTransform([b.width,0],p)[0]*s+A,t.translate(E,0),r.x+=E*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ft(this.ctx),s={createCanvasGraphics:o=>new cC(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new MS(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=ke.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=ke.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=D4(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Ms(t),Zn.SHADING);const i=Ms(t);{const{width:s,height:o}=t.canvas,[l,c,d,h]=ke.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(l,c,d-l,h-c)}this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){At("Should not call beginInlineImage")}beginImageData(){At("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ft(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Ft(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||vv("TODO: Support non-isolated groups."),e.knockout&&Qe("Knockout groups not supported.");const r=Ft(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ke.getAxialAlignedBoundingBox(e.bbox,Ft(t));const s=[0,0,t.canvas.width,t.canvas.height];i=ke.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-o,1),d=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,d),g=p.context;g.translate(-o,-l),g.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:g,offsetX:o,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.save()),bh(t,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ft(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=ke.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(T(this,Ta,NS).call(this),cm(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],l=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=l;const[c,d]=ke.singularValueDecompose2dScale(Ft(this.ctx)),{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),g=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(c,0,0,-d,0,l*d),cm(this.ctx)}else cm(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,l),this.ctx.clip(),this.ctx.beginPath()}this.current=new k1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),T(this,Ta,OS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=F4(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=Ft(l);l.transform(t,r,i,s,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let h=0,p=o.length;h<p;h+=2){const g=ke.transform(c,[t,r,i,s,o[h],o[h+1]]),[y,w]=ke.applyTransform([0,0],g);l.drawImage(d.canvas,y,w)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:l,height:c,transform:d}=s,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),p=h.context;p.save();const g=this.getObject(o,s);T1(p,g),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,Ms(t),Zn.FILL):r,p.fillRect(0,0,l,c),p.restore(),t.save(),t.transform(...d),t.scale(1,-1),um(t,h.canvas,0,0,l,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Qe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Qe("Dependent image isn't ready yet");return}const o=s.width,l=s.height,c=[];for(let d=0,h=i.length;d<h;d+=2)c.push({transform:[t,0,0,r,i[d],i[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Un){const{filter:l}=i;l!=="none"&&l!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;P1(c,e),s=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(s,Ms(i));i.imageSmoothingEnabled=I1(Ft(i),e.interpolate),um(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,o).context;P1(c,e),i=this.applyTransferMapsToCanvas(c)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),um(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===D1?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ft(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,l;if(r===0&&i===0){const c=Math.abs(t),d=Math.abs(s);if(c===d)if(e===0)o=l=1/c;else{const h=c*e;o=l=h<1?1/h:1}else if(e===0)o=1/c,l=1/d;else{const h=c*e,p=d*e;o=h<1?1/h:1,l=p<1?1/p:1}}else{const c=Math.abs(t*s-r*i),d=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)o=h/c,l=d/c;else{const p=e*c;o=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const l=Math.max(i,s);t.setLineDash(o.map(c=>c/l)),t.lineDashOffset/=l}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ta=new WeakSet,NS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},OS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ac=cC;for(const n in Ei)ac.prototype[n]!==void 0&&(ac.prototype[Ei[n]]=ac.prototype[n]);var Bf,zf;class uo{static get workerPort(){return m(this,Bf)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");k(this,Bf,e)}static get workerSrc(){return m(this,zf)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");k(this,zf,e)}}Bf=new WeakMap,zf=new WeakMap,D(uo,Bf,null),D(uo,zf,"");const dm={UNKNOWN:0,DATA:1,ERROR:2},Xt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function kr(n){switch(n instanceof Error||typeof n=="object"&&n!==null||At('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new yu(n.message);case"MissingPDFException":return new mu(n.message);case"PasswordException":return new aS(n.message,n.code);case"UnexpectedResponseException":return new wv(n.message,n.status);case"UnknownErrorException":return new lS(n.message,n.details);default:return new lS(n.message,n.toString())}}var kc,fi,nD,rD,iD,zm;class Nh{constructor(e,t,r){D(this,fi);D(this,kc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",T(this,fi,nD).bind(this),{signal:m(this,kc).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:o,targetName:l,stream:Xt.PULL,streamId:s,desiredSize:d.desiredSize}),h.promise},cancel:d=>{on(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Xt.CANCEL,streamId:s,reason:kr(d)}),h.promise}},r)}destroy(){var e;(e=m(this,kc))==null||e.abort(),k(this,kc,null)}}kc=new WeakMap,fi=new WeakSet,nD=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){T(this,fi,iD).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===dm.DATA)i.resolve(e.data);else if(e.callback===dm.ERROR)i.reject(kr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:dm.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:dm.ERROR,callbackId:e.callbackId,reason:kr(o)})});return}if(e.streamId){T(this,fi,rD).call(this,e);return}t(e.data)},rD=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(d,h=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=h,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Xt.ENQUEUE,streamId:t,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Xt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(d){on(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Xt.ERROR,streamId:t,reason:kr(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(d){d(l(e.data,c))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xt.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:r,targetName:i,stream:Xt.START_COMPLETE,streamId:t,reason:kr(d)})})},iD=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Xt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(kr(e.reason));break;case Xt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(kr(e.reason));break;case Xt.PULL:if(!l){s.postMessage({sourceName:r,targetName:i,stream:Xt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,new Promise(function(c){var d;c((d=l.onPull)==null?void 0:d.call(l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xt.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Xt.PULL_COMPLETE,streamId:t,reason:kr(c)})});break;case Xt.ENQUEUE:if(on(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Xt.CLOSE:if(on(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),T(this,fi,zm).call(this,o,t);break;case Xt.ERROR:on(o,"error should have stream controller"),o.controller.error(kr(e.reason)),T(this,fi,zm).call(this,o,t);break;case Xt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(kr(e.reason)),T(this,fi,zm).call(this,o,t);break;case Xt.CANCEL:if(!l)break;new Promise(function(c){var d;c((d=l.onCancel)==null?void 0:d.call(l,kr(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Xt.CANCEL_COMPLETE,streamId:t,reason:kr(c)})}),l.sinkCapability.reject(kr(e.reason)),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},zm=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Al,jf;class $4{constructor({parsedData:e,rawData:t}){D(this,Al);D(this,jf);k(this,Al,e),k(this,jf,t)}getRaw(){return m(this,jf)}get(e){return m(this,Al).get(e)??null}getAll(){return _0(m(this,Al))}has(e){return m(this,Al).has(e)}}Al=new WeakMap,jf=new WeakMap;const nc=Symbol("INTERNAL");var $f,Hf,Vf,Pc;class H4{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){D(this,$f,!1);D(this,Hf,!1);D(this,Vf,!1);D(this,Pc,!0);k(this,$f,!!(e&Br.DISPLAY)),k(this,Hf,!!(e&Br.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(m(this,Vf))return m(this,Pc);if(!m(this,Pc))return!1;const{print:e,view:t}=this.usage;return m(this,$f)?(t==null?void 0:t.viewState)!=="OFF":m(this,Hf)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==nc&&At("Internal method `_setVisible` called."),k(this,Vf,r),k(this,Pc,t)}}$f=new WeakMap,Hf=new WeakMap,Vf=new WeakMap,Pc=new WeakMap;var ia,ft,Tc,Ic,Uf,FS;class V4{constructor(e,t=Br.DISPLAY){D(this,Uf);D(this,ia,null);D(this,ft,new Map);D(this,Tc,null);D(this,Ic,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,k(this,Ic,e.order);for(const r of e.groups)m(this,ft).set(r.id,new H4(t,r));if(e.baseState==="OFF")for(const r of m(this,ft).values())r._setVisible(nc,!1);for(const r of e.on)m(this,ft).get(r)._setVisible(nc,!0);for(const r of e.off)m(this,ft).get(r)._setVisible(nc,!1);k(this,Tc,this.getHash())}}isVisible(e){if(m(this,ft).size===0)return!0;if(!e)return vv("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,ft).has(e.id)?m(this,ft).get(e.id).visible:(Qe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return T(this,Uf,FS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,ft).has(t))return Qe(`Optional content group not found: ${t}`),!0;if(m(this,ft).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,ft).has(t))return Qe(`Optional content group not found: ${t}`),!0;if(!m(this,ft).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,ft).has(t))return Qe(`Optional content group not found: ${t}`),!0;if(!m(this,ft).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,ft).has(t))return Qe(`Optional content group not found: ${t}`),!0;if(m(this,ft).get(t).visible)return!1}return!0}return Qe(`Unknown optional content policy ${e.policy}.`),!0}return Qe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=m(this,ft).get(e);if(!i){Qe(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const o of i.rbGroups)for(const l of o)l!==e&&((s=m(this,ft).get(l))==null||s._setVisible(nc,!1,!0));i._setVisible(nc,!!t,!0),k(this,ia,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=m(this,ft).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}k(this,ia,null)}get hasInitialVisibility(){return m(this,Tc)===null||this.getHash()===m(this,Tc)}getOrder(){return m(this,ft).size?m(this,Ic)?m(this,Ic).slice():[...m(this,ft).keys()]:null}getGroups(){return m(this,ft).size>0?_0(m(this,ft)):null}getGroup(e){return m(this,ft).get(e)||null}getHash(){if(m(this,ia)!==null)return m(this,ia);const e=new GI;for(const[t,r]of m(this,ft))e.update(`${t}:${r.visible}`);return k(this,ia,e.hexdigest())}}ia=new WeakMap,ft=new WeakMap,Tc=new WeakMap,Ic=new WeakMap,Uf=new WeakSet,FS=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=T(this,Uf,FS).call(this,s);else if(m(this,ft).has(s))o=m(this,ft).get(s).visible;else return Qe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class U4{constructor(e,{disableRange:t=!1,disableStream:r=!1}){on(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});on(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){on(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new G4(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new W4(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class G4{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=P0(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class W4{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function q4(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=l(t);return h=unescape(h),h=c(h),h=d(h),s(h)}if(t=o(n),t){const h=d(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=l(t);return h=d(h),s(h)}function r(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(h,{fatal:!0}),y=bv(p);p=g.decode(y),e=!1}catch{}}return p}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function o(h){const p=[];let g;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=y.exec(h))!==null;){let[,b,E,S]=g;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[E,S]}const w=[];for(let b=0;b<p.length&&b in p;++b){let[E,S]=p[b];S=l(S),E&&(S=unescape(S),b===0&&(S=c(S))),w.push(S)}return w.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let g=0;g<p.length;++g){const y=p[g].indexOf('"');y!==-1&&(p[g]=p[g].slice(0,y),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function c(h){const p=h.indexOf("'");if(p===-1)return h;const g=h.slice(0,p),w=h.slice(p+1).replace(/^[^']*'/,"");return i(g,w)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function M0(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function N0({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function O0(n){const e=n.get("Content-Disposition");if(e){let t=q4(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(P0(t))return t}return null}function Ev(n,e){return n===404||n===0&&e.startsWith("file:")?new mu('Missing PDF "'+e+'".'):new wv(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function sD(n){return n===200||n===206}function oD(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function aD(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Qe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class L1{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=M0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return on(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new X4(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new K4(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class X4{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,oD(r,this._withCredentials,this._abortController)).then(s=>{if(!sD(s.status))throw Ev(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:c}=N0({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=O0(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:aD(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class K4{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,oD(s,this._withCredentials,this._abortController)).then(l=>{if(!sD(l.status))throw Ev(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:aD(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const tx=200,nx=206;function Y4(n){const e=n.response;return typeof e!="string"?e:bv(e).buffer}class Q4{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=M0(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=nx):i.expectedStatus=tx,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){var c,d,h;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(c=r.onError)==null||c.call(r,i.status);return}const s=i.status||tx;if(!(s===tx&&r.expectedStatus===nx)&&s!==r.expectedStatus){(d=r.onError)==null||d.call(r,i.status);return}const l=Y4(i);if(s===nx){const p=i.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);r.onDone({begin:parseInt(g[1],10),chunk:l})}else l?r.onDone({begin:0,chunk:l}):(h=r.onError)==null||h.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class J4{constructor(e){this._source=e,this._manager=new Q4(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return on(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Z4(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new eG(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Z4{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=N0({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=O0(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Ev(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class eG{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Ev(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const tG=/^[a-z][a-z0-9\-+.]+:/i;function nG(n){if(tG.test(n))return new URL(n);const e=Ra.get("url");return new URL(e.pathToFileURL(n))}function lD(n,e,t){return n.protocol==="http:"?Ra.get("http").request(n,{headers:e},t):Ra.get("https").request(n,{headers:e},t)}class rG{constructor(e){this.source=e,this.url=nG(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=M0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return on(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new oG(this):new iG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new aG(this,e,t):new sG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class uD{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cD{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class iG extends uD{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=i=>{if(i.statusCode===404){const c=new mu(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:l}=N0({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=O0(s)};this._request=lD(this._url,t,r),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class sG extends cD{constructor(e,t,r){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${r-1}`;const s=o=>{if(o.statusCode===404){const l=new mu(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(o)};this._request=lD(this._url,i,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class oG extends uD{constructor(e){super(e);const t=Ra.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new mu(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class aG extends cD{constructor(e,t,r){super(e);const i=Ra.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}}const lG=1e5,ur=30,uG=.8;var Zk,sa,fr,Gf,Wf,_l,Gs,qf,Xf,Rl,Dc,Lc,oa,Mc,Kf,Nc,kl,Yf,Qf,Ht,Pl,Tl,Jf,aa,Oc,yo,dD,hD,zS,Gr,jm,jS,fD,pD;let BS=(Ht=class{constructor({textContentSource:e,container:t,viewport:r}){D(this,yo);D(this,sa,Promise.withResolvers());D(this,fr,null);D(this,Gf,!1);D(this,Wf,!!((Zk=globalThis.FontInspector)!=null&&Zk.enabled));D(this,_l,null);D(this,Gs,null);D(this,qf,0);D(this,Xf,0);D(this,Rl,null);D(this,Dc,null);D(this,Lc,0);D(this,oa,0);D(this,Mc,Object.create(null));D(this,Kf,[]);D(this,Nc,null);D(this,kl,[]);D(this,Yf,new WeakMap);D(this,Qf,null);var c;if(e instanceof ReadableStream)k(this,Nc,e);else if(typeof e=="object")k(this,Nc,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');k(this,fr,k(this,Dc,t)),k(this,oa,r.scale*(globalThis.devicePixelRatio||1)),k(this,Lc,r.rotation),k(this,Gs,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:l}=r.rawDims;k(this,Qf,[1,0,0,-1,-o,l+s]),k(this,Xf,i),k(this,qf,s),T(c=Ht,Gr,fD).call(c),su(t,r),m(this,sa).promise.finally(()=>{m(Ht,Oc).delete(this),k(this,Gs,null),k(this,Mc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=er.platform;return rt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Rl).read().then(({value:t,done:r})=>{if(r){m(this,sa).resolve();return}m(this,_l)??k(this,_l,t.lang),Object.assign(m(this,Mc),t.styles),T(this,yo,dD).call(this,t.items),e()},m(this,sa).reject)};return k(this,Rl,m(this,Nc).getReader()),m(Ht,Oc).add(this),e(),m(this,sa).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,Lc)&&(t==null||t(),k(this,Lc,i),su(m(this,Dc),{rotation:i})),r!==m(this,oa)){t==null||t(),k(this,oa,r);const o={div:null,properties:null,ctx:T(s=Ht,Gr,jm).call(s,m(this,_l))};for(const l of m(this,kl))o.properties=m(this,Yf).get(l),o.div=l,T(this,yo,zS).call(this,o)}}cancel(){var t;const e=new yu("TextLayer task cancelled.");(t=m(this,Rl))==null||t.cancel(e).catch(()=>{}),k(this,Rl,null),m(this,sa).reject(e)}get textDivs(){return m(this,kl)}get textContentItemsStr(){return m(this,Kf)}static cleanup(){if(!(m(this,Oc).size>0)){m(this,Pl).clear();for(const{canvas:e}of m(this,Tl).values())e.remove();m(this,Tl).clear()}}},sa=new WeakMap,fr=new WeakMap,Gf=new WeakMap,Wf=new WeakMap,_l=new WeakMap,Gs=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Rl=new WeakMap,Dc=new WeakMap,Lc=new WeakMap,oa=new WeakMap,Mc=new WeakMap,Kf=new WeakMap,Nc=new WeakMap,kl=new WeakMap,Yf=new WeakMap,Qf=new WeakMap,Pl=new WeakMap,Tl=new WeakMap,Jf=new WeakMap,aa=new WeakMap,Oc=new WeakMap,yo=new WeakSet,dD=function(e){var i,s;if(m(this,Gf))return;(s=m(this,Gs)).ctx??(s.ctx=T(i=Ht,Gr,jm).call(i,m(this,_l)));const t=m(this,kl),r=m(this,Kf);for(const o of e){if(t.length>lG){Qe("Ignoring additional textDivs for performance reasons."),k(this,Gf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=m(this,fr);k(this,fr,document.createElement("span")),m(this,fr).classList.add("markedContent"),o.id!==null&&m(this,fr).setAttribute("id",`${o.id}`),l.append(m(this,fr))}else o.type==="endMarkedContent"&&k(this,fr,m(this,fr).parentNode);continue}r.push(o.str),T(this,yo,hD).call(this,o)}},hD=function(e){var b;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,kl).push(t);const i=ke.transform(m(this,Qf),e.transform);let s=Math.atan2(i[1],i[0]);const o=m(this,Mc)[e.fontName];o.vertical&&(s+=Math.PI/2);let l=m(this,Wf)&&o.fontSubstitution||o.fontFamily;l=Ht.fontFamilyMap.get(l)||l;const c=Math.hypot(i[2],i[3]),d=c*T(b=Ht,Gr,pD).call(b,l,m(this,_l));let h,p;s===0?(h=i[4],p=i[5]-d):(h=i[4]+d*Math.sin(s),p=i[5]-d*Math.cos(s));const g="calc(var(--scale-factor)*",y=t.style;m(this,fr)===m(this,Dc)?(y.left=`${(100*h/m(this,Xf)).toFixed(2)}%`,y.top=`${(100*p/m(this,qf)).toFixed(2)}%`):(y.left=`${g}${h.toFixed(2)}px)`,y.top=`${g}${p.toFixed(2)}px)`),y.fontSize=`${g}${(m(Ht,aa)*c).toFixed(2)}px)`,y.fontFamily=l,r.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,Wf)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);E!==S&&Math.max(E,S)/Math.min(E,S)>1.5&&(w=!0)}if(w&&(r.canvasWidth=o.vertical?e.height:e.width),m(this,Yf).set(t,r),m(this,Gs).div=t,m(this,Gs).properties=r,T(this,yo,zS).call(this,m(this,Gs)),r.hasText&&m(this,fr).append(t),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),m(this,fr).append(E)}},zS=function(e){var l;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(m(Ht,aa)>1&&(o=`scale(${1/m(Ht,aa)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=s,{canvasWidth:d,fontSize:h}=r;T(l=Ht,Gr,jS).call(l,i,h*m(this,oa),c);const{width:p}=i.measureText(t.textContent);p>0&&(o=`scaleX(${d*m(this,oa)/p}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Gr=new WeakSet,jm=function(e=null){let t=m(this,Tl).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Tl).set(e,t),m(this,Jf).set(t,{size:0,family:""})}return t},jS=function(e,t,r){const i=m(this,Jf).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},fD=function(){if(m(this,aa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),k(this,aa,e.getBoundingClientRect().height),e.remove()},pD=function(e,t){const r=m(this,Pl).get(e);if(r)return r;const i=T(this,Gr,jm).call(this,t);i.canvas.width=i.canvas.height=ur,T(this,Gr,jS).call(this,i,ur,e);const s=i.measureText("");let o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(o){const h=o/(o+l);return m(this,Pl).set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,ur,ur),i.strokeText("g",0,0);let c=i.getImageData(0,0,ur,ur).data;l=0;for(let h=c.length-1-3;h>=0;h-=4)if(c[h]>0){l=Math.ceil(h/4/ur);break}i.clearRect(0,0,ur,ur),i.strokeText("A",0,ur),c=i.getImageData(0,0,ur,ur).data,o=0;for(let h=0,p=c.length;h<p;h+=4)if(c[h]>0){o=ur-Math.floor(h/4/ur);break}i.canvas.width=i.canvas.height=0;const d=o?o/(o+l):uG;return m(this,Pl).set(e,d),d},D(Ht,Gr),D(Ht,Pl,new Map),D(Ht,Tl,new Map),D(Ht,Jf,new WeakMap),D(Ht,aa,null),D(Ht,Oc,new Set),Ht);class cf{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var c;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(cf.shouldBuildText(l))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const d of s.children)i(d)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cG=65536,dG=100,hG=5e3,fG=Un?A4:S4,pG=Un?_4:YI,gG=Un?C4:E4,mG=Un?R4:eD;function yG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new $S,{docId:t}=e,r=n.url?vG(n.url):null,i=n.data?wG(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof gD?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:cG;let h=n.worker instanceof lc?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Sv(n.docBaseUrl)?n.docBaseUrl:null,y=typeof n.cMapUrl=="string"?n.cMapUrl:null,w=n.cMapPacked!==!1,b=n.CMapReaderFactory||pG,E=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,S=n.StandardFontDataFactory||mG,A=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,I=n.isEvalSupported!==!1,N=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Un,L=typeof n.isChrome=="boolean"?n.isChrome:!er.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),z=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,V=typeof n.disableFontFace=="boolean"?n.disableFontFace:Un,X=n.fontExtraProperties===!0,Q=n.enableXfa===!0,W=n.ownerDocument||globalThis.document,ne=n.disableRange===!0,ee=n.disableStream===!0,K=n.disableAutoFetch===!0,re=n.pdfBug===!0,ce=n.CanvasFactory||fG,ie=n.FilterFactory||gG,U=n.enableHWA===!0,fe=c?c.length:n.length??NaN,M=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Un&&!V,j=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===YI&&S===eD&&y&&E&&kh(y,document.baseURI)&&kh(E,document.baseURI);n.canvasFactory&&x1("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&x1("`filterFactory`-instance option, please use `FilterFactory` instead.");const J=null;Z3(p);const F={canvasFactory:new ce({ownerDocument:W,enableHWA:U}),filterFactory:new ie({docId:t,ownerDocument:W}),cMapReaderFactory:j?null:new b({baseUrl:y,isCompressed:w}),standardFontDataFactory:j?null:new S({baseUrl:E})};if(!h){const pe={verbosity:p,port:uo.workerPort};h=pe.port?lc.fromPort(pe):new lc(pe),e._worker=h}const ve={docId:t,apiVersion:"4.8.69",data:i,password:l,disableAutoFetch:K,rangeChunkSize:d,length:fe,docBaseUrl:g,enableXfa:Q,evaluatorOptions:{maxImageSize:R,disableFontFace:V,ignoreErrors:A,isEvalSupported:I,isOffscreenCanvasSupported:N,isChrome:L,canvasMaxAreaInBytes:z,fontExtraProperties:X,useSystemFonts:M,cMapUrl:j?y:null,standardFontDataUrl:j?E:null}},Re={disableFontFace:V,fontExtraProperties:X,ownerDocument:W,pdfBug:re,styleElement:J,loadingParams:{disableAutoFetch:K,enableXfa:Q}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const pe=h.messageHandler.sendWithPromise("GetDocRequest",ve,i?[i.buffer]:null);let ye;if(c)ye=new U4(c,{disableRange:ne,disableStream:ee});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Te;Un?Te=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&kh(r)?L1:rG:Te=kh(r)?L1:J4,ye=new Te({url:r,length:fe,httpHeaders:s,withCredentials:o,rangeChunkSize:d,disableRange:ne,disableStream:ee})}return pe.then(Te=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const De=new Nh(t,Te,h.port),Oe=new EG(De,e,ye,Re,F);e._transport=Oe,De.send("Ready",null)})}).catch(e._capability.reject),e}function vG(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Un&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function wG(n){if(Un&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return bv(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function M1(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Vy;const Uy=class Uy{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Xn(Uy,Vy)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Vy=new WeakMap,D(Uy,Vy,0);let $S=Uy,gD=class{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){At("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class bG{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var la,Ws,li,rc,$m;class xG{constructor(e,t,r,i=!1){D(this,li);D(this,la,null);D(this,Ws,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new b1:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new mD,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Vp({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Wo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:p=!1}){var I,N;(I=this._stats)==null||I.time("Overall");const g=this._transport.getRenderingIntent(r,i,h,p),{renderingIntent:y,cacheKey:w}=g;k(this,Ws,!1),T(this,li,$m).call(this),l||(l=this._transport.getOptionalContentConfig(y));let b=this._intentStates.get(w);b||(b=Object.create(null),this._intentStates.set(w,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const E=!!(y&Br.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(g));const S=L=>{var z;b.renderTasks.delete(A),(this._maybeCleanupAfterRender||E)&&k(this,Ws,!0),T(this,li,rc).call(this,!E),L?(A.capability.reject(L),this._abortOperatorList({intentState:b,reason:L instanceof Error?L:new Error(L)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},A=new VS({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:d});(b.renderTasks||(b.renderTasks=new Set)).add(A);const R=A.task;return Promise.all([b.displayReadyCapability.promise,l]).then(([L,z])=>{var V;if(this.destroyed){S();return}if((V=this._stats)==null||V.time("Rendering"),!(z.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");A.initializeGraphics({transparency:L,optionalContentConfig:z}),A.operatorListChanged()}).catch(S),R}getOperatorList({intent:e="display",annotationMode:t=Wo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var d;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>cf.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:c,done:d}){if(d){r(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},i)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),k(this,Ws,!1),T(this,li,$m).call(this),Promise.all(e)}cleanup(e=!1){k(this,Ws,!0);const t=T(this,li,rc).call(this,!1);return e&&t&&this._stats&&(this._stats=new b1),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&T(this,li,rc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),d=this._intentStates.get(t);d.streamReader=c;const h=()=>{c.read().then(({value:p,done:g})=>{if(g){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const g of d.renderTasks)g.operatorListChanged();T(this,li,rc).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof k0){let i=dG;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new yu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}la=new WeakMap,Ws=new WeakMap,li=new WeakSet,rc=function(e=!1){if(T(this,li,$m).call(this),!m(this,Ws)||this.destroyed)return!1;if(e)return k(this,la,setTimeout(()=>{k(this,la,null),T(this,li,rc).call(this,!1)},hG)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),k(this,Ws,!1),!0},$m=function(){m(this,la)&&(clearTimeout(m(this,la)),k(this,la,null))};var qs,Gy;class SG{constructor(){D(this,qs,new Map);D(this,Gy,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};m(this,Gy).then(()=>{for(const[i]of m(this,qs))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Qe("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}m(this,qs).set(t,i)}removeEventListener(e,t){const r=m(this,qs).get(t);r==null||r(),m(this,qs).delete(t)}terminate(){for(const[,e]of m(this,qs))e==null||e();m(this,qs).clear()}}qs=new WeakMap,Gy=new WeakMap;var Wy,Il,Dl,Fc,Hm,Bc,Vm;const Pt=class Pt{constructor({name:e=null,port:t=null,verbosity:r=e4()}={}){D(this,Fc);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Pt,Dl))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Pt,Dl)||k(Pt,Dl,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Un?Promise.all([Ra.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Nh("main","worker",e),this._messageHandler.on("ready",function(){}),T(this,Fc,Hm).call(this)}_initialize(){if(m(Pt,Il)||m(Pt,Bc,Vm)){this._setupFakeWorker();return}let{workerSrc:e}=Pt;try{Pt._isSameOrigin(window.location.href,e)||(e=Pt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Nh("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",l=>{if(s.abort(),this.destroyed||!l){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,T(this,Fc,Hm).call(this)}),r.on("ready",l=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};o();return}catch{vv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Pt,Il)||(Qe("Setting up fake worker."),k(Pt,Il,!0)),Pt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new SG;this._port=t;const r=`fake${Xn(Pt,Wy)._++}`,i=new Nh(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new Nh(r,r+"_worker",t),T(this,Fc,Hm).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=m(Pt,Dl))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=m(this,Dl))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Pt(e)}static get workerSrc(){if(uo.workerSrc)return uo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return rt(this,"_setupFakeWorkerGlobal",(async()=>m(this,Bc,Vm)?m(this,Bc,Vm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Wy=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Fc=new WeakSet,Hm=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Bc=new WeakSet,Vm=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},D(Pt,Bc),D(Pt,Wy,0),D(Pt,Il,!1),D(Pt,Dl),Un&&(k(Pt,Il,!0),uo.workerSrc||(uo.workerSrc="./pdf.worker.mjs")),Pt._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},Pt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let lc=Pt;var Xs,hs,zc,jc,fs,Ll,Oh;class EG{constructor(e,t,r,i,s){D(this,Ll);D(this,Xs,new Map);D(this,hs,new Map);D(this,zc,new Map);D(this,jc,new Map);D(this,fs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mD,this.fontLoader=new b4({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return rt(this,"annotationStorage",new D0)}getRenderingIntent(e,t=Wo.ENABLE,r=null,i=!1,s=!1){let o=Br.DISPLAY,l=PS;switch(e){case"any":o=Br.ANY;break;case"display":break;case"print":o=Br.PRINT;break;default:Qe(`getRenderingIntent - invalid intent: ${e}`)}const c=o&Br.PRINT&&r instanceof qI?r:this.annotationStorage;switch(t){case Wo.DISABLE:o+=Br.ANNOTATIONS_DISABLE;break;case Wo.ENABLE:break;case Wo.ENABLE_FORMS:o+=Br.ANNOTATIONS_FORMS;break;case Wo.ENABLE_STORAGE:o+=Br.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Qe(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=Br.IS_EDITING),s&&(o+=Br.OPLIST);const{ids:d,hash:h}=c.modifiedIds,p=[o,l.hash,h];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,fs))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,hs).values())e.push(i._destroy());m(this,hs).clear(),m(this,zc).clear(),m(this,jc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Xs).clear(),this.filterFactory.destroy(),BS.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new yu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{on(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}on(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{on(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){i.close();return}on(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new bG(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new aS(r.message,r.code);break;case"InvalidPDFException":i=new wI(r.message);break;case"MissingPDFException":i=new mu(r.message);break;case"UnexpectedResponseException":i=new wv(r.message,r.status);break;case"UnknownErrorException":i=new lS(r.message,r.details);break;default:At("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(k(this,fs,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?m(this,fs).reject(s):m(this,fs).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){m(this,fs).reject(s)}}else m(this,fs).reject(new aS(r.message,r.code));return m(this,fs).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,hs).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:l,fontExtraProperties:c,pdfBug:d}=this._params;if("error"in s){const y=s.error;Qe(`Error during font loading: ${y}`),this.commonObjs.resolve(r,y);break}const h=d&&((o=globalThis.FontInspector)!=null&&o.enabled)?(y,w)=>globalThis.FontInspector.fontAdded(y,w):null,p=new x4(s,{disableFontFace:l,inspectFont:h});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:g}=s;on(g,"The imageRef must be defined.");for(const y of m(this,hs).values())for(const[,w]of y.objs)if((w==null?void 0:w.ref)===g)return w.dataLen?(this.commonObjs.resolve(r,structuredClone(w)),w.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var c;if(this.destroyed)return;const l=m(this,hs).get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":l.objs.resolve(r,o),(o==null?void 0:o.dataLen)>K3&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Qe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=m(this,zc).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,jc).set(s.refStr,e);const o=new xG(t,s,this,this._params.pdfBug);return m(this,hs).set(t,o),o});return m(this,zc).set(t,i),i}getPageIndex(e){return M1(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return T(this,Ll,Oh).call(this,"GetFieldObjects")}hasJSActions(){return T(this,Ll,Oh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return T(this,Ll,Oh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return T(this,Ll,Oh).call(this,"GetOptionalContentConfig").then(t=>new V4(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,Xs).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new $4(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return m(this,Xs).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,hs).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Xs).clear(),this.filterFactory.destroy(!0),BS.cleanup()}}cachedPageNumber(e){if(!M1(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,jc).get(t)??null}}Xs=new WeakMap,hs=new WeakMap,zc=new WeakMap,jc=new WeakMap,fs=new WeakMap,Ll=new WeakSet,Oh=function(e,t=null){const r=m(this,Xs).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return m(this,Xs).set(e,i),i};const hm=Symbol("INITIAL_DATA");var Pi,Zf,HS;class mD{constructor(){D(this,Zf);D(this,Pi,Object.create(null))}get(e,t=null){if(t){const i=T(this,Zf,HS).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=m(this,Pi)[e];if(!r||r.data===hm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=m(this,Pi)[e];return!!t&&t.data!==hm}resolve(e,t=null){const r=T(this,Zf,HS).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in m(this,Pi)){const{data:r}=m(this,Pi)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}k(this,Pi,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Pi)){const{data:t}=m(this,Pi)[e];t!==hm&&(yield[e,t])}}}Pi=new WeakMap,Zf=new WeakSet,HS=function(e){var t;return(t=m(this,Pi))[e]||(t[e]={...Promise.withResolvers(),data:hm})};var ua;class CG{constructor(e){D(this,ua,null);k(this,ua,e),this.onContinue=null}get promise(){return m(this,ua).capability.promise}cancel(e=0){m(this,ua).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,ua).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,ua);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ua=new WeakMap;var ca,Ml;const il=class il{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:g=null}){D(this,ca,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(m(il,Ml).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(il,Ml).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new ac(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,ca)&&(window.cancelAnimationFrame(m(this,ca)),k(this,ca,null)),m(il,Ml).delete(this._canvas),this.callback(e||new k0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?k(this,ca,window.requestAnimationFrame(()=>{k(this,ca,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(il,Ml).delete(this._canvas),this.callback())))}};ca=new WeakMap,Ml=new WeakMap,D(il,Ml,new WeakSet);let VS=il;const AG="4.8.69",_G="3634dab10";function N1(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function xh(n){return Math.max(0,Math.min(255,255*n))}class O1{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=xh(e),[e,e,e]}static G_HTML([e]){const t=N1(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(xh)}static RGB_HTML(e){return`#${e.map(N1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[xh(1-Math.min(1,e+i)),xh(1-Math.min(1,r+i)),xh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,l=Math.min(i,s,o);return["CMYK",i,s,o,l]}}class RG{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){At("Abstract method `_createSVG` called.")}}class F0 extends RG{_createSVG(e){return document.createElementNS(Ns,e)}}class yD{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of r.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,d]of Object.entries(o))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}l&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var p,g;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const l=s!=="richText",c=e.div;if(c.append(o),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=y}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);o.append(y),l&&cf.shouldBuildText(i.name)&&d.push(y)}return{textDivs:d}}const h=[[i,-1,o]];for(;h.length>0;){const[y,w,b]=h.at(-1);if(w+1===y.children.length){h.pop();continue}const E=y.children[++h.at(-1)[1]];if(E===null)continue;const{name:S}=E;if(S==="#text"){const R=document.createTextNode(E.value);d.push(R),b.append(R);continue}const A=(p=E==null?void 0:E.attributes)!=null&&p.xmlns?document.createElementNS(E.attributes.xmlns,S):document.createElement(S);if(b.append(A),E.attributes&&this.setAttributes({html:A,element:E,storage:t,intent:s,linkService:r}),((g=E.children)==null?void 0:g.length)>0)h.push([E,-1,A]);else if(E.value){const R=document.createTextNode(E.value);l&&cf.shouldBuildText(S)&&d.push(R),A.append(R)}}for(const y of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Gp=1e3,kG=9,au=new WeakSet;function fo(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class PG{static create(e){switch(e.data.annotationType){case tn.LINK:return new vD(e);case tn.TEXT:return new TG(e);case tn.WIDGET:switch(e.data.fieldType){case"Tx":return new IG(e);case"Btn":return e.data.radioButton?new xD(e):e.data.checkBox?new LG(e):new MG(e);case"Ch":return new NG(e);case"Sig":return new DG(e)}return new vu(e);case tn.POPUP:return new GS(e);case tn.FREETEXT:return new _D(e);case tn.LINE:return new FG(e);case tn.SQUARE:return new BG(e);case tn.CIRCLE:return new zG(e);case tn.POLYLINE:return new RD(e);case tn.CARET:return new $G(e);case tn.INK:return new B0(e);case tn.POLYGON:return new jG(e);case tn.HIGHLIGHT:return new kD(e);case tn.UNDERLINE:return new HG(e);case tn.SQUIGGLY:return new VG(e);case tn.STRIKEOUT:return new UG(e);case tn.STAMP:return new PD(e);case tn.FILEATTACHMENT:return new GG(e);default:return new Wt(e)}}}var Nl,$c,Hc,ep,US;const dC=class dC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){D(this,ep);D(this,Nl,null);D(this,$c,!1);D(this,Hc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return dC._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;m(this,Nl)||k(this,Nl,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&T(this,ep,US).call(this,t),(r=m(this,Hc))==null||r.popup.updateEdited(e)}resetEdited(){var e;m(this,Nl)&&(T(this,ep,US).call(this,m(this,Nl).rect),(e=m(this,Hc))==null||e.popup.resetEdited(),k(this,Nl,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof vu||(s.tabIndex=Gp);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof GS){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:l,height:c}=fo(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(b>0||E>0){const A=`calc(${b}px * var(--scale-factor)) / calc(${E}px * var(--scale-factor))`;o.borderRadius=A}else if(this instanceof xD){const A=`calc(${l}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case wh.SOLID:o.borderStyle="solid";break;case wh.DASHED:o.borderStyle="dashed";break;case wh.BEVELED:Qe("Unimplemented border style: beveled");break;case wh.INSET:Qe("Unimplemented border style: inset");break;case wh.UNDERLINE:o.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(k(this,$c,!0),o.borderColor=ke.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const d=ke.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:p,pageX:g,pageY:y}=i.rawDims;o.left=`${100*(d[0]-g)/h}%`,o.top=`${100*(d[1]-y)/p}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(o.width=`${100*l/h}%`,o.height=`${100*c/p}%`):this.setRotation(w,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=fo(this.data.rect);let l,c;e%180===0?(l=100*s/r,c=100*o/i):(l=100*o/r,c=100*s/i),t.style.width=`${l}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],l=s.slice(1);i.target.style[r]=O1[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:O1[`${o}_rgb`](l)})};return rt(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const l={detail:{[i]:s},target:e};o(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,E,S,A]=e.subarray(2,6);if(i===b&&s===E&&t===S&&r===A)return}const{style:o}=this.container;let l;if(m(this,$c)){const{borderColor:b,borderWidth:E}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const c=i-t,d=s-r,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const g=h.createElement("defs");p.append(g);const y=h.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),g.append(y);for(let b=2,E=e.length;b<E;b+=8){const S=e[b],A=e[b+1],R=e[b+2],I=e[b+3],N=h.createElement("rect"),L=(R-t)/c,z=(s-A)/d,V=(S-R)/c,X=(A-I)/d;N.setAttribute("x",L),N.setAttribute("y",z),N.setAttribute("width",V),N.setAttribute("height",X),y.append(N),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${z}" width="${V}" height="${X}"/>`)}m(this,$c)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:e}=this,t=k(this,Hc,new GS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){At("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:l}of i){if(s===-1||o===t)continue;const c=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${o}"]`);if(d&&!au.has(d)){Qe(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:d})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&au.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Nl=new WeakMap,$c=new WeakMap,Hc=new WeakMap,ep=new WeakSet,US=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}}}=this;r==null||r.splice(0,4,...e);const{width:d,height:h}=fo(e);t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,i===0?(t.width=`${100*d/s}%`,t.height=`${100*h/o}%`):this.setRotation(i)};let Wt=dC;var zr,Za,wD,bD;class vD extends Wt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});D(this,zr);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(T(this,zr,wD).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(T(this,zr,bD).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&T(this,zr,Za).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),T(this,zr,Za).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),T(this,zr,Za).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),T(this,zr,Za).call(this),!this._fieldObjects){Qe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:o,include:l}=r,c=[];if(s.length!==0||o.length!==0){const g=new Set(o);for(const y of s){const w=this._fieldObjects[y]||[];for(const{id:b}of w)g.add(b)}for(const y of Object.values(this._fieldObjects))for(const w of y)g.has(w.id)===l&&c.push(w)}else for(const g of Object.values(this._fieldObjects))c.push(...g);const d=this.annotationStorage,h=[];for(const g of c){const{id:y}=g;switch(h.push(y),g.type){case"text":{const b=g.defaultValue||"";d.setValue(y,{value:b});break}case"checkbox":case"radiobutton":{const b=g.defaultValue===g.exportValues;d.setValue(y,{value:b});break}case"combobox":case"listbox":{const b=g.defaultValue||"";d.setValue(y,{value:b});break}default:continue}const w=document.querySelector(`[data-element-id="${y}"]`);if(w){if(!au.has(w)){Qe(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}zr=new WeakSet,Za=function(){this.container.setAttribute("data-internal-link","")},wD=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},T(this,zr,Za).call(this)},bD=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),T(this,zr,Za).call(this)};class TG extends Wt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class vu extends Wt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return er.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var l;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,l;for(const[c,d]of r)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,d,i),d==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ke.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||kG,s=e.style;let o;const l=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(Qb*i))||1,p=d/h;o=Math.min(i,c(p/Qb))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,c(d/Qb))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=ke.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class IG extends vu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",d??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),au.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Gp,this._setRequired(r,this.data.required),c&&(r.maxLength=c),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",g=>{const y=this.data.defaultFieldValue??"";r.value=h.userValue=y,h.formattedValue=null});let p=g=>{const{formattedValue:y}=h;y!=null&&(g.target.value=y),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var b;if(h.focused)return;const{target:w}=y;h.userValue&&(w.value=h.userValue),h.lastCommittedValue=w.value,h.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const w={value(b){h.userValue=b.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),b.target.value=h.userValue},formattedValue(b){const{formattedValue:E}=b.detail;h.formattedValue=E,E!=null&&b.target!==document.activeElement&&(b.target.value=E),e.setValue(t,{formattedValue:E})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var R;const{charLimit:E}=b.detail,{target:S}=b;if(E===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",E);let A=h.userValue;!A||A.length<=E||(A=A.slice(0,E),S.value=h.userValue=A,e.setValue(t,{value:A}),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(w,y)}),r.addEventListener("keydown",y=>{var E;h.commitKey=1;let w=-1;if(y.key==="Escape"?w=0:y.key==="Enter"&&!this.data.multiLine?w=2:y.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:b}=y.target;h.lastCommittedValue!==b&&(h.lastCommittedValue=b,h.userValue=b,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:w,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const g=p;p=null,r.addEventListener("blur",y=>{var b,E;if(!h.focused||!y.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(h.focused=!1);const{value:w}=y.target;h.userValue=w,h.lastCommittedValue!==w&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),g(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var N;h.lastCommittedValue=null;const{data:w,target:b}=y,{value:E,selectionStart:S,selectionEnd:A}=b;let R=S,I=A;switch(y.inputType){case"deleteWordBackward":{const L=E.substring(0,S).match(/\w*[^\w]*$/);L&&(R-=L[0].length);break}case"deleteWordForward":{const L=E.substring(S).match(/^[^\w]*\w*/);L&&(I+=L[0].length);break}case"deleteContentBackward":S===A&&(R-=1);break;case"deleteContentForward":S===A&&(I+=1);break}y.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:w||"",willCommit:!1,selStart:R,selEnd:I}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class DG extends vu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class LG extends vu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return au.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Gp,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,r)){const h=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xD extends vu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(au.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Gp,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const d of this._getElementsByName(l,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:d=>{const h=o===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const g=h&&p.id===r;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class MG extends vD{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class NG extends vu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");au.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Gp;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,r.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),o=()=>{h.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=h=>{const p=h?"value":"textContent",{options:g,multiple:y}=i;return y?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let c=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const p={value(g){o==null||o();const y=g.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const b of i.options)b.selected=w.has(b.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(g){i.multiple=!0},remove(g){const y=i.options,w=g.detail.remove;y[w].selected=!1,i.remove(w),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(g){const{index:y,displayValue:w,exportValue:b}=g.detail.insert,E=i.children[y],S=document.createElement("option");S.textContent=w,S.value=b,E?E.before(S):i.append(S),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},items(g){const{items:y}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of y){const{displayValue:b,exportValue:E}=w,S=document.createElement("option");S.textContent=b,S.value=E,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:d(g)}),c=l(!1)},indices(g){const y=new Set(g.detail.indices);for(const w of g.target.options)w.selected=y.has(w.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,h)}),i.addEventListener("input",h=>{var y;const p=l(!0),g=l(!1);e.setValue(t,{value:p}),h.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class GS extends Wt{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Wt._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new OG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${R0}${r}`).join(",")),this.container}}var Vc,qy,Xy,Uc,Ol,$t,Ks,Gc,tp,np,Wc,Ys,Ti,Qs,rp,Js,ip,Fl,Bl,yt,Um,WS,SD,ED,CD,AD,Gm,Wm,qS;class OG{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:l,parent:c,rect:d,parentRect:h,open:p}){D(this,yt);D(this,Vc,T(this,yt,CD).bind(this));D(this,qy,T(this,yt,qS).bind(this));D(this,Xy,T(this,yt,Wm).bind(this));D(this,Uc,T(this,yt,Gm).bind(this));D(this,Ol,null);D(this,$t,null);D(this,Ks,null);D(this,Gc,null);D(this,tp,null);D(this,np,null);D(this,Wc,null);D(this,Ys,!1);D(this,Ti,null);D(this,Qs,null);D(this,rp,null);D(this,Js,null);D(this,ip,null);D(this,Fl,null);D(this,Bl,!1);var g;k(this,$t,e),k(this,ip,i),k(this,Ks,o),k(this,Js,l),k(this,np,c),k(this,Ol,t),k(this,rp,d),k(this,Wc,h),k(this,tp,r),k(this,Gc,T0.toDateObject(s)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",m(this,Uc)),y.addEventListener("mouseenter",m(this,Xy)),y.addEventListener("mouseleave",m(this,qy)),y.classList.add("popupTriggerArea");for(const y of r)(g=y.container)==null||g.addEventListener("keydown",m(this,Vc));m(this,$t).hidden=!0,p&&T(this,yt,Gm).call(this)}render(){if(m(this,Ti))return;const e=k(this,Ti,document.createElement("div"));if(e.className="popup",m(this,Ol)){const s=e.style.outlineColor=ke.makeHexColor(...m(this,Ol));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ke.makeHexColor(...m(this,Ol).map(l=>Math.floor(.7*(255-l)+l)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=m(this,ip),e.append(t),m(this,Gc)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Gc).valueOf()})),t.append(s)}const i=m(this,yt,Um);if(i)yD.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,Ks));e.append(s)}m(this,$t).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const l=i[s];r.append(document.createTextNode(l)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;m(this,Fl)||k(this,Fl,{contentsObj:m(this,Ks),richText:m(this,Js)}),e&&k(this,Qs,null),t&&(k(this,Js,T(this,yt,ED).call(this,t)),k(this,Ks,null)),(r=m(this,Ti))==null||r.remove(),k(this,Ti,null)}resetEdited(){var e;m(this,Fl)&&({contentsObj:Xn(this,Ks)._,richText:Xn(this,Js)._}=m(this,Fl),k(this,Fl,null),(e=m(this,Ti))==null||e.remove(),k(this,Ti,null),k(this,Qs,null))}forceHide(){k(this,Bl,this.isVisible),m(this,Bl)&&(m(this,$t).hidden=!0)}maybeShow(){m(this,Bl)&&(m(this,Ti)||T(this,yt,Wm).call(this),k(this,Bl,!1),m(this,$t).hidden=!1)}get isVisible(){return m(this,$t).hidden===!1}}Vc=new WeakMap,qy=new WeakMap,Xy=new WeakMap,Uc=new WeakMap,Ol=new WeakMap,$t=new WeakMap,Ks=new WeakMap,Gc=new WeakMap,tp=new WeakMap,np=new WeakMap,Wc=new WeakMap,Ys=new WeakMap,Ti=new WeakMap,Qs=new WeakMap,rp=new WeakMap,Js=new WeakMap,ip=new WeakMap,Fl=new WeakMap,Bl=new WeakMap,yt=new WeakSet,Um=function(){const e=m(this,Js),t=m(this,Ks);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,Js).html||null},WS=function(){var e,t,r;return((r=(t=(e=m(this,yt,Um))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},SD=function(){var e,t,r;return((r=(t=(e=m(this,yt,Um))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},ED=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,yt,SD),fontSize:m(this,yt,WS)?`calc(${m(this,yt,WS)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},CD=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Ys))&&T(this,yt,Gm).call(this)},AD=function(){if(m(this,Qs)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=m(this,np);let o=!!m(this,Wc),l=o?m(this,Wc):m(this,rp);for(const w of m(this,tp))if(!l||ke.intersect(w.data.rect,l)!==null){l=w.data.rect,o=!0;break}const c=ke.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=o?l[2]-l[0]+5:0,p=c[0]+h,g=c[1];k(this,Qs,[100*(p-i)/t,100*(g-s)/r]);const{style:y}=m(this,$t);y.left=`${m(this,Qs)[0]}%`,y.top=`${m(this,Qs)[1]}%`},Gm=function(){k(this,Ys,!m(this,Ys)),m(this,Ys)?(T(this,yt,Wm).call(this),m(this,$t).addEventListener("click",m(this,Uc)),m(this,$t).addEventListener("keydown",m(this,Vc))):(T(this,yt,qS).call(this),m(this,$t).removeEventListener("click",m(this,Uc)),m(this,$t).removeEventListener("keydown",m(this,Vc)))},Wm=function(){m(this,Ti)||this.render(),this.isVisible?m(this,Ys)&&m(this,$t).classList.add("focused"):(T(this,yt,AD).call(this),m(this,$t).hidden=!1,m(this,$t).style.zIndex=parseInt(m(this,$t).style.zIndex)+1e3)},qS=function(){m(this,$t).classList.remove("focused"),!(m(this,Ys)||!this.isVisible)&&(m(this,$t).hidden=!0,m(this,$t).style.zIndex=parseInt(m(this,$t).style.zIndex)-1e3)};class _D extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sp;class FG extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,sp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=fo(t.rect),s=this.svgFactory.create(r,i,!0),o=k(this,sp,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,sp)}addHighlightArea(){this.container.classList.add("highlightArea")}}sp=new WeakMap;var op;class BG extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,op,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=fo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,l=k(this,op,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",r-o),l.setAttribute("height",i-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,op)}addHighlightArea(){this.container.classList.add("highlightArea")}}op=new WeakMap;var ap;class zG extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,ap,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=fo(t.rect),s=this.svgFactory.create(r,i,!0),o=t.borderStyle.width,l=k(this,ap,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",r/2),l.setAttribute("cy",i/2),l.setAttribute("rx",r/2-o/2),l.setAttribute("ry",i/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}ap=new WeakMap;var lp;class RD extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,lp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:l}=fo(t),c=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,g=r.length;p<g;p+=2){const y=r[p]-t[0],w=t[3]-r[p+1];d.push(`${y},${w}`)}d=d.join(" ");const h=k(this,lp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,lp)}addHighlightArea(){this.container.classList.add("highlightArea")}}lp=new WeakMap;class jG extends RD{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $G extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var up;class B0 extends Wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});D(this,up,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xe.HIGHLIGHT:Xe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:l}=fo(t),c=this.svgFactory.create(o,l,!0);for(const d of r){let h=[];for(let g=0,y=d.length;g<y;g+=2){const w=d[g]-t[0],b=t[3]-d[g+1];h.push(`${w},${b}`)}h=h.join(" ");const p=this.svgFactory.createElement(this.svgElementName);m(this,up).push(p),p.setAttribute("points",h),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),c.append(p)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return m(this,up)}addHighlightArea(){this.container.classList.add("highlightArea")}}up=new WeakMap;class kD extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xe.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class HG extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class VG extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class UG extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class PD extends Wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var cp,dp,XS;class GG extends Wt{constructor(t){var i;super(t,{isRenderable:!0});D(this,dp);D(this,cp,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",T(this,dp,XS).bind(this)),k(this,cp,i);const{isMac:s}=er.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&T(this,dp,XS).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,cp)}addHighlightArea(){this.container.classList.add("highlightArea")}}cp=new WeakMap,dp=new WeakSet,XS=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var hp,zl,jl,fp,du,TD,KS,eP;let WG=(eP=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:l}){D(this,du);D(this,hp,null);D(this,zl,null);D(this,jl,new Map);D(this,fp,null);this.div=e,k(this,hp,t),k(this,zl,r),k(this,fp,l||null),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,jl).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;su(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new F0,annotationStorage:e.annotationStorage||new D0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===tn.POPUP;if(c){const p=i.get(l.id);if(!p)continue;s.elements=p}else{const{width:p,height:g}=fo(l.rect);if(p<=0||g<=0)continue}s.data=l;const d=PG.create(s);if(!d.isRenderable)continue;if(!c&&l.popupRef){const p=i.get(l.popupRef);p?p.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await T(this,du,TD).call(this,h,l.id),d._isEditable&&(m(this,jl).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}T(this,du,KS).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,su(t,{rotation:e.rotation}),T(this,du,KS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,jl).values())}getEditableAnnotation(e){return m(this,jl).get(e)}},hp=new WeakMap,zl=new WeakMap,jl=new WeakMap,fp=new WeakMap,du=new WeakSet,TD=async function(e,t){var o,l;const r=e.firstChild||e,i=r.id=`${R0}${t}`,s=await((o=m(this,fp))==null?void 0:o.getAriaAttributes(i));if(s)for(const[c,d]of s)r.setAttribute(c,d);this.div.append(e),(l=m(this,hp))==null||l.moveElementInDOM(this.div,e,r,!1)},KS=function(){if(!m(this,zl))return;const e=this.div;for(const[t,r]of m(this,zl)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}m(this,zl).clear()},eP);const fm=/\r\n?|\n/g;var Ii,Dr,pp,$l,Lr,Qt,ID,DD,LD,qm,go,Xm,Km,MD,QS,ND;const bt=class bt extends pt{constructor(t){super({...t,name:"freeTextEditor"});D(this,Qt);D(this,Ii);D(this,Dr,"");D(this,pp,`${this.id}-editor`);D(this,$l,null);D(this,Lr);k(this,Ii,t.color||bt._defaultColor||pt._defaultLineColor),k(this,Lr,t.fontSize||bt._defaultFontSize)}static get _keyboardManager(){const t=bt.prototype,r=o=>o.isEmpty(),i=ou.TRANSLATE_SMALL,s=ou.TRANSLATE_BIG;return rt(this,"_keyboardManager",new Up([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){pt.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case He.FREETEXT_SIZE:bt._defaultFontSize=r;break;case He.FREETEXT_COLOR:bt._defaultColor=r;break}}updateParams(t,r){switch(t){case He.FREETEXT_SIZE:T(this,Qt,ID).call(this,r);break;case He.FREETEXT_COLOR:T(this,Qt,DD).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[He.FREETEXT_SIZE,bt._defaultFontSize],[He.FREETEXT_COLOR,bt._defaultColor||pt._defaultLineColor]]}get propertiesToUpdate(){return[[He.FREETEXT_SIZE,m(this,Lr)],[He.FREETEXT_COLOR,m(this,Ii)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-bt._internalPadding*t,-(bt._internalPadding+m(this,Lr))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Xe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),k(this,$l,new AbortController);const t=this._uiManager.combinedSignal(m(this,$l));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,pp)),this._isDraggable=!0,(t=m(this,$l))==null||t.abort(),k(this,$l,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,Dr),r=k(this,Dr,T(this,Qt,LD).call(this).trimEnd());if(t===r)return;const i=s=>{if(k(this,Dr,s),!s){this.remove();return}T(this,Qt,Km).call(this),this._uiManager.rebuild(this),T(this,Qt,qm).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),T(this,Qt,qm).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){bt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,pp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Lr)}px * var(--scale-factor))`,i.color=m(this,Ii),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Ey(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,p]=this.pageDimensions,[g,y]=this.pageTranslation;let w,b;switch(this.rotation){case 0:w=t+(l[0]-g)/h,b=r+this.height-(l[1]-y)/p;break;case 90:w=t+(l[0]-g)/h,b=r-(l[1]-y)/p,[c,d]=[d,-c];break;case 180:w=t-this.width+(l[0]-g)/h,b=r-(l[1]-y)/p,[c,d]=[-c,-d];break;case 270:w=t+(l[0]-g-this.height*p)/h,b=r+(l[1]-y-this.width*h)/p,[c,d]=[-d,c];break}this.setAt(w*s,b*o,c,d)}else this.setAt(t*s,r*o,this.width*s,this.height*o);T(this,Qt,Km).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var w,b,E;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=T(w=bt,go,QS).call(w,r.getData("text")||"").replaceAll(fm,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const S=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(fm,"")),S!==this.editorDiv){let A=h;for(const R of this.editorDiv.childNodes){if(R===S){A=p;continue}A.push(T(b=bt,go,Xm).call(b,R))}}h.push(c.nodeValue.slice(0,d).replaceAll(fm,""))}else if(c===this.editorDiv){let S=h,A=0;for(const R of this.editorDiv.childNodes)A++===d&&(S=p),S.push(T(E=bt,go,Xm).call(E,R))}k(this,Dr,`${h.join(`
`)}${s}${p.join(`
`)}`),T(this,Qt,Km).call(this);const g=new Range;let y=h.reduce((S,A)=>S+A.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const A=S.nodeValue.length;if(y<=A){g.setStart(S,y),g.setEnd(S,y);break}y-=A}o.removeAllRanges(),o.addRange(g)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var l;let s=null;if(t instanceof _D){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:p,id:g,popupRef:y},textContent:w,textPosition:b,parent:{page:{pageNumber:E}}}=t;if(!w||w.length===0)return null;s=t={annotationType:Xe.FREETEXT,color:Array.from(d),fontSize:c,value:w.join(`
`),position:b,pageIndex:E-1,rect:h.slice(0),rotation:p,id:g,deleted:!1,popupRef:y}}const o=await super.deserialize(t,r,i);return k(o,Lr,t.fontSize),k(o,Ii,ke.makeHexColor(...t.color)),k(o,Dr,T(l=bt,go,QS).call(l,t.value)),o.annotationElementId=t.id||null,o._initialData=s,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=bt._internalPadding*this.parentScale,i=this.getRect(r,r),s=pt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,Ii)),o={annotationType:Xe.FREETEXT,color:s,fontSize:m(this,Lr),value:T(this,Qt,MD).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!T(this,Qt,ND).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${m(this,Lr)}px * var(--scale-factor))`,i.color=m(this,Ii),r.replaceChildren();for(const o of m(this,Dr).split(`
`)){const l=document.createElement("div");l.append(o?document.createTextNode(o):document.createElement("br")),r.append(l)}const s=bt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,Dr)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ii=new WeakMap,Dr=new WeakMap,pp=new WeakMap,$l=new WeakMap,Lr=new WeakMap,Qt=new WeakSet,ID=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,Lr))*this.parentScale),k(this,Lr,s),T(this,Qt,qm).call(this)},i=m(this,Lr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},DD=function(t){const r=s=>{k(this,Ii,this.editorDiv.style.color=s)},i=m(this,Ii);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},LD=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(T(i=bt,go,Xm).call(i,s)),r=s);return t.join(`
`)},qm=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},go=new WeakSet,Xm=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(fm,"")},Km=function(){if(this.editorDiv.replaceChildren(),!!m(this,Dr))for(const t of m(this,Dr).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},MD=function(){return m(this,Dr).replaceAll(""," ")},QS=function(t){return t.replaceAll(" ","")},ND=function(t){const{value:r,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o},D(bt,go),$e(bt,"_freeTextDefaultContent",""),$e(bt,"_internalPadding",0),$e(bt,"_defaultColor",null),$e(bt,"_defaultFontSize",10),$e(bt,"_type","freetext"),$e(bt,"_editorType",Xe.FREETEXT);let YS=bt;class OD{toSVGPath(){At("Abstract method `toSVGPath` must be implemented.")}get box(){At("Abstract getter `box` must be implemented.")}serialize(e,t){At("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){At("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){At("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Mr,Di,qc,Xc,ps,Ze,Hl,Vl,gp,mp,Kc,Yc,da,yp,Ky,Yy,an,Fh,FD,BD,zD,jD,$D,HD;const Bs=class Bs{constructor({x:e,y:t},r,i,s,o,l=0){D(this,an);D(this,Mr);D(this,Di,[]);D(this,qc);D(this,Xc);D(this,ps,[]);D(this,Ze,new Float64Array(18));D(this,Hl);D(this,Vl);D(this,gp);D(this,mp);D(this,Kc);D(this,Yc);D(this,da,[]);k(this,Mr,r),k(this,Yc,s*i),k(this,Xc,o),m(this,Ze).set([NaN,NaN,NaN,NaN,e,t],6),k(this,qc,l),k(this,mp,m(Bs,yp)*i),k(this,gp,m(Bs,Yy)*i),k(this,Kc,i),m(this,da).push(e,t)}isEmpty(){return isNaN(m(this,Ze)[8])}add({x:e,y:t}){var X;k(this,Hl,e),k(this,Vl,t);const[r,i,s,o]=m(this,Mr);let[l,c,d,h]=m(this,Ze).subarray(8,12);const p=e-d,g=t-h,y=Math.hypot(p,g);if(y<m(this,gp))return!1;const w=y-m(this,mp),b=w/y,E=b*p,S=b*g;let A=l,R=c;l=d,c=h,d+=E,h+=S,(X=m(this,da))==null||X.push(e,t);const I=-S/w,N=E/w,L=I*m(this,Yc),z=N*m(this,Yc);return m(this,Ze).set(m(this,Ze).subarray(2,8),0),m(this,Ze).set([d+L,h+z],4),m(this,Ze).set(m(this,Ze).subarray(14,18),12),m(this,Ze).set([d-L,h-z],16),isNaN(m(this,Ze)[6])?(m(this,ps).length===0&&(m(this,Ze).set([l+L,c+z],2),m(this,ps).push(NaN,NaN,NaN,NaN,(l+L-r)/s,(c+z-i)/o),m(this,Ze).set([l-L,c-z],14),m(this,Di).push(NaN,NaN,NaN,NaN,(l-L-r)/s,(c-z-i)/o)),m(this,Ze).set([A,R,l,c,d,h],6),!this.isEmpty()):(m(this,Ze).set([A,R,l,c,d,h],6),Math.abs(Math.atan2(R-c,A-l)-Math.atan2(S,E))<Math.PI/2?([l,c,d,h]=m(this,Ze).subarray(2,6),m(this,ps).push(NaN,NaN,NaN,NaN,((l+d)/2-r)/s,((c+h)/2-i)/o),[l,c,A,R]=m(this,Ze).subarray(14,18),m(this,Di).push(NaN,NaN,NaN,NaN,((A+l)/2-r)/s,((R+c)/2-i)/o),!0):([A,R,l,c,d,h]=m(this,Ze).subarray(0,6),m(this,ps).push(((A+5*l)/6-r)/s,((R+5*c)/6-i)/o,((5*l+d)/6-r)/s,((5*c+h)/6-i)/o,((l+d)/2-r)/s,((c+h)/2-i)/o),[d,h,l,c,A,R]=m(this,Ze).subarray(12,18),m(this,Di).push(((A+5*l)/6-r)/s,((R+5*c)/6-i)/o,((5*l+d)/6-r)/s,((5*c+h)/6-i)/o,((l+d)/2-r)/s,((c+h)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,ps),t=m(this,Di);if(isNaN(m(this,Ze)[6])&&!this.isEmpty())return T(this,an,FD).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);T(this,an,zD).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return T(this,an,BD).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,o){return new VD(e,t,r,i,s,o)}getOutlines(){var p;const e=m(this,ps),t=m(this,Di),r=m(this,Ze),[i,s,o,l]=m(this,Mr),c=new Float64Array((((p=m(this,da))==null?void 0:p.length)??0)+2);for(let g=0,y=c.length-2;g<y;g+=2)c[g]=(m(this,da)[g]-i)/o,c[g+1]=(m(this,da)[g+1]-s)/l;if(c[c.length-2]=(m(this,Hl)-i)/o,c[c.length-1]=(m(this,Vl)-s)/l,isNaN(r[6])&&!this.isEmpty())return T(this,an,jD).call(this,c);const d=new Float64Array(m(this,ps).length+24+m(this,Di).length);let h=e.length;for(let g=0;g<h;g+=2){if(isNaN(e[g])){d[g]=d[g+1]=NaN;continue}d[g]=e[g],d[g+1]=e[g+1]}h=T(this,an,HD).call(this,d,h);for(let g=t.length-6;g>=6;g-=6)for(let y=0;y<6;y+=2){if(isNaN(t[g+y])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[g+y],d[h+1]=t[g+y+1],h+=2}return T(this,an,$D).call(this,d,h),this.newFreeDrawOutline(d,c,m(this,Mr),m(this,Kc),m(this,qc),m(this,Xc))}};Mr=new WeakMap,Di=new WeakMap,qc=new WeakMap,Xc=new WeakMap,ps=new WeakMap,Ze=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,gp=new WeakMap,mp=new WeakMap,Kc=new WeakMap,Yc=new WeakMap,da=new WeakMap,yp=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,an=new WeakSet,Fh=function(){const e=m(this,Ze).subarray(4,6),t=m(this,Ze).subarray(16,18),[r,i,s,o]=m(this,Mr);return[(m(this,Hl)+(e[0]-t[0])/2-r)/s,(m(this,Vl)+(e[1]-t[1])/2-i)/o,(m(this,Hl)+(t[0]-e[0])/2-r)/s,(m(this,Vl)+(t[1]-e[1])/2-i)/o]},FD=function(){const[e,t,r,i]=m(this,Mr),[s,o,l,c]=T(this,an,Fh).call(this);return`M${(m(this,Ze)[2]-e)/r} ${(m(this,Ze)[3]-t)/i} L${(m(this,Ze)[4]-e)/r} ${(m(this,Ze)[5]-t)/i} L${s} ${o} L${l} ${c} L${(m(this,Ze)[16]-e)/r} ${(m(this,Ze)[17]-t)/i} L${(m(this,Ze)[14]-e)/r} ${(m(this,Ze)[15]-t)/i} Z`},BD=function(e){const t=m(this,Di);e.push(`L${t[4]} ${t[5]} Z`)},zD=function(e){const[t,r,i,s]=m(this,Mr),o=m(this,Ze).subarray(4,6),l=m(this,Ze).subarray(16,18),[c,d,h,p]=T(this,an,Fh).call(this);e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${c} ${d} L${h} ${p} L${(l[0]-t)/i} ${(l[1]-r)/s}`)},jD=function(e){const t=m(this,Ze),[r,i,s,o]=m(this,Mr),[l,c,d,h]=T(this,an,Fh).call(this),p=new Float64Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(p,e,m(this,Mr),m(this,Kc),m(this,qc),m(this,Xc))},$D=function(e,t){const r=m(this,Di);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},HD=function(e,t){const r=m(this,Ze).subarray(4,6),i=m(this,Ze).subarray(16,18),[s,o,l,c]=m(this,Mr),[d,h,p,g]=T(this,an,Fh).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-o)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-o)/c],t),t+=24},D(Bs,yp,8),D(Bs,Ky,2),D(Bs,Yy,m(Bs,yp)+m(Bs,Ky));let Ay=Bs;var Qc,Ul,Zs,vp,Nr,wp,Gt,mr,Bh,zh,UD;class VD extends OD{constructor(t,r,i,s,o,l){super();D(this,mr);D(this,Qc);D(this,Ul,null);D(this,Zs);D(this,vp);D(this,Nr);D(this,wp);D(this,Gt);k(this,Gt,t),k(this,Nr,r),k(this,Qc,i),k(this,wp,s),k(this,Zs,o),k(this,vp,l),T(this,mr,UD).call(this,l);const{x:c,y:d,width:h,height:p}=m(this,Ul);for(let g=0,y=t.length;g<y;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-d)/p;for(let g=0,y=r.length;g<y;g+=2)r[g]=(r[g]-c)/h,r[g+1]=(r[g+1]-d)/p}toSVGPath(){const t=[`M${m(this,Gt)[4]} ${m(this,Gt)[5]}`];for(let r=6,i=m(this,Gt).length;r<i;r+=6){if(isNaN(m(this,Gt)[r])){t.push(`L${m(this,Gt)[r+4]} ${m(this,Gt)[r+5]}`);continue}t.push(`C${m(this,Gt)[r]} ${m(this,Gt)[r+1]} ${m(this,Gt)[r+2]} ${m(this,Gt)[r+3]} ${m(this,Gt)[r+4]} ${m(this,Gt)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],o){const l=i-t,c=s-r;let d,h;switch(o){case 0:d=T(this,mr,Bh).call(this,m(this,Gt),t,s,l,-c),h=T(this,mr,Bh).call(this,m(this,Nr),t,s,l,-c);break;case 90:d=T(this,mr,zh).call(this,m(this,Gt),t,r,l,c),h=T(this,mr,zh).call(this,m(this,Nr),t,r,l,c);break;case 180:d=T(this,mr,Bh).call(this,m(this,Gt),i,r,-l,c),h=T(this,mr,Bh).call(this,m(this,Nr),i,r,-l,c);break;case 270:d=T(this,mr,zh).call(this,m(this,Gt),i,s,-l,-c),h=T(this,mr,zh).call(this,m(this,Nr),i,s,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return m(this,Ul)}newOutliner(t,r,i,s,o,l=0){return new Ay(t,r,i,s,o,l)}getNewOutline(t,r){const{x:i,y:s,width:o,height:l}=m(this,Ul),[c,d,h,p]=m(this,Qc),g=o*h,y=l*p,w=i*h+c,b=s*p+d,E=this.newOutliner({x:m(this,Nr)[0]*g+w,y:m(this,Nr)[1]*y+b},m(this,Qc),m(this,wp),t,m(this,vp),r??m(this,Zs));for(let S=2;S<m(this,Nr).length;S+=2)E.add({x:m(this,Nr)[S]*g+w,y:m(this,Nr)[S+1]*y+b});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Qc=new WeakMap,Ul=new WeakMap,Zs=new WeakMap,vp=new WeakMap,Nr=new WeakMap,wp=new WeakMap,Gt=new WeakMap,mr=new WeakSet,Bh=function(t,r,i,s,o){const l=new Float64Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=r+t[c]*s,l[c+1]=i+t[c+1]*o;return l},zh=function(t,r,i,s,o){const l=new Float64Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=r+t[c+1]*s,l[c+1]=i+t[c]*o;return l},UD=function(t){const r=m(this,Gt);let i=r[4],s=r[5],o=i,l=s,c=i,d=s,h=i,p=s;const g=t?Math.max:Math.min;for(let S=6,A=r.length;S<A;S+=6){if(isNaN(r[S]))o=Math.min(o,r[S+4]),l=Math.min(l,r[S+5]),c=Math.max(c,r[S+4]),d=Math.max(d,r[S+5]),p<r[S+5]?(h=r[S+4],p=r[S+5]):p===r[S+5]&&(h=g(h,r[S+4]));else{const R=ke.bezierBoundingBox(i,s,...r.slice(S,S+6));o=Math.min(o,R[0]),l=Math.min(l,R[1]),c=Math.max(c,R[2]),d=Math.max(d,R[3]),p<R[3]?(h=R[2],p=R[3]):p===R[3]&&(h=g(h,R[2]))}i=r[S+4],s=r[S+5]}const y=o-m(this,Zs),w=l-m(this,Zs),b=c-o+2*m(this,Zs),E=d-l+2*m(this,Zs);k(this,Ul,{x:y,y:w,width:b,height:E,lastPoint:[h,p]})};var bp,ha,Li,nr,GD,Ym,WD,qD,JS;class F1{constructor(e,t=0,r=0,i=!0){D(this,nr);D(this,bp);D(this,ha,[]);D(this,Li,[]);let s=1/0,o=-1/0,l=1/0,c=-1/0;const d=10**-4;for(const{x:E,y:S,width:A,height:R}of e){const I=Math.floor((E-t)/d)*d,N=Math.ceil((E+A+t)/d)*d,L=Math.floor((S-t)/d)*d,z=Math.ceil((S+R+t)/d)*d,V=[I,L,z,!0],X=[N,L,z,!1];m(this,ha).push(V,X),s=Math.min(s,I),o=Math.max(o,N),l=Math.min(l,L),c=Math.max(c,z)}const h=o-s+2*r,p=c-l+2*r,g=s-r,y=l-r,w=m(this,ha).at(i?-1:-2),b=[w[0],w[2]];for(const E of m(this,ha)){const[S,A,R]=E;E[0]=(S-g)/h,E[1]=(A-y)/p,E[2]=(R-y)/p}k(this,bp,{x:g,y,width:h,height:p,lastPoint:b})}getOutlines(){m(this,ha).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of m(this,ha))t[3]?(e.push(...T(this,nr,JS).call(this,t)),T(this,nr,WD).call(this,t)):(T(this,nr,qD).call(this,t),e.push(...T(this,nr,JS).call(this,t)));return T(this,nr,GD).call(this,e)}}bp=new WeakMap,ha=new WeakMap,Li=new WeakMap,nr=new WeakSet,GD=function(e){const t=[],r=new Set;for(const o of e){const[l,c,d]=o;t.push([l,c,o],[l,d,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],d=t[o+1][2];c.push(d),d.push(c),r.add(c),r.add(d)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[l,c,d,h,p]=o;r.delete(o);let g=l,y=c;for(s=[l,d],i.push(s);;){let w;if(r.has(h))w=h;else if(r.has(p))w=p;else break;r.delete(w),[l,c,d,h,p]=w,g!==l&&(s.push(g,y,l,y===c?c:d),g=l),y=y===c?d:c}s.push(g,y)}return new qG(i,m(this,bp))},Ym=function(e){const t=m(this,Li);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},WD=function([,e,t]){const r=T(this,nr,Ym).call(this,e);m(this,Li).splice(r,0,[e,t])},qD=function([,e,t]){const r=T(this,nr,Ym).call(this,e);for(let i=r;i<m(this,Li).length;i++){const[s,o]=m(this,Li)[i];if(s!==e)break;if(s===e&&o===t){m(this,Li).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=m(this,Li)[i];if(s!==e)break;if(s===e&&o===t){m(this,Li).splice(i,1);return}}},JS=function(e){const[t,r,i]=e,s=[[t,r,i]],o=T(this,nr,Ym).call(this,i);for(let l=0;l<o;l++){const[c,d]=m(this,Li)[l];for(let h=0,p=s.length;h<p;h++){const[,g,y]=s[h];if(!(d<=g||y<=c)){if(g>=c){if(y>d)s[h][1]=d;else{if(p===1)return[];s.splice(h,1),h--,p--}continue}s[h][2]=c,y>d&&s.push([t,d,y])}}}return s};var xp,Jc;class qG extends OD{constructor(t,r){super();D(this,xp);D(this,Jc);k(this,Jc,t),k(this,xp,r)}toSVGPath(){const t=[];for(const r of m(this,Jc)){let[i,s]=r;t.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const l=r[o],c=r[o+1];l===i?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],o){const l=[],c=i-t,d=s-r;for(const h of m(this,Jc)){const p=new Array(h.length);for(let g=0;g<h.length;g+=2)p[g]=t+h[g]*c,p[g+1]=s-h[g+1]*d;l.push(p)}return l}get box(){return m(this,xp)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}xp=new WeakMap,Jc=new WeakMap;class ZS extends Ay{newFreeDrawOutline(e,t,r,i,s,o){return new XG(e,t,r,i,s,o)}get classNamesForDrawing(){return["highlight","free"]}}class XG extends VD{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,i,s,o=0){return new ZS(e,t,r,i,s,o)}}var Mi,Gl,Zc,rn,Sp,ed,Ep,Cp,fa,Ni,td,Ap,mt,eE,tE,nE,el,XD,Uo;const dr=class dr{constructor({editor:e=null,uiManager:t=null}){D(this,mt);D(this,Mi,null);D(this,Gl,null);D(this,Zc);D(this,rn,null);D(this,Sp,!1);D(this,ed,!1);D(this,Ep,null);D(this,Cp);D(this,fa,null);D(this,Ni,null);D(this,td);var r;e?(k(this,ed,!1),k(this,td,He.HIGHLIGHT_COLOR),k(this,Ep,e)):(k(this,ed,!0),k(this,td,He.HIGHLIGHT_DEFAULT_COLOR)),k(this,Ni,(e==null?void 0:e._uiManager)||t),k(this,Cp,m(this,Ni)._eventBus),k(this,Zc,(e==null?void 0:e.color)||((r=m(this,Ni))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),m(dr,Ap)||k(dr,Ap,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return rt(this,"_keyboardManager",new Up([[["Escape","mac+Escape"],dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dr.prototype._moveToPrevious],[["Home","mac+Home"],dr.prototype._moveToBeginning],[["End","mac+End"],dr.prototype._moveToEnd]]))}renderButton(){const e=k(this,Mi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Ni)._signal;e.addEventListener("click",T(this,mt,el).bind(this),{signal:t}),e.addEventListener("keydown",T(this,mt,nE).bind(this),{signal:t});const r=k(this,Gl,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=m(this,Zc),e.append(r),e}renderMainDropdown(){const e=k(this,rn,T(this,mt,eE).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,Mi)){T(this,mt,el).call(this,e);return}const t=e.target.getAttribute("data-color");t&&T(this,mt,tE).call(this,t,e)}_moveToNext(e){var t,r;if(!m(this,mt,Uo)){T(this,mt,el).call(this,e);return}if(e.target===m(this,Mi)){(t=m(this,rn).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=m(this,rn))==null?void 0:t.firstChild)||e.target===m(this,Mi)){m(this,mt,Uo)&&this._hideDropdownFromKeyboard();return}m(this,mt,Uo)||T(this,mt,el).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!m(this,mt,Uo)){T(this,mt,el).call(this,e);return}(t=m(this,rn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,mt,Uo)){T(this,mt,el).call(this,e);return}(t=m(this,rn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,rn))==null||e.classList.add("hidden"),(t=m(this,fa))==null||t.abort(),k(this,fa,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,ed)){if(!m(this,mt,Uo)){(e=m(this,Ep))==null||e.unselect();return}this.hideDropdown(),m(this,Mi).focus({preventScroll:!0,focusVisible:m(this,Sp)})}}updateColor(e){if(m(this,Gl)&&(m(this,Gl).style.backgroundColor=e),!m(this,rn))return;const t=m(this,Ni).highlightColors.values();for(const r of m(this,rn).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,Mi))==null||e.remove(),k(this,Mi,null),k(this,Gl,null),(t=m(this,rn))==null||t.remove(),k(this,rn,null)}};Mi=new WeakMap,Gl=new WeakMap,Zc=new WeakMap,rn=new WeakMap,Sp=new WeakMap,ed=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,fa=new WeakMap,Ni=new WeakMap,td=new WeakMap,Ap=new WeakMap,mt=new WeakSet,eE=function(){const e=document.createElement("div"),t=m(this,Ni)._signal;e.addEventListener("contextmenu",pi,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of m(this,Ni).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",m(dr,Ap)[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,Zc)),s.addEventListener("click",T(this,mt,tE).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",T(this,mt,nE).bind(this),{signal:t}),e},tE=function(e,t){t.stopPropagation(),m(this,Cp).dispatch("switchannotationeditorparams",{source:this,type:m(this,td),value:e})},nE=function(e){dr._keyboardManager.exec(this,e)},el=function(e){if(m(this,mt,Uo)){this.hideDropdown();return}if(k(this,Sp,e.detail===0),m(this,fa)||(k(this,fa,new AbortController),window.addEventListener("pointerdown",T(this,mt,XD).bind(this),{signal:m(this,Ni).combinedSignal(m(this,fa))})),m(this,rn)){m(this,rn).classList.remove("hidden");return}const t=k(this,rn,T(this,mt,eE).call(this));m(this,Mi).append(t)},XD=function(e){var t;(t=m(this,rn))!=null&&t.contains(e.target)||this.hideDropdown()},Uo=function(){return m(this,rn)&&!m(this,rn).classList.contains("hidden")},D(dr,Ap,null);let _y=dr;var nd,_p,eo,Wl,rd,ii,Rp,kp,ql,Oi,jn,pr,id,to,sn,sd,si,Pp,qe,rE,Qm,KD,YD,QD,iE,tl,ui,ic,JD,Jm,jh,ZD,eL,tL,nL,rL;const at=class at extends pt{constructor(t){super({...t,name:"highlightEditor"});D(this,qe);D(this,nd,null);D(this,_p,0);D(this,eo);D(this,Wl,null);D(this,rd,null);D(this,ii,null);D(this,Rp,null);D(this,kp,0);D(this,ql,null);D(this,Oi,null);D(this,jn,null);D(this,pr,!1);D(this,id,null);D(this,to);D(this,sn,null);D(this,sd,"");D(this,si);D(this,Pp,"");this.color=t.color||at._defaultColor,k(this,si,t.thickness||at._defaultThickness),k(this,to,t.opacity||at._defaultOpacity),k(this,eo,t.boxes||null),k(this,Pp,t.methodOfCreation||""),k(this,sd,t.text||""),this._isDraggable=!1,t.highlightId>-1?(k(this,pr,!0),T(this,qe,Qm).call(this,t),T(this,qe,tl).call(this)):m(this,eo)&&(k(this,nd,t.anchorNode),k(this,_p,t.anchorOffset),k(this,Rp,t.focusNode),k(this,kp,t.focusOffset),T(this,qe,rE).call(this),T(this,qe,tl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=at.prototype;return rt(this,"_keyboardManager",new Up([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,pr)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,si),methodOfCreation:m(this,Pp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;pt.initialize(t,r),at._defaultColor||(at._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case He.HIGHLIGHT_DEFAULT_COLOR:at._defaultColor=r;break;case He.HIGHLIGHT_THICKNESS:at._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return m(this,id)}updateParams(t,r){switch(t){case He.HIGHLIGHT_COLOR:T(this,qe,KD).call(this,r);break;case He.HIGHLIGHT_THICKNESS:T(this,qe,YD).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[He.HIGHLIGHT_DEFAULT_COLOR,at._defaultColor],[He.HIGHLIGHT_THICKNESS,at._defaultThickness]]}get propertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,this.color||at._defaultColor],[He.HIGHLIGHT_THICKNESS,m(this,si)||at._defaultThickness],[He.HIGHLIGHT_FREE,m(this,pr)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(k(this,rd,new _y({editor:this})),t.addColorPicker(m(this,rd))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(T(this,qe,jh).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,T(this,qe,jh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){T(this,qe,iE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(T(this,qe,tl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?T(this,qe,iE).call(this):t&&(T(this,qe,tl).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,o,l;const{drawLayer:r}=this.parent;let i;m(this,pr)?(t=(t-this.rotation+360)%360,i=T(s=at,ui,ic).call(s,m(this,Oi).box,t)):i=T(o=at,ui,ic).call(o,this,t),r.rotate(m(this,jn),t),r.rotate(m(this,sn),t),r.updateBox(m(this,jn),i),r.updateBox(m(this,sn),T(l=at,ui,ic).call(l,m(this,ii).box,t))}render(){if(this.div)return this.div;const t=super.render();m(this,sd)&&(t.setAttribute("aria-label",m(this,sd)),t.setAttribute("role","mark")),m(this,pr)?t.classList.add("free"):this.div.addEventListener("keydown",T(this,qe,JD).bind(this),{signal:this._uiManager._signal});const r=k(this,ql,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Wl);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Ey(this,m(this,ql),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(m(this,sn),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(m(this,sn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:T(this,qe,Jm).call(this,!0);break;case 1:case 3:T(this,qe,Jm).call(this,!1);break}}select(){var t,r;super.select(),m(this,sn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,sn),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(m(this,sn),"selected"))}unselect(){var t;super.unselect(),m(this,sn)&&((t=this.parent)==null||t.drawLayer.removeClass(m(this,sn),"selected"),m(this,pr)||T(this,qe,Jm).call(this,!1))}get _mustFixPosition(){return!m(this,pr)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(m(this,jn),t),this.parent.drawLayer.show(m(this,sn),t))}static startHighlighting(t,r,{target:i,x:s,y:o}){const{x:l,y:c,width:d,height:h}=i.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),y=b=>{b.preventDefault(),b.stopPropagation()},w=b=>{p.abort(),T(this,ui,nL).call(this,t,b)};window.addEventListener("blur",w,{signal:g}),window.addEventListener("pointerup",w,{signal:g}),window.addEventListener("pointerdown",y,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",pi,{signal:g}),i.addEventListener("pointermove",T(this,ui,tL).bind(this,t),{signal:g}),this._freeHighlight=new ZS({x:s,y:o},[l,c,d,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,i){var b,E,S,A;let s=null;if(t instanceof kD){const{data:{quadPoints:R,rect:I,rotation:N,id:L,color:z,opacity:V,popupRef:X},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:Xe.HIGHLIGHT,color:Array.from(z),opacity:V,quadPoints:R,boxes:null,pageIndex:Q-1,rect:I.slice(0),rotation:N,id:L,deleted:!1,popupRef:X}}else if(t instanceof B0){const{data:{inkLists:R,rect:I,rotation:N,id:L,color:z,borderStyle:{rawWidth:V},popupRef:X},parent:{page:{pageNumber:Q}}}=t;s=t={annotationType:Xe.HIGHLIGHT,color:Array.from(z),thickness:V,inkLists:R,boxes:null,pageIndex:Q-1,rect:I.slice(0),rotation:N,id:L,deleted:!1,popupRef:X}}const{color:o,quadPoints:l,inkLists:c,opacity:d}=t,h=await super.deserialize(t,r,i);h.color=ke.makeHexColor(...o),k(h,to,d||1),c&&k(h,si,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[p,g]=h.pageDimensions,[y,w]=h.pageTranslation;if(l){const R=k(h,eo,[]);for(let I=0;I<l.length;I+=8)R.push({x:(l[I]-y)/p,y:1-(l[I+1]-w)/g,width:(l[I+2]-l[I])/p,height:(l[I+1]-l[I+5])/g});T(b=h,qe,rE).call(b),T(E=h,qe,tl).call(E),h.rotate(h.rotation)}else if(c){k(h,pr,!0);const R=c[0],I={x:R[0]-y,y:g-(R[1]-w)},N=new ZS(I,[0,0,p,g],1,m(h,si)/2,!0,.001);for(let V=0,X=R.length;V<X;V+=2)I.x=R[V]-y,I.y=g-(R[V+1]-w),N.add(I);const{id:L,clipPathId:z}=r.drawLayer.draw(N,h.color,h._defaultOpacity,!0);T(S=h,qe,Qm).call(S,{highlightOutlines:N.getOutlines(),highlightId:L,clipPathId:z}),T(A=h,qe,tl).call(A)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=pt._colorManager.convert(this.color),s={annotationType:Xe.HIGHLIGHT,color:i,opacity:m(this,to),thickness:m(this,si),quadPoints:T(this,qe,ZD).call(this),outlines:T(this,qe,eL).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:T(this,qe,jh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!T(this,qe,rL).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};nd=new WeakMap,_p=new WeakMap,eo=new WeakMap,Wl=new WeakMap,rd=new WeakMap,ii=new WeakMap,Rp=new WeakMap,kp=new WeakMap,ql=new WeakMap,Oi=new WeakMap,jn=new WeakMap,pr=new WeakMap,id=new WeakMap,to=new WeakMap,sn=new WeakMap,sd=new WeakMap,si=new WeakMap,Pp=new WeakMap,qe=new WeakSet,rE=function(){const t=new F1(m(this,eo),.001);k(this,Oi,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=m(this,Oi).box;const r=new F1(m(this,eo),.0025,.001,this._uiManager.direction==="ltr");k(this,ii,r.getOutlines());const{lastPoint:i}=m(this,ii).box;k(this,id,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Qm=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,g;if(k(this,Oi,t),k(this,ii,t.getNewOutline(m(this,si)/2+1.5,.0025)),r>=0)k(this,jn,r),k(this,Wl,i),this.parent.drawLayer.finalizeLine(r,t),k(this,sn,this.parent.drawLayer.drawOutline(m(this,ii)));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(m(this,jn),t),this.parent.drawLayer.updateBox(m(this,jn),T(p=at,ui,ic).call(p,m(this,Oi).box,(y-this.rotation+360)%360)),this.parent.drawLayer.updateLine(m(this,sn),m(this,ii)),this.parent.drawLayer.updateBox(m(this,sn),T(g=at,ui,ic).call(g,m(this,ii).box,y))}const{x:o,y:l,width:c,height:d}=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=d;break;case 90:{const[y,w]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*w/y,this.height=d*y/w;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[y,w]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*w/y,this.height=d*y/w;break}}const{lastPoint:h}=m(this,ii).box;k(this,id,[(h[0]-o)/c,(h[1]-l)/d])},KD=function(t){const r=(o,l)=>{var c,d,h;this.color=o,(c=this.parent)==null||c.drawLayer.changeColor(m(this,jn),o),(d=m(this,rd))==null||d.updateColor(o),k(this,to,l),(h=this.parent)==null||h.drawLayer.changeOpacity(m(this,jn),l)},i=this.color,s=m(this,to);this.addCommands({cmd:r.bind(this,t,at._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},YD=function(t){const r=m(this,si),i=s=>{k(this,si,s),T(this,qe,QD).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},QD=function(t){if(!m(this,pr))return;T(this,qe,Qm).call(this,{highlightOutlines:m(this,Oi).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},iE=function(){m(this,jn)===null||!this.parent||(this.parent.drawLayer.remove(m(this,jn)),k(this,jn,null),this.parent.drawLayer.remove(m(this,sn)),k(this,sn,null))},tl=function(t=this.parent){m(this,jn)===null&&({id:Xn(this,jn)._,clipPathId:Xn(this,Wl)._}=t.drawLayer.draw(m(this,Oi),this.color,m(this,to)),k(this,sn,t.drawLayer.drawOutline(m(this,ii))),m(this,ql)&&(m(this,ql).style.clipPath=m(this,Wl)))},ui=new WeakSet,ic=function({x:t,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-t-i,width:s,height:i}}return{x:t,y:r,width:i,height:s}},JD=function(t){at._keyboardManager.exec(this,t)},Jm=function(t){if(!m(this,nd))return;const r=window.getSelection();t?r.setPosition(m(this,nd),m(this,_p)):r.setPosition(m(this,Rp),m(this,kp))},jh=function(){return m(this,pr)?this.rotation:0},ZD=function(){if(m(this,pr))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,o=m(this,eo),l=new Float32Array(o.length*8);let c=0;for(const{x:d,y:h,width:p,height:g}of o){const y=d*t+i,w=(1-h-g)*r+s;l[c]=l[c+4]=y,l[c+1]=l[c+3]=w,l[c+2]=l[c+6]=y+p*t,l[c+5]=l[c+7]=w+g*r,c+=8}return l},eL=function(t){return m(this,Oi).serialize(t,T(this,qe,jh).call(this))},tL=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},nL=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},rL=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},D(at,ui),$e(at,"_defaultColor",null),$e(at,"_defaultOpacity",1),$e(at,"_defaultThickness",12),$e(at,"_type","highlight"),$e(at,"_editorType",Xe.HIGHLIGHT),$e(at,"_freeHighlightId",-1),$e(at,"_freeHighlight",null),$e(at,"_freeHighlightClipId","");let Ry=at;var Xl,Kl,gs,no,oi,Yl,Ql,Jl,ro,od,Zl,eu,pa,ge,iL,sL,oL,aL,oE,lL,aE,uL,cL,dL,hL,fL,nl,lE,uE,cE,Zm,ey,sc,dE,ty,vo,pL,hE,gL,mL,fE,ny,$h;const Mt=class Mt extends pt{constructor(t){super({...t,name:"inkEditor"});D(this,ge);D(this,Xl,0);D(this,Kl,0);D(this,gs,null);D(this,no,new Path2D);D(this,oi,!1);D(this,Yl,null);D(this,Ql,!1);D(this,Jl,!1);D(this,ro,null);D(this,od,null);D(this,Zl,0);D(this,eu,0);D(this,pa,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){pt.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case He.INK_THICKNESS:Mt._defaultThickness=r;break;case He.INK_COLOR:Mt._defaultColor=r;break;case He.INK_OPACITY:Mt._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case He.INK_THICKNESS:T(this,ge,iL).call(this,r);break;case He.INK_COLOR:T(this,ge,sL).call(this,r);break;case He.INK_OPACITY:T(this,ge,oL).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[He.INK_THICKNESS,Mt._defaultThickness],[He.INK_COLOR,Mt._defaultColor||pt._defaultLineColor],[He.INK_OPACITY,Math.round(Mt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[He.INK_THICKNESS,this.thickness||Mt._defaultThickness],[He.INK_COLOR,this.color||Mt._defaultColor||pt._defaultLineColor],[He.INK_OPACITY,Math.round(100*(this.opacity??Mt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(T(this,ge,Zm).call(this),T(this,ge,ey).call(this)),this.isAttachedToDOM||(this.parent.add(this),T(this,ge,sc).call(this)),T(this,ge,$h).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,gs)&&(clearTimeout(m(this,gs)),k(this,gs,null)),(t=m(this,ro))==null||t.disconnect(),k(this,ro,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,i=this.width*t,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){m(this,oi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,T(this,ge,lE).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),T(this,ge,uE).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,oi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),k(this,oi,!0),this.div.classList.add("disabled"),T(this,ge,$h).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||m(this,oi)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),T(this,ge,lL).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),T(this,ge,aE).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),T(this,ge,cE).call(this,t)}canvasPointerleave(t){T(this,ge,cE).call(this,t)}get isResizable(){return!this.isEmpty()&&m(this,oi)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,l]=T(this,ge,aL).call(this);if(this.setAt(i,s,0,0),this.setDims(o,l),T(this,ge,Zm).call(this),this.width){const[c,d]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*d),this.setAt(t*c,r*d,this.width*c,this.height*d),k(this,Jl,!0),T(this,ge,sc).call(this),this.setDims(this.width*c,this.height*d),T(this,ge,nl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return T(this,ge,ey).call(this),this.div}setDimensions(t,r){const i=Math.round(t),s=Math.round(r);if(m(this,Zl)===i&&m(this,eu)===s)return;k(this,Zl,i),k(this,eu,s),this.canvas.style.visibility="hidden";const[o,l]=this.parentDimensions;this.width=t/o,this.height=r/l,this.fixAndSetPosition(),m(this,oi)&&T(this,ge,dE).call(this,t,r),T(this,ge,sc).call(this),T(this,ge,nl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,i){var E,S,A;if(t instanceof B0)return null;const s=await super.deserialize(t,r,i);s.thickness=t.thickness,s.color=ke.makeHexColor(...t.color),s.opacity=t.opacity;const[o,l]=s.pageDimensions,c=s.width*o,d=s.height*l,h=s.parentScale,p=t.thickness/2;k(s,oi,!0),k(s,Zl,Math.round(c)),k(s,eu,Math.round(d));const{paths:g,rect:y,rotation:w}=t;for(let{bezier:R}of g){R=T(E=Mt,vo,gL).call(E,R,y,w);const I=[];s.paths.push(I);let N=h*(R[0]-p),L=h*(R[1]-p);for(let V=2,X=R.length;V<X;V+=6){const Q=h*(R[V]-p),W=h*(R[V+1]-p),ne=h*(R[V+2]-p),ee=h*(R[V+3]-p),K=h*(R[V+4]-p),re=h*(R[V+5]-p);I.push([[N,L],[Q,W],[ne,ee],[K,re]]),N=K,L=re}const z=T(this,vo,pL).call(this,I);s.bezierPath2D.push(z)}const b=T(S=s,ge,fE).call(S);return k(s,Kl,Math.max(pt.MIN_SIZE,b[2]-b[0])),k(s,Xl,Math.max(pt.MIN_SIZE,b[3]-b[1])),T(A=s,ge,dE).call(A,c,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=pt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Xe.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:T(this,ge,mL).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Xl=new WeakMap,Kl=new WeakMap,gs=new WeakMap,no=new WeakMap,oi=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,ro=new WeakMap,od=new WeakMap,Zl=new WeakMap,eu=new WeakMap,pa=new WeakMap,ge=new WeakSet,iL=function(t){const r=s=>{this.thickness=s,T(this,ge,$h).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},sL=function(t){const r=s=>{this.color=s,T(this,ge,nl).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},oL=function(t){const r=s=>{this.opacity=s,T(this,ge,nl).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},aL=function(){const{parentRotation:t,parentDimensions:[r,i]}=this;switch(t){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},oE=function(){const{ctx:t,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:l}=this;t.lineWidth=s*o/l,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${m4(i)}`},lL=function(t,r){this.canvas.addEventListener("contextmenu",pi,{signal:this._uiManager._signal}),T(this,ge,uE).call(this),k(this,Yl,new AbortController);const i=this._uiManager.combinedSignal(m(this,Yl));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,m(this,Jl)||(k(this,Jl,!0),T(this,ge,sc).call(this),this.thickness||(this.thickness=Mt._defaultThickness),this.color||(this.color=Mt._defaultColor||pt._defaultLineColor),this.opacity??(this.opacity=Mt._defaultOpacity)),this.currentPath.push([t,r]),k(this,Ql,!1),T(this,ge,oE).call(this),k(this,pa,()=>{T(this,ge,dL).call(this),m(this,pa)&&window.requestAnimationFrame(m(this,pa))}),window.requestAnimationFrame(m(this,pa))},aE=function(t,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&r===s)return;const o=this.currentPath;let l=m(this,no);if(o.push([t,r]),k(this,Ql,!0),o.length<=2){l.moveTo(...o[0]),l.lineTo(t,r);return}o.length===3&&(k(this,no,l=new Path2D),l.moveTo(...o[0])),T(this,ge,hL).call(this,l,...o.at(-3),...o.at(-2),t,r)},uL=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);m(this,no).lineTo(...t)},cL=function(t,r){k(this,pa,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),T(this,ge,aE).call(this,t,r),T(this,ge,uL).call(this);let i;if(this.currentPath.length!==1)i=T(this,ge,fL).call(this);else{const d=[t,r];i=[[d,d.slice(),d.slice(),d]]}const s=m(this,no),o=this.currentPath;this.currentPath=[],k(this,no,new Path2D);const l=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(T(this,ge,Zm).call(this),T(this,ge,ey).call(this)),T(this,ge,$h).call(this))};this.addCommands({cmd:l,undo:c,mustExec:!0})},dL=function(){if(!m(this,Ql))return;k(this,Ql,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(l=>l[0]),s=r.map(l=>l[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const l of this.bezierPath2D)o.stroke(l);o.stroke(m(this,no)),o.restore()},hL=function(t,r,i,s,o,l,c){const d=(r+s)/2,h=(i+o)/2,p=(s+l)/2,g=(o+c)/2;t.bezierCurveTo(d+2*(s-d)/3,h+2*(o-h)/3,p+2*(s-p)/3,g+2*(o-g)/3,p,g)},fL=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let i,[s,o]=t[0];for(i=1;i<t.length-2;i++){const[y,w]=t[i],[b,E]=t[i+1],S=(y+b)/2,A=(w+E)/2,R=[s+2*(y-s)/3,o+2*(w-o)/3],I=[S+2*(y-S)/3,A+2*(w-A)/3];r.push([[s,o],R,I,[S,A]]),[s,o]=[S,A]}const[l,c]=t[i],[d,h]=t[i+1],p=[s+2*(l-s)/3,o+2*(c-o)/3],g=[d+2*(l-d)/3,h+2*(c-h)/3];return r.push([[s,o],p,g,[d,h]]),r},nl=function(){if(this.isEmpty()){T(this,ge,ty).call(this);return}T(this,ge,oE).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),T(this,ge,ty).call(this);for(const i of this.bezierPath2D)r.stroke(i)},lE=function(){if(m(this,od))return;k(this,od,new AbortController);const t=this._uiManager.combinedSignal(m(this,od));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},uE=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},cE=function(t){var r;(r=m(this,Yl))==null||r.abort(),k(this,Yl,null),T(this,ge,lE).call(this),m(this,gs)&&clearTimeout(m(this,gs)),k(this,gs,setTimeout(()=>{k(this,gs,null),this.canvas.removeEventListener("contextmenu",pi)},10)),T(this,ge,cL).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Zm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ey=function(){k(this,ro,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),m(this,ro).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,ro))==null||t.disconnect(),k(this,ro,null)},{once:!0})},sc=function(){if(!m(this,Jl))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),T(this,ge,ty).call(this)},dE=function(t,r){const i=T(this,ge,ny).call(this),s=(t-i)/m(this,Kl),o=(r-i)/m(this,Xl);this.scaleFactor=Math.min(s,o)},ty=function(){const t=T(this,ge,ny).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},vo=new WeakSet,pL=function(t){const r=new Path2D;for(let i=0,s=t.length;i<s;i++){const[o,l,c,d]=t[i];i===0&&r.moveTo(...o),r.bezierCurveTo(l[0],l[1],c[0],c[1],d[0],d[1])}return r},hE=function(t,r,i){const[s,o,l,c]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]+=s,t[d+1]=c-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]+s,t[d+1]=p+o}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]+=o;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=l-t[d+1],t[d+1]=c-p}break;default:throw new Error("Invalid rotation")}return t},gL=function(t,r,i){const[s,o,l,c]=r;switch(i){case 0:for(let d=0,h=t.length;d<h;d+=2)t[d]-=s,t[d+1]=c-t[d+1];break;case 90:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=t[d+1]-o,t[d+1]=p-s}break;case 180:for(let d=0,h=t.length;d<h;d+=2)t[d]=l-t[d],t[d+1]-=o;break;case 270:for(let d=0,h=t.length;d<h;d+=2){const p=t[d];t[d]=c-t[d+1],t[d+1]=l-p}break;default:throw new Error("Invalid rotation")}return t},mL=function(t,r,i,s){var h,p;const o=[],l=this.thickness/2,c=t*r+l,d=t*i+l;for(const g of this.paths){const y=[],w=[];for(let b=0,E=g.length;b<E;b++){const[S,A,R,I]=g[b];if(S[0]===I[0]&&S[1]===I[1]&&E===1){const ee=t*S[0]+c,K=t*S[1]+d;y.push(ee,K),w.push(ee,K);break}const N=t*S[0]+c,L=t*S[1]+d,z=t*A[0]+c,V=t*A[1]+d,X=t*R[0]+c,Q=t*R[1]+d,W=t*I[0]+c,ne=t*I[1]+d;b===0&&(y.push(N,L),w.push(N,L)),y.push(z,V,X,Q,W,ne),w.push(z,V),b===E-1&&w.push(W,ne)}o.push({bezier:T(h=Mt,vo,hE).call(h,y,s,this.rotation),points:T(p=Mt,vo,hE).call(p,w,s,this.rotation)})}return o},fE=function(){let t=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[l,c,d,h]of o){const p=ke.bezierBoundingBox(...l,...c,...d,...h);t=Math.min(t,p[0]),i=Math.min(i,p[1]),r=Math.max(r,p[2]),s=Math.max(s,p[3])}return[t,i,r,s]},ny=function(){return m(this,oi)?Math.ceil(this.thickness*this.parentScale):0},$h=function(t=!1){if(this.isEmpty())return;if(!m(this,oi)){T(this,ge,nl).call(this);return}const r=T(this,ge,fE).call(this),i=T(this,ge,ny).call(this);k(this,Kl,Math.max(pt.MIN_SIZE,r[2]-r[0])),k(this,Xl,Math.max(pt.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+m(this,Kl)*this.scaleFactor),o=Math.ceil(i+m(this,Xl)*this.scaleFactor),[l,c]=this.parentDimensions;this.width=s/l,this.height=o/c,this.setAspectRatio(s,o);const d=this.translationX,h=this.translationY;this.translationX=-r[0],this.translationY=-r[1],T(this,ge,sc).call(this),T(this,ge,nl).call(this),k(this,Zl,s),k(this,eu,o),this.setDims(s,o);const p=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-p,h-this.translationY-p)},D(Mt,vo),$e(Mt,"_defaultColor",null),$e(Mt,"_defaultOpacity",1),$e(Mt,"_defaultThickness",1),$e(Mt,"_type","ink"),$e(Mt,"_editorType",Xe.INK);let sE=Mt;var Ot,Rn,ga,io,ma,ad,ms,so,ys,Or,ld,nt,Hh,Vh,ry,gE,yL,iy,mE,sy,vL,wL;const Jh=class Jh extends pt{constructor(t){super({...t,name:"stampEditor"});D(this,nt);D(this,Ot,null);D(this,Rn,null);D(this,ga,null);D(this,io,null);D(this,ma,null);D(this,ad,"");D(this,ms,null);D(this,so,null);D(this,ys,null);D(this,Or,!1);D(this,ld,!1);k(this,io,t.bitmapUrl),k(this,ma,t.bitmapFile)}static initialize(t,r){pt.initialize(t,r)}static get supportedTypes(){return rt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return rt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(Xe.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),r&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t,r;m(this,Rn)&&(k(this,Ot,null),this._uiManager.imageManager.deleteId(m(this,Rn)),(t=m(this,ms))==null||t.remove(),k(this,ms,null),(r=m(this,so))==null||r.disconnect(),k(this,so,null),m(this,ys)&&(clearTimeout(m(this,ys)),k(this,ys,null))),super.remove()}rebuild(){if(!this.parent){m(this,Rn)&&T(this,nt,ry).call(this);return}super.rebuild(),this.div!==null&&(m(this,Rn)&&m(this,ms)===null&&T(this,nt,ry).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(m(this,ga)||m(this,Ot)||m(this,io)||m(this,ma)||m(this,Rn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Ot)?T(this,nt,gE).call(this):T(this,nt,ry).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,r,i=!1){var y;t||(t=224);const{width:s,height:o}=m(this,Ot),l=new cS;let c=m(this,Ot),d=s,h=o,p=null;if(r){if(s>r||o>r){const V=Math.min(r/s,r/o);d=Math.floor(s*V),h=Math.floor(o*V)}p=document.createElement("canvas");const w=p.width=Math.ceil(d*l.sx),b=p.height=Math.ceil(h*l.sy);m(this,Or)||(c=T(this,nt,iy).call(this,w,b));const E=p.getContext("2d");E.filter=this._uiManager.hcmFilter;let S="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":(y=window.matchMedia)!=null&&y.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",A="#42414d");const R=15,I=R*l.sx,N=R*l.sy,L=new OffscreenCanvas(I*2,N*2),z=L.getContext("2d");z.fillStyle=S,z.fillRect(0,0,I*2,N*2),z.fillStyle=A,z.fillRect(0,0,I,N),z.fillRect(I,N,I,N),E.fillStyle=E.createPattern(L,"repeat"),E.fillRect(0,0,w,b),E.drawImage(c,0,0,c.width,c.height,0,0,w,b)}let g=null;if(i){let w,b;if(l.symmetric&&c.width<t&&c.height<t)w=c.width,b=c.height;else if(c=m(this,Ot),s>t||o>t){const A=Math.min(t/s,t/o);w=Math.floor(s*A),b=Math.floor(o*A),m(this,Or)||(c=T(this,nt,iy).call(this,w,b))}const S=new OffscreenCanvas(w,b).getContext("2d",{willReadFrequently:!0});S.drawImage(c,0,0,c.width,c.height,0,0,w,b),g={width:w,height:b,data:S.getImageData(0,0,w,b).data}}return{canvas:p,width:d,height:h,imageData:g}}getImageForAltText(){return m(this,ms)}static async deserialize(t,r,i){var b;let s=null;if(t instanceof PD){const{data:{rect:E,rotation:S,id:A,structParent:R,popupRef:I},container:N,parent:{page:{pageNumber:L}}}=t,z=N.querySelector("canvas"),V=i.imageManager.getFromCanvas(N.id,z);z.remove();const X=((b=await r._structTree.getAriaAttributes(`${R0}${A}`))==null?void 0:b.get("aria-label"))||"";s=t={annotationType:Xe.STAMP,bitmapId:V.id,bitmap:V.bitmap,pageIndex:L-1,rect:E.slice(0),rotation:S,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:X},isSvg:!1,structParent:R,popupRef:I}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:g}=t;h&&i.imageManager.isValidId(h)?(k(o,Rn,h),c&&k(o,Ot,c)):k(o,io,d),k(o,Or,p);const[y,w]=o.pageDimensions;return o.width=(l[2]-l[0])/y,o.height=(l[3]-l[1])/w,o.annotationElementId=t.id||null,g&&(o.altTextData=g),o._initialData=s,k(o,ld,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Xe.STAMP,bitmapId:m(this,Rn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,Or),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=T(this,nt,sy).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=T(this,nt,wL).call(this,i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const l=m(this,Or)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Rn)))r.stamps.set(m(this,Rn),{area:l,serialized:i}),i.bitmap=T(this,nt,sy).call(this,!1);else if(m(this,Or)){const c=r.stamps.get(m(this,Rn));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=T(this,nt,sy).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ot=new WeakMap,Rn=new WeakMap,ga=new WeakMap,io=new WeakMap,ma=new WeakMap,ad=new WeakMap,ms=new WeakMap,so=new WeakMap,ys=new WeakMap,Or=new WeakMap,ld=new WeakMap,nt=new WeakSet,Hh=function(t,r=!1){if(!t){this.remove();return}k(this,Ot,t.bitmap),r||(k(this,Rn,t.id),k(this,Or,t.isSvg)),t.file&&k(this,ad,t.file.name),T(this,nt,gE).call(this)},Vh=function(){if(k(this,ga,null),this._uiManager.enableWaiting(!1),!!m(this,ms)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ot)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Ot)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},ry=function(){if(m(this,Rn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Rn)).then(i=>T(this,nt,Hh).call(this,i,!0)).finally(()=>T(this,nt,Vh).call(this));return}if(m(this,io)){const i=m(this,io);k(this,io,null),this._uiManager.enableWaiting(!0),k(this,ga,this._uiManager.imageManager.getFromUrl(i).then(s=>T(this,nt,Hh).call(this,s)).finally(()=>T(this,nt,Vh).call(this)));return}if(m(this,ma)){const i=m(this,ma);k(this,ma,null),this._uiManager.enableWaiting(!0),k(this,ga,this._uiManager.imageManager.getFromFile(i).then(s=>T(this,nt,Hh).call(this,s)).finally(()=>T(this,nt,Vh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Jh.supportedTypesStr;const r=this._uiManager._signal;k(this,ga,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),T(this,nt,Hh).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>T(this,nt,Vh).call(this))),t.click()},gE=function(){const{div:t}=this;let{width:r,height:i}=m(this,Ot);const[s,o]=this.pageDimensions,l=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>l*s||i>l*o){const p=Math.min(l*s/r,l*o/i);r*=p,i*=p}const[c,d]=this.parentDimensions;this.setDims(r*c/s,i*d/o),this._uiManager.enableWaiting(!1);const h=k(this,ms,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),T(this,nt,mE).call(this,r,i),T(this,nt,vL).call(this),m(this,ld)||(this.parent.addUndoableEditor(this),k(this,ld,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,ad)&&h.setAttribute("aria-label",m(this,ad))},yL=function(t,r){var l;const[i,s]=this.parentDimensions;this.width=t/i,this.height=r/s,(l=this._initialOptions)!=null&&l.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,m(this,ys)!==null&&clearTimeout(m(this,ys)),k(this,ys,setTimeout(()=>{k(this,ys,null),T(this,nt,mE).call(this,t,r)},200))},iy=function(t,r){const{width:i,height:s}=m(this,Ot);let o=i,l=s,c=m(this,Ot);for(;o>2*t||l>2*r;){const d=o,h=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*r&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,d,h,0,0,o,l),c=p.transferToImageBitmap()}return c},mE=function(t,r){const i=new cS,s=Math.ceil(t*i.sx),o=Math.ceil(r*i.sy),l=m(this,ms);if(!l||l.width===s&&l.height===o)return;l.width=s,l.height=o;const c=m(this,Or)?m(this,Ot):T(this,nt,iy).call(this,s,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(c,0,0,c.width,c.height,0,0,s,o)},sy=function(t){if(t){if(m(this,Or)){const s=this._uiManager.imageManager.getSvgUrl(m(this,Rn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Ot),r.getContext("2d").drawImage(m(this,Ot),0,0),r.toDataURL()}if(m(this,Or)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*_a.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*_a.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(m(this,Ot),0,0,m(this,Ot).width,m(this,Ot).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(m(this,Ot))},vL=function(){this._uiManager._signal&&(k(this,so,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&T(this,nt,yL).call(this,r.width,r.height)})),m(this,so).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=m(this,so))==null||t.disconnect(),k(this,so,null)},{once:!0}))},wL=function(t){var d;const{rect:r,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=t.rect.every((h,p)=>Math.abs(h-r[p])<1),l=t.pageIndex===i,c=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===s;return{isSame:o&&l&&c,isSameAltText:c}},$e(Jh,"_type","stamp"),$e(Jh,"_editorType",Xe.STAMP);let pE=Jh;var tu,ud,vs,ya,oo,Fr,va,cd,dd,$n,ao,Ie,wa,Pn,bL,vE,wE,bE,oy;const Si=class Si{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:c,viewport:d,l10n:h}){D(this,Pn);D(this,tu);D(this,ud,!1);D(this,vs,null);D(this,ya,null);D(this,oo,null);D(this,Fr,new Map);D(this,va,!1);D(this,cd,!1);D(this,dd,!1);D(this,$n,null);D(this,ao,null);D(this,Ie);const p=[...m(Si,wa).values()];if(!Si._initialized){Si._initialized=!0;for(const g of p)g.initialize(h,e)}e.registerEditorTypes(p),k(this,Ie,e),this.pageIndex=t,this.div=r,k(this,tu,s),k(this,vs,o),this.viewport=d,k(this,$n,c),this.drawLayer=l,this._structTree=i,m(this,Ie).addLayer(this)}get isEmpty(){return m(this,Fr).size===0}get isInvisible(){return this.isEmpty&&m(this,Ie).getMode()===Xe.NONE}updateToolbar(e){m(this,Ie).updateToolbar(e)}updateMode(e=m(this,Ie).getMode()){switch(T(this,Pn,oy).call(this),e){case Xe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of m(Si,wa).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,$n))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(m(this,Ie).getMode()!==Xe.INK)return;if(!e){for(const r of m(this,Fr).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){m(this,Ie).setEditingState(e)}addCommands(e){m(this,Ie).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,vs))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of m(this,Fr).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(m(this,Ie).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!m(this,vs))return;const t=m(this,vs).getEditableAnnotations();for(const r of t){if(r.hide(),m(this,Ie).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;k(this,dd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Fr).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,vs)){const s=m(this,vs).getEditableAnnotations();for(const o of s){const{id:l}=o.data;if(m(this,Ie).isDeletedAnnotationElement(l))continue;let c=t.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=e.get(l),c&&(m(this,Ie).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}T(this,Pn,oy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of m(Si,wa).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),k(this,dd,!1)}getEditableAnnotation(e){var t;return((t=m(this,vs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Ie).getActive()!==e&&m(this,Ie).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,$n))!=null&&e.div&&!m(this,ao)){k(this,ao,new AbortController);const t=m(this,Ie).combinedSignal(m(this,ao));m(this,$n).div.addEventListener("pointerdown",T(this,Pn,bL).bind(this),{signal:t}),m(this,$n).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,$n))!=null&&e.div&&m(this,ao)&&(m(this,ao).abort(),k(this,ao,null),m(this,$n).div.classList.remove("highlighting"))}enableClick(){if(m(this,ya))return;k(this,ya,new AbortController);const e=m(this,Ie).combinedSignal(m(this,ya));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=m(this,ya))==null||e.abort(),k(this,ya,null)}attach(e){m(this,Fr).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,Ie).isDeletedAnnotationElement(t)&&m(this,Ie).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Fr).delete(e.id),(t=m(this,tu))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,dd)&&e.annotationElementId&&m(this,Ie).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Ie).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,m(this,cd)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Ie).addDeletedAnnotationElement(e.annotationElementId),pt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Ie).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),m(this,Ie).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,oo)&&(e._focusEventsAllowed=!1,k(this,oo,setTimeout(()=>{k(this,oo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Ie)._signal}),t.focus())},0))),e._structTreeParentId=(r=m(this,tu))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return m(this,Ie).getId()}combinedSignal(e){return m(this,Ie).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,Pn,vE))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,Ie).updateToolbar(e),m(this,Ie).updateMode(e);const{offsetX:r,offsetY:i}=T(this,Pn,bE).call(this),s=this.getNextId(),o=T(this,Pn,wE).call(this,{parent:this,id:s,x:r,y:i,uiManager:m(this,Ie),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=m(Si,wa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,Ie)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=T(this,Pn,wE).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Ie),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(T(this,Pn,bE).call(this),!0)}setSelected(e){m(this,Ie).setSelected(e)}toggleSelected(e){m(this,Ie).toggleSelected(e)}unselect(e){m(this,Ie).unselect(e)}pointerup(e){const{isMac:t}=er.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,va)){if(k(this,va,!1),!m(this,ud)){k(this,ud,!0);return}if(m(this,Ie).getMode()===Xe.STAMP){m(this,Ie).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(m(this,Ie).getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),m(this,va)){k(this,va,!1);return}const{isMac:t}=er.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;k(this,va,!0);const r=m(this,Ie).getActive();k(this,ud,!r||r.isEmpty())}findNewParent(e,t,r){const i=m(this,Ie).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=m(this,Ie).getActive())==null?void 0:e.parent)===this&&(m(this,Ie).commitOrRemove(),m(this,Ie).setActiveEditor(null)),m(this,oo)&&(clearTimeout(m(this,oo)),k(this,oo,null));for(const r of m(this,Fr).values())(t=m(this,tu))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Fr).clear(),m(this,Ie).removeLayer(this)}render({viewport:e}){this.viewport=e,su(this.div,e);for(const t of m(this,Ie).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,Ie).commitOrRemove(),T(this,Pn,oy).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,su(this.div,{rotation:r}),t!==r)for(const i of m(this,Fr).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,Ie).viewParameters.realScale}};tu=new WeakMap,ud=new WeakMap,vs=new WeakMap,ya=new WeakMap,oo=new WeakMap,Fr=new WeakMap,va=new WeakMap,cd=new WeakMap,dd=new WeakMap,$n=new WeakMap,ao=new WeakMap,Ie=new WeakMap,wa=new WeakMap,Pn=new WeakSet,bL=function(e){m(this,Ie).unselectAll();const{target:t}=e;if(t===m(this,$n).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,$n).div.contains(t)){const{isMac:r}=er.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Ie).showAllEditors("highlight",!0,!0),m(this,$n).div.classList.add("free"),this.toggleDrawing(),Ry.startHighlighting(this,m(this,Ie).direction==="ltr",{target:m(this,$n).div,x:e.x,y:e.y}),m(this,$n).div.addEventListener("pointerup",()=>{m(this,$n).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Ie)._signal}),e.preventDefault()}},vE=function(){return m(Si,wa).get(m(this,Ie).getMode())},wE=function(e){const t=m(this,Pn,vE);return t?new t.prototype.constructor(e):null},bE=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+r),c=Math.min(window.innerHeight,t+i),d=(s+l)/2-e,h=(o+c)/2-t,[p,g]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:g}},oy=function(){k(this,cd,!0);for(const e of m(this,Fr).values())e.isEmpty()&&e.remove();k(this,cd,!1)},$e(Si,"_initialized",!1),D(Si,wa,new Map([YS,sE,pE,Ry].map(e=>[e._editorType,e])));let yE=Si;var ws,Tp,Kt,lo,Ip,SE,hu,EE,xL;const Cn=class Cn{constructor({pageIndex:e}){D(this,hu);D(this,ws,null);D(this,Tp,0);D(this,Kt,new Map);D(this,lo,new Map);this.pageIndex=e}setParent(e){if(!m(this,ws)){k(this,ws,e);return}if(m(this,ws)!==e){if(m(this,Kt).size>0)for(const t of m(this,Kt).values())t.remove(),e.append(t);k(this,ws,e)}}static get _svgFactory(){return rt(this,"_svgFactory",new F0)}draw(e,t,r,i=!1){const s=Xn(this,Tp)._++,o=T(this,hu,EE).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=Cn._svgFactory.createElement("defs");o.append(l);const c=Cn._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",d),c.setAttribute("d",e.toSVGPath()),i&&m(this,lo).set(s,c);const h=T(this,hu,xL).call(this,l,d),p=Cn._svgFactory.createElement("use");return o.append(p),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),p.setAttribute("href",`#${d}`),m(this,Kt).set(s,o),{id:s,clipPathId:`url(#${h})`}}drawOutline(e){const t=Xn(this,Tp)._++,r=T(this,hu,EE).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const i=Cn._svgFactory.createElement("defs");r.append(i);const s=Cn._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(e.mustRemoveSelfIntersections){const h=Cn._svgFactory.createElement("mask");i.append(h),l=`mask_p${this.pageIndex}_${t}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=Cn._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const g=Cn._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Cn._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return r.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),m(this,Kt).set(t,r),t}finalizeLine(e,t){const r=m(this,lo).get(e);m(this,lo).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){m(this,Kt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){m(this,lo).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;T(r=Cn,Ip,SE).call(r,m(this,Kt).get(e),t)}show(e,t){m(this,Kt).get(e).classList.toggle("hidden",!t)}rotate(e,t){m(this,Kt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){m(this,Kt).get(e).setAttribute("fill",t)}changeOpacity(e,t){m(this,Kt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){m(this,Kt).get(e).classList.add(t)}removeClass(e,t){m(this,Kt).get(e).classList.remove(t)}getSVGRoot(e){return m(this,Kt).get(e)}remove(e){m(this,lo).delete(e),m(this,ws)!==null&&(m(this,Kt).get(e).remove(),m(this,Kt).delete(e))}destroy(){k(this,ws,null);for(const e of m(this,Kt).values())e.remove();m(this,Kt).clear(),m(this,lo).clear()}};ws=new WeakMap,Tp=new WeakMap,Kt=new WeakMap,lo=new WeakMap,Ip=new WeakSet,SE=function(e,{x:t=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},hu=new WeakSet,EE=function(e){var r;const t=Cn._svgFactory.create(1,1,!0);return m(this,ws).append(t),t.setAttribute("aria-hidden",!0),T(r=Cn,Ip,SE).call(r,t,e),t},xL=function(e,t){const r=Cn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Cn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},D(Cn,Ip);let xE=Cn;var KG=Ve.AbortException,YG=Ve.AnnotationEditorLayer,QG=Ve.AnnotationEditorParamsType,JG=Ve.AnnotationEditorType,ZG=Ve.AnnotationEditorUIManager,SL=Ve.AnnotationLayer,EL=Ve.AnnotationMode,eW=Ve.ColorPicker,tW=Ve.DOMSVGFactory,nW=Ve.DrawLayer,rW=Ve.FeatureTest,z0=Ve.GlobalWorkerOptions,iW=Ve.ImageKind,sW=Ve.InvalidPDFException,oW=Ve.MissingPDFException,aW=Ve.OPS,lW=Ve.OutputScale,uW=Ve.PDFDataRangeTransport,cW=Ve.PDFDateString,dW=Ve.PDFWorker,hW=Ve.PasswordResponses,fW=Ve.PermissionFlag,pW=Ve.PixelsPerInch,gW=Ve.RenderingCancelledException,CL=Ve.TextLayer,mW=Ve.UnexpectedResponseException,yW=Ve.Util,vW=Ve.VerbosityLevel,wW=Ve.XfaLayer,bW=Ve.build,xW=Ve.createValidAbsoluteUrl,SW=Ve.fetchData,AL=Ve.getDocument,EW=Ve.getFilenameFromUrl,CW=Ve.getPdfFilenameFromUrl,AW=Ve.getXfaPageViewport,_W=Ve.isDataScheme,RW=Ve.isPdfFile,kW=Ve.noContextMenu,PW=Ve.normalizeUnicode,TW=Ve.setLayerDimensions,IW=Ve.shadow,DW=Ve.version;const LW=Object.freeze(Object.defineProperty({__proto__:null,AbortException:KG,AnnotationEditorLayer:YG,AnnotationEditorParamsType:QG,AnnotationEditorType:JG,AnnotationEditorUIManager:ZG,AnnotationLayer:SL,AnnotationMode:EL,ColorPicker:eW,DOMSVGFactory:tW,DrawLayer:nW,FeatureTest:rW,GlobalWorkerOptions:z0,ImageKind:iW,InvalidPDFException:sW,MissingPDFException:oW,OPS:aW,OutputScale:lW,PDFDataRangeTransport:uW,PDFDateString:cW,PDFWorker:dW,PasswordResponses:hW,PermissionFlag:fW,PixelsPerInch:pW,RenderingCancelledException:gW,TextLayer:CL,UnexpectedResponseException:mW,Util:yW,VerbosityLevel:vW,XfaLayer:wW,build:bW,createValidAbsoluteUrl:xW,fetchData:SW,getDocument:AL,getFilenameFromUrl:EW,getPdfFilenameFromUrl:CW,getXfaPageViewport:AW,isDataScheme:_W,isPdfFile:RW,noContextMenu:kW,normalizeUnicode:PW,setLayerDimensions:TW,shadow:IW,version:DW},Symbol.toStringTag,{value:"Module"}));var hn=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},MW=["onCopy","onCut","onPaste"],NW=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],OW=["onFocus","onBlur"],FW=["onInput","onInvalid","onReset","onSubmit"],BW=["onLoad","onError"],zW=["onKeyDown","onKeyPress","onKeyUp"],jW=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],$W=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],HW=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],VW=["onSelect"],UW=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],GW=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],WW=["onScroll"],qW=["onWheel"],XW=["onAnimationStart","onAnimationEnd","onAnimationIteration"],KW=["onTransitionEnd"],YW=["onToggle"],QW=["onChange"],JW=hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn(hn([],MW,!0),NW,!0),OW,!0),FW,!0),BW,!0),zW,!0),jW,!0),$W,!0),HW,!0),VW,!0),UW,!0),GW,!0),WW,!0),qW,!0),XW,!0),KW,!0),QW,!0),YW,!0);function _L(n,e){var t={};return JW.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function Wp(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var rx,B1;function ZW(){if(B1)return rx;B1=1;var n=function(){};return rx=n,rx}var e5=ZW();const Vn=Dp(e5);var z1=Object.prototype.hasOwnProperty;function j1(n,e,t){for(t of n.keys())if(uc(t,e))return t}function uc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&uc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=j1(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=j1(e,i),!i)||!uc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(z1.call(n,t)&&++r&&!z1.call(e,t)||!(t in e)||!uc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const RL=_.createContext(null);function cc({children:n,type:e}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const t5="noopener noreferrer nofollow";class n5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return gt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){gt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{gt(this.pdfDocument),gt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{gt(Array.isArray(t));const r=t[0];new Promise(i=>{gt(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{gt(!1)}):typeof r=="number"?i(r):gt(!1)}).then(i=>{const s=i+1;gt(this.pdfViewer),gt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;gt(this.pdfViewer),gt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||t5,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const $1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Cv=typeof window<"u",kL=Cv&&window.location.protocol==="file:";function r5(n){return typeof n<"u"}function Qa(n){return r5(n)&&n!==null}function i5(n){return typeof n=="string"}function s5(n){return n instanceof ArrayBuffer}function o5(n){return gt(Cv),n instanceof Blob}function CE(n){return i5(n)&&/^data:/.test(n)}function H1(n){gt(CE(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function a5(){return Cv&&window.devicePixelRatio||1}const PL="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function V1(){Vn(!kL,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${PL}`)}function l5(){Vn(!kL,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${PL}`)}function lu(n){n!=null&&n.cancel&&n.cancel()}function AE(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function u5(n){return n.name==="RenderingCancelledException"}function c5(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function d5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function gd(){return _.useReducer(d5,{value:void 0,error:void 0})}var h5=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(h){try{d(r.next(h))}catch(p){o(p)}}function c(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?s(h.value):i(h.value).then(l,c)}d((r=r.apply(n,e||[])).next())})},U1=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:f5}=LW,p5=(n,e)=>{switch(e){case $1.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case $1.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function G1(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const g5=_.forwardRef(function(e,t){var{children:r,className:i,error:s="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:l,file:c,inputRef:d,imageResourcesPath:h,loading:p="Loading PDF",noData:g="No PDF file specified.",onItemClick:y,onLoadError:w,onLoadProgress:b,onLoadSuccess:E,onPassword:S=p5,onSourceError:A,onSourceSuccess:R,options:I,renderMode:N,rotate:L}=e,z=U1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[V,X]=gd(),{value:Q,error:W}=V,[ne,ee]=gd(),{value:K,error:re}=ne,ce=_.useRef(new n5),ie=_.useRef([]),U=_.useRef(void 0),fe=_.useRef(void 0);c&&c!==U.current&&G1(c)&&(Vn(!uc(c,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=c),I&&I!==fe.current&&(Vn(!uc(I,fe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),fe.current=I);const M=_.useRef({scrollPageIntoView:Ye=>{const{dest:vt,pageNumber:zt,pageIndex:Rt=zt-1}=Ye;if(y){y({dest:vt,pageIndex:Rt,pageNumber:zt});return}const xr=ie.current[Rt];if(xr){xr.scrollIntoView();return}Vn(!1,`An internal link leading to page ${zt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(t,()=>({linkService:ce,pages:ie,viewer:M}),[]);function j(){R&&R()}function J(){W&&(Vn(!1,W.toString()),A&&A(W))}function F(){X({type:"RESET"})}_.useEffect(F,[c,X]);const ve=_.useCallback(()=>h5(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return CE(c)?{data:H1(c)}:(V1(),{url:c});if(c instanceof f5)return{range:c};if(s5(c))return{data:c};if(Cv&&o5(c))return{data:yield c5(c)};if(gt(typeof c=="object"),gt(G1(c)),"url"in c&&typeof c.url=="string"){if(CE(c.url)){const{url:Ye}=c,vt=U1(c,["url"]),zt=H1(Ye);return Object.assign({data:zt},vt)}V1()}return c}),[c]);_.useEffect(()=>{const Ye=Wp(ve());return Ye.promise.then(vt=>{X({type:"RESOLVE",value:vt})}).catch(vt=>{X({type:"REJECT",error:vt})}),()=>{lu(Ye)}},[ve,X]),_.useEffect(()=>{if(!(typeof Q>"u")){if(Q===!1){J();return}j()}},[Q]);function Re(){K&&(E&&E(K),ie.current=new Array(K.numPages),ce.current.setDocument(K))}function pe(){re&&(Vn(!1,re.toString()),w&&w(re))}_.useEffect(function(){ee({type:"RESET"})},[ee,Q]),_.useEffect(function(){if(!Q)return;const vt=I?Object.assign(Object.assign({},Q),I):Q,zt=AL(vt);b&&(zt.onProgress=b),S&&(zt.onPassword=S);const Rt=zt,xr=Rt.promise.then(Gi=>{ee({type:"RESOLVE",value:Gi})}).catch(Gi=>{Rt.destroyed||ee({type:"REJECT",error:Gi})});return()=>{xr.finally(()=>Rt.destroy())}},[I,ee,Q]),_.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){pe();return}Re()}},[K]),_.useEffect(function(){ce.current.setViewer(M.current),ce.current.setExternalLinkRel(o),ce.current.setExternalLinkTarget(l)},[o,l]);const ye=_.useCallback((Ye,vt)=>{ie.current[Ye]=vt},[]),Te=_.useCallback(Ye=>{delete ie.current[Ye]},[]),De=_.useMemo(()=>({imageResourcesPath:h,linkService:ce.current,onItemClick:y,pdf:K,registerPage:ye,renderMode:N,rotate:L,unregisterPage:Te}),[h,y,K,ye,N,L,Te]),Oe=_.useMemo(()=>_L(z,()=>K),[z,K]);function Tn(){return O.jsx(RL.Provider,{value:De,children:r})}function It(){return c?K==null?O.jsx(cc,{type:"loading",children:typeof p=="function"?p():p}):K===!1?O.jsx(cc,{type:"error",children:typeof s=="function"?s():s}):Tn():O.jsx(cc,{type:"no-data",children:typeof g=="function"?g():g})}return O.jsx("div",Object.assign({className:yd("react-pdf__Document",i),ref:d,style:{"--scale-factor":"1"}},Oe,{children:It()}))});function TL(){return _.useContext(RL)}function IL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(s){t.forEach(function(o){typeof o=="function"?o(s):o&&(o.current=s)})}}const DL=_.createContext(null),LL={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},m5=/^H(\d+)$/;function y5(n){return n in LL}function Av(n){return"children"in n}function ML(n){return Av(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function v5(n){const e={};if(Av(n)){const{role:t}=n,r=t.match(m5);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(y5(t)){const i=LL[t];i&&(e.role=i)}}return e}function NL(n){const e={};if(Av(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),ML(n)){const[t]=n.children;if(t){const r=NL(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function w5(n){return n?Object.assign(Object.assign({},v5(n)),NL(n)):null}function OL({className:n,node:e}){const t=_.useMemo(()=>w5(e),[e]),r=_.useMemo(()=>!Av(e)||ML(e)?null:e.children.map((i,s)=>O.jsx(OL,{node:i},s)),[e]);return O.jsx("span",Object.assign({className:n},t,{children:r}))}function _v(){return _.useContext(DL)}function b5(){const n=_v();gt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=gd(),{value:s,error:o}=r,{customTextRenderer:l,page:c}=n;function d(){s&&t&&t(s)}function h(){o&&(Vn(!1,o.toString()),e&&e(o))}return _.useEffect(function(){i({type:"RESET"})},[i,c]),_.useEffect(function(){if(l||!c)return;const g=Wp(c.getStructTree()),y=g;return g.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>lu(y)},[l,c,i]),_.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}d()}},[s]),s?O.jsx(OL,{className:"react-pdf__Page__structTree structTree",node:s}):null}const W1=EL;function x5(n){const e=_v();gt(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=a5(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:h,rotate:p,scale:g}=t,{canvasRef:y}=n;gt(c);const w=_.useRef(null);function b(){c&&l&&l(AE(c,g))}function E(I){u5(I)||(Vn(!1,I.toString()),o&&o(I))}const S=_.useMemo(()=>c.getViewport({scale:g*s,rotation:p}),[s,c,p,g]),A=_.useMemo(()=>c.getViewport({scale:g,rotation:p}),[c,p,g]);_.useEffect(function(){if(!c)return;c.cleanup();const{current:N}=w;if(!N)return;N.width=S.width,N.height=S.height,N.style.width=`${Math.floor(A.width)}px`,N.style.height=`${Math.floor(A.height)}px`,N.style.visibility="hidden";const L={annotationMode:d?W1.ENABLE_FORMS:W1.ENABLE,canvasContext:N.getContext("2d",{alpha:!1}),viewport:S};i&&(L.background=i);const z=c.render(L),V=z;return z.promise.then(()=>{N.style.visibility="",b()}).catch(E),()=>lu(V)},[i,c,d,S,A]);const R=_.useCallback(()=>{const{current:I}=w;I&&(I.width=0,I.height=0)},[]);return _.useEffect(()=>R,[R]),O.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:IL(y,w),style:{display:"block",userSelect:"none"},children:h?O.jsx(b5,{}):null})}function S5(n){return"str"in n}function E5(){const n=_v();gt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:h}=n;gt(o);const[p,g]=gd(),{value:y,error:w}=p,b=_.useRef(null);Vn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){y&&r&&r(y)}function S(){w&&(Vn(!1,w.toString()),t&&t(w))}_.useEffect(function(){g({type:"RESET"})},[o,g]),_.useEffect(function(){if(!o)return;const V=Wp(o.getTextContent()),X=V;return V.promise.then(Q=>{g({type:"RESOLVE",value:Q})}).catch(Q=>{g({type:"REJECT",error:Q})}),()=>lu(X)},[o,g]),_.useEffect(()=>{if(y!==void 0){if(y===!1){S();return}E()}},[y]);const A=_.useCallback(()=>{s&&s()},[s]),R=_.useCallback(z=>{Vn(!1,z.toString()),i&&i(z)},[i]);function I(){const z=b.current;z&&z.classList.add("selecting")}function N(){const z=b.current;z&&z.classList.remove("selecting")}const L=_.useMemo(()=>o.getViewport({scale:h,rotation:d}),[o,d,h]);return _.useLayoutEffect(function(){if(!o||!y)return;const{current:V}=b;if(!V)return;V.innerHTML="";const X=o.streamTextContent({includeMarkedContent:!0}),Q={container:V,textContentSource:X,viewport:L},W=new CL(Q),ne=W;return W.render().then(()=>{const ee=document.createElement("div");ee.className="endOfContent",V.append(ee);const K=V.querySelectorAll('[role="presentation"]');if(e){let re=0;y.items.forEach((ce,ie)=>{if(!S5(ce))return;const U=K[re];if(!U)return;const fe=e(Object.assign({pageIndex:l,pageNumber:c,itemIndex:ie},ce));U.innerHTML=fe,re+=ce.str&&ce.hasEOL?2:1})}A()}).catch(R),()=>lu(ne)},[e,R,A,o,l,c,y,L]),O.jsx("div",{className:yd("react-pdf__Page__textContent","textLayer"),onMouseUp:N,onMouseDown:I,ref:b})}function C5(){const n=TL(),e=_v();gt(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:p,rotate:g,scale:y=1}=t;gt(h),gt(d),gt(i);const[w,b]=gd(),{value:E,error:S}=w,A=_.useRef(null);Vn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){E&&o&&o(E)}function I(){S&&(Vn(!1,S.toString()),s&&s(S))}_.useEffect(function(){b({type:"RESET"})},[b,d]),_.useEffect(function(){if(!d)return;const X=Wp(d.getAnnotations()),Q=X;return X.promise.then(W=>{b({type:"RESOLVE",value:W})}).catch(W=>{b({type:"REJECT",error:W})}),()=>{lu(Q)}},[b,d]),_.useEffect(()=>{if(E!==void 0){if(E===!1){I();return}R()}},[E]);function N(){c&&c()}function L(V){Vn(!1,`${V}`),l&&l(V)}const z=_.useMemo(()=>d.getViewport({scale:y,rotation:g}),[d,g,y]);return _.useEffect(function(){if(!h||!d||!i||!E)return;const{current:X}=A;if(!X)return;const Q=z.clone({dontFlip:!0}),W={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:X,l10n:null,page:d,structTreeLayer:null,viewport:Q},ne={annotations:E,annotationStorage:h.annotationStorage,div:X,imageResourcesPath:r,linkService:i,page:d,renderForms:p,viewport:Q};X.innerHTML="";try{new SL(W).render(ne),N()}catch(ee){L(ee)}return()=>{}},[E,r,i,d,h,p,z]),O.jsx("div",{className:yd("react-pdf__Page__annotations","annotationLayer"),ref:A})}var A5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const q1=1;function _5(n){const e=TL(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:d,customTextRenderer:h,devicePixelRatio:p,error:g="Failed to load the page.",height:y,inputRef:w,loading:b="Loading page",noData:E="No page specified.",onGetAnnotationsError:S,onGetAnnotationsSuccess:A,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:N,onGetTextSuccess:L,onLoadError:z,onLoadSuccess:V,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:Q,onRenderError:W,onRenderSuccess:ne,onRenderTextLayerError:ee,onRenderTextLayerSuccess:K,pageIndex:re,pageNumber:ce,pdf:ie,registerPage:U,renderAnnotationLayer:fe=!0,renderForms:M=!1,renderMode:j="canvas",renderTextLayer:J=!0,rotate:F,scale:ve=q1,unregisterPage:Re,width:pe}=t,ye=A5(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Te,De]=gd(),{value:Oe,error:Tn}=Te,It=_.useRef(null);gt(ie);const Ye=Qa(ce)?ce-1:re??null,vt=ce??(Qa(re)?re+1:null),zt=F??(Oe?Oe.rotate:null),Rt=_.useMemo(()=>{if(!Oe)return null;let ue=1;const Le=ve??q1;if(pe||y){const Ue=Oe.getViewport({scale:1,rotation:zt});pe?ue=pe/Ue.width:y&&(ue=y/Ue.height)}return Le*ue},[y,Oe,zt,ve,pe]);_.useEffect(function(){return()=>{Qa(Ye)&&i&&Re&&Re(Ye)}},[i,ie,Ye,Re]);function xr(){if(V){if(!Oe||!Rt)return;V(AE(Oe,Rt))}if(i&&U){if(!Qa(Ye)||!It.current)return;U(Ye,It.current)}}function Gi(){Tn&&(Vn(!1,Tn.toString()),z&&z(Tn))}_.useEffect(function(){De({type:"RESET"})},[De,ie,Ye]),_.useEffect(function(){if(!ie||!vt)return;const Le=Wp(ie.getPage(vt)),Ue=Le;return Le.promise.then(et=>{De({type:"RESOLVE",value:et})}).catch(et=>{De({type:"REJECT",error:et})}),()=>lu(Ue)},[De,ie,vt]),_.useEffect(()=>{if(Oe!==void 0){if(Oe===!1){Gi();return}xr()}},[Oe,Rt]);const bo=_.useMemo(()=>Oe&&Qa(Ye)&&vt&&Qa(zt)&&Qa(Rt)?{_className:r,canvasBackground:s,customTextRenderer:h,devicePixelRatio:p,onGetAnnotationsError:S,onGetAnnotationsSuccess:A,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:N,onGetTextSuccess:L,onRenderAnnotationLayerError:X,onRenderAnnotationLayerSuccess:Q,onRenderError:W,onRenderSuccess:ne,onRenderTextLayerError:ee,onRenderTextLayerSuccess:K,page:Oe,pageIndex:Ye,pageNumber:vt,renderForms:M,renderTextLayer:J,rotate:zt,scale:Rt}:null,[r,s,h,p,S,A,R,I,N,L,X,Q,W,ne,ee,K,Oe,Ye,vt,M,J,zt,Rt]),Wi=_.useMemo(()=>_L(ye,()=>Oe&&(Rt?AE(Oe,Rt):void 0)),[ye,Oe,Rt]),Sr=`${Ye}@${Rt}/${zt}`;function La(){switch(j){case"custom":return gt(d),O.jsx(d,{},`${Sr}_custom`);case"none":return null;case"canvas":default:return O.jsx(x5,{canvasRef:o},`${Sr}_canvas`)}}function bu(){return J?O.jsx(E5,{},`${Sr}_text`):null}function xu(){return fe?O.jsx(C5,{},`${Sr}_annotations`):null}function Su(){return O.jsxs(DL.Provider,{value:bo,children:[La(),bu(),xu(),l]})}function te(){return vt?ie===null||Oe===void 0||Oe===null?O.jsx(cc,{type:"loading",children:typeof b=="function"?b():b}):ie===!1||Oe===!1?O.jsx(cc,{type:"error",children:typeof g=="function"?g():g}):Su():O.jsx(cc,{type:"no-data",children:typeof E=="function"?E():E})}return O.jsx("div",Object.assign({className:yd(r,c),"data-page-number":vt,ref:IL(w,It),style:{"--scale-factor":`${Rt}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Wi,{children:te()}))}l5();z0.workerSrc="pdf.worker.mjs";let hi;typeof window<"u"?hi=window:typeof self<"u"?hi=self:hi=global;let _E=null,RE=null;const X1=20,ix=hi.clearTimeout,K1=hi.setTimeout,sx=hi.cancelAnimationFrame||hi.mozCancelAnimationFrame||hi.webkitCancelAnimationFrame,Y1=hi.requestAnimationFrame||hi.mozRequestAnimationFrame||hi.webkitRequestAnimationFrame;sx==null||Y1==null?(_E=ix,RE=function(e){return K1(e,X1)}):(_E=function([e,t]){sx(e),ix(t)},RE=function(e){const t=Y1(function(){ix(r),e()}),r=K1(function(){sx(t),e()},X1);return[t,r]});function R5(n){let e,t,r,i,s,o,l;const c=typeof document<"u"&&document.attachEvent;if(!c){o=function(S){const A=S.__resizeTriggers__,R=A.firstElementChild,I=A.lastElementChild,N=R.firstElementChild;I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight,N.style.width=R.offsetWidth+1+"px",N.style.height=R.offsetHeight+1+"px",R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight},s=function(S){return S.offsetWidth!==S.__resizeLast__.width||S.offsetHeight!==S.__resizeLast__.height},l=function(S){if(S.target.className&&typeof S.target.className.indexOf=="function"&&S.target.className.indexOf("contract-trigger")<0&&S.target.className.indexOf("expand-trigger")<0)return;const A=this;o(this),this.__resizeRAF__&&_E(this.__resizeRAF__),this.__resizeRAF__=RE(function(){s(A)&&(A.__resizeLast__.width=A.offsetWidth,A.__resizeLast__.height=A.offsetHeight,A.__resizeListeners__.forEach(function(N){N.call(A,S)}))})};let g=!1,y="";r="animationstart";const w="Webkit Moz O ms".split(" ");let b="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{const S=document.createElement("fakeelement");if(S.style.animationName!==void 0&&(g=!0),g===!1){for(let A=0;A<w.length;A++)if(S.style[w[A]+"AnimationName"]!==void 0){E=w[A],y="-"+E.toLowerCase()+"-",r=b[A],g=!0;break}}}t="resizeanim",e="@"+y+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",i=y+"animation: 1ms "+t+"; "}const d=function(g){if(!g.getElementById("detectElementResize")){const y=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',w=g.head||g.getElementsByTagName("head")[0],b=g.createElement("style");b.id="detectElementResize",b.type="text/css",n!=null&&b.setAttribute("nonce",n),b.styleSheet?b.styleSheet.cssText=y:b.appendChild(g.createTextNode(y)),w.appendChild(b)}};return{addResizeListener:function(g,y){if(c)g.attachEvent("onresize",y);else{if(!g.__resizeTriggers__){const w=g.ownerDocument,b=hi.getComputedStyle(g);b&&b.position==="static"&&(g.style.position="relative"),d(w),g.__resizeLast__={},g.__resizeListeners__=[],(g.__resizeTriggers__=w.createElement("div")).className="resize-triggers";const E=w.createElement("div");E.className="expand-trigger",E.appendChild(w.createElement("div"));const S=w.createElement("div");S.className="contract-trigger",g.__resizeTriggers__.appendChild(E),g.__resizeTriggers__.appendChild(S),g.appendChild(g.__resizeTriggers__),o(g),g.addEventListener("scroll",l,!0),r&&(g.__resizeTriggers__.__animationListener__=function(R){R.animationName===t&&o(g)},g.__resizeTriggers__.addEventListener(r,g.__resizeTriggers__.__animationListener__))}g.__resizeListeners__.push(y)}},removeResizeListener:function(g,y){if(c)g.detachEvent("onresize",y);else if(g.__resizeListeners__.splice(g.__resizeListeners__.indexOf(y),1),!g.__resizeListeners__.length){g.removeEventListener("scroll",l,!0),g.__resizeTriggers__.__animationListener__&&(g.__resizeTriggers__.removeEventListener(r,g.__resizeTriggers__.__animationListener__),g.__resizeTriggers__.__animationListener__=null);try{g.__resizeTriggers__=!g.removeChild(g.__resizeTriggers__)}catch{}}}}}class ox extends _.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:t,disableWidth:r,onResize:i}=this.props;if(this._parentNode){const s=window.getComputedStyle(this._parentNode)||{},o=parseFloat(s.paddingLeft||"0"),l=parseFloat(s.paddingRight||"0"),c=parseFloat(s.paddingTop||"0"),d=parseFloat(s.paddingBottom||"0"),h=this._parentNode.getBoundingClientRect(),p=h.height-c-d,g=h.width-o-l,y=this._parentNode.offsetHeight-c-d,w=this._parentNode.offsetWidth-o-l;(!t&&(this.state.height!==y||this.state.scaledHeight!==p)||!r&&(this.state.width!==w||this.state.scaledWidth!==g))&&(this.setState({height:y,width:w,scaledHeight:p,scaledWidth:g}),typeof i=="function"&&i({height:y,scaledHeight:p,scaledWidth:g,width:w}))}},this._setRef=t=>{this._autoSizer=t}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(t!=null&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const r=t.ownerDocument.defaultView.ResizeObserver;r!=null?(this._resizeObserver=new r(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=R5(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:r,disableHeight:i=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:o=!1,nonce:l,onResize:c,style:d={},tagName:h="div",...p}=this.props,{height:g,scaledHeight:y,scaledWidth:w,width:b}=this.state,E={overflow:"visible"},S={};let A=!1;return i||(g===0&&(A=!0),E.height=0,S.height=g,S.scaledHeight=y),s||(b===0&&(A=!0),E.width=0,S.width=b,S.scaledWidth=w),o&&(A=!1),_.createElement(h,{ref:this._setRef,style:{...E,...d},...p},!A&&e(S))}}const k5=({children:n,deps:e=[],...t})=>{const[r,i]=_.useState(0);return _.useEffect(()=>{i(s=>1-s)},e),t.disableWidth?O.jsx(ox,{...t,disableWidth:!0,children:({height:s})=>n({height:s})},r):t.disableHeight?O.jsx(ox,{...t,disableHeight:!0,children:({width:s})=>n({width:s})},r):O.jsx(ox,{...t,children:({width:s,height:o})=>n({width:s,height:o})},r)};z0.workerSrc="/pdf.worker.min.mjs";const Rv=({file:n,annotation:e,scrollTo:t,className:r})=>{const[i,s]=_.useState(null),o=_.useRef(new Map),l=e?"length"in e?e:[e]:[],c=({numPages:p})=>{s(Math.min(100,p))},d=(p,g,y,w)=>{p.width=y,p.height=w;const b=p.getContext("2d");b&&(b.clearRect(0,0,p.width,p.height),g.forEach(E=>{const{x:S,y:A,width:R,height:I}=E;b.strokeStyle="red",b.lineWidth=2,b.strokeRect(S*y,A*w,R*y,I*w)}),g.length>0&&t!==void 0&&p.scrollIntoView())},h=(p,g)=>{p&&o.current.set(g,p)};return O.jsx("div",{className:`overflow-x-auto ${r||"h-[85vh]"}`,children:O.jsx(k5,{disableHeight:!0,deps:[l],children:({width:p})=>O.jsx(g5,{file:n,onLoadSuccess:c,children:Array.from({length:i||0},(g,y)=>{const b=Math.max(1,(t??51)-50)+y;return O.jsxs("div",{style:{position:"relative",marginBottom:"20px"},children:[O.jsx(_5,{pageNumber:b,width:p,onRenderSuccess:({width:E,height:S})=>{const A=o.current.get(b);A&&E&&S&&(d(A,l.filter(R=>R.page===b),E,S),b===t&&A.scrollIntoView())}}),O.jsx("canvas",{ref:E=>h(E,b),style:{position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:2}})]},b)})})})})},P5=({prevStep:n,nextStep:e})=>{const{loading:t,error:r,data:i}=Sj(g=>{}),{loanId:s}=_.useContext(Vi),[o,l]=_.useState(void 0),[c,d]=_.useState("");_.useEffect(()=>{if(i&&!o){d(Object.values(Object.values(i)[0])[0][0]),l(JSON.parse(JSON.stringify(i)));return}},[i,o]);const h=()=>{JSON.stringify(i)!==JSON.stringify(o)&&o?xj(s,o,()=>{e()}):e()},p=g=>{const{source:y,destination:w}=g;!w||!o||y.droppableId!==w.droppableId&&l(Object.fromEntries(Object.entries(o).map(([b,E])=>[b,Object.fromEntries(Object.entries(E).map(([S,A])=>[S,A.filter((R,I)=>I!==y.index||S!==y.droppableId).concat(S===w.droppableId?[Object.values(o)[0][y.droppableId][y.index]]:[])]))])))};return O.jsx(bd,{children:O.jsxs(xd,{className:"flex flex-col items-start gap-4 p-10 w-[95vw] h-[93vh] overflow-y-auto",children:[o&&O.jsxs("div",{className:"flex flex-row w-full h-[79vh]",children:[O.jsxs("div",{className:"w-1/2",children:[O.jsx("h1",{className:"text-xl font-bold",children:"Classification"}),O.jsx("p",{children:"Classify the uploaded file contents."}),O.jsx(s3,{onDragEnd:p,children:O.jsx("div",{className:"flex gap-4",children:O.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(Object.values(o)[0]).map(([g,y])=>O.jsxs("div",{className:"p-4 rounded-md",children:[O.jsx("h3",{className:"font-semibold mb-2 capitalize",children:g.split(".")[1].replace(new RegExp("_","g")," ").toLowerCase()}),O.jsx(W3,{droppableId:g,children:w=>O.jsxs("ul",{...w.droppableProps,ref:w.innerRef,className:"min-h-[100px]",children:[y.map((b,E)=>O.jsx(C3,{draggableId:b,index:E,children:S=>O.jsx("li",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,className:"p-2 mb-2 bg-gray-500 rounded shadow flex flex-row justify-center",children:O.jsx(vr,{onClick:()=>d(b),children:uf(b)})})},b)),w.placeholder]})})]},g))})})})]}),O.jsx("div",{className:"w-1/2",children:c&&O.jsx(Rv,{file:`${zp}/get_pdf?loan_id=${s}&file_path=${uf(c)}`,className:"h-full"})})]}),t&&O.jsx(Op,{}),r&&O.jsxs(O.Fragment,{children:[O.jsx("h3",{children:" Error:"}),r.message]}),!t&&O.jsxs("div",{className:"flex flex-row",children:[O.jsx(vr,{onClick:n,children:"Back"}),O.jsx(vr,{onClick:h,children:"Next"})]})]})})};function Ca(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var ky=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},T5=cF.useId||(()=>{}),I5=0;function ax(n){const[e,t]=_.useState(T5());return ky(()=>{n||t(r=>r??String(I5++))},[n]),n||(e?`radix-${e}`:"")}function uu(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function D5({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=L5({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,l=uu(t),c=_.useCallback(d=>{if(s){const p=typeof d=="function"?d(n):d;p!==n&&l(p)}else i(d)},[s,n,i,l]);return[o,c]}function L5({defaultProp:n,onChange:e}){const t=_.useState(n),[r]=t,i=_.useRef(r),s=uu(e);return _.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}function M5(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var N5="DismissableLayer",kE="dismissableLayer.update",O5="dismissableLayer.pointerDownOutside",F5="dismissableLayer.focusOutside",Q1,FL=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BL=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=n,d=_.useContext(FL),[h,p]=_.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),w=gu(e,z=>p(z)),b=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(E),A=h?b.indexOf(h):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,I=A>=S,N=j5(z=>{const V=z.target,X=[...d.branches].some(Q=>Q.contains(V));!I||X||(i==null||i(z),o==null||o(z),z.defaultPrevented||l==null||l())},g),L=$5(z=>{const V=z.target;[...d.branches].some(Q=>Q.contains(V))||(s==null||s(z),o==null||o(z),z.defaultPrevented||l==null||l())},g);return M5(z=>{A===d.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&l&&(z.preventDefault(),l()))},g),_.useEffect(()=>{if(h)return t&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Q1=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),J1(),()=>{t&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Q1)}},[h,g,t,d]),_.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),J1())},[h,d]),_.useEffect(()=>{const z=()=>y({});return document.addEventListener(kE,z),()=>document.removeEventListener(kE,z)},[]),O.jsx($i.div,{...c,ref:w,style:{pointerEvents:R?I?"auto":"none":void 0,...n.style},onFocusCapture:Ca(n.onFocusCapture,L.onFocusCapture),onBlurCapture:Ca(n.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ca(n.onPointerDownCapture,N.onPointerDownCapture)})});BL.displayName=N5;var B5="DismissableLayerBranch",z5=_.forwardRef((n,e)=>{const t=_.useContext(FL),r=_.useRef(null),i=gu(e,r);return _.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),O.jsx($i.div,{...n,ref:i})});z5.displayName=B5;function j5(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){zL(O5,t,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function $5(n,e=globalThis==null?void 0:globalThis.document){const t=uu(n),r=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!r.current&&zL(F5,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J1(){const n=new CustomEvent(kE);document.dispatchEvent(n)}function zL(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?W2(i,s):i.dispatchEvent(s)}var lx="focusScope.autoFocusOnMount",ux="focusScope.autoFocusOnUnmount",Z1={bubbles:!1,cancelable:!0},H5="FocusScope",jL=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[l,c]=_.useState(null),d=uu(i),h=uu(s),p=_.useRef(null),g=gu(e,b=>c(b)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let b=function(R){if(y.paused||!l)return;const I=R.target;l.contains(I)?p.current=I:Go(p.current,{select:!0})},E=function(R){if(y.paused||!l)return;const I=R.relatedTarget;I!==null&&(l.contains(I)||Go(p.current,{select:!0}))},S=function(R){if(document.activeElement===document.body)for(const N of R)N.removedNodes.length>0&&Go(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",E);const A=new MutationObserver(S);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",E),A.disconnect()}}},[r,l,y.paused]),_.useEffect(()=>{if(l){tk.add(y);const b=document.activeElement;if(!l.contains(b)){const S=new CustomEvent(lx,Z1);l.addEventListener(lx,d),l.dispatchEvent(S),S.defaultPrevented||(V5(X5($L(l)),{select:!0}),document.activeElement===b&&Go(l))}return()=>{l.removeEventListener(lx,d),setTimeout(()=>{const S=new CustomEvent(ux,Z1);l.addEventListener(ux,h),l.dispatchEvent(S),S.defaultPrevented||Go(b??document.body,{select:!0}),l.removeEventListener(ux,h),tk.remove(y)},0)}}},[l,d,h,y]);const w=_.useCallback(b=>{if(!t&&!r||y.paused)return;const E=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(E&&S){const A=b.currentTarget,[R,I]=U5(A);R&&I?!b.shiftKey&&S===I?(b.preventDefault(),t&&Go(R,{select:!0})):b.shiftKey&&S===R&&(b.preventDefault(),t&&Go(I,{select:!0})):S===A&&b.preventDefault()}},[t,r,y.paused]);return O.jsx($i.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});jL.displayName=H5;function V5(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Go(r,{select:e}),document.activeElement!==t)return}function U5(n){const e=$L(n),t=ek(e,n),r=ek(e.reverse(),n);return[t,r]}function $L(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ek(n,e){for(const t of n)if(!G5(t,{upTo:e}))return t}function G5(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function W5(n){return n instanceof HTMLInputElement&&"select"in n}function Go(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&W5(n)&&e&&n.select()}}var tk=q5();function q5(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=nk(n,e),n.unshift(e)},remove(e){var t;n=nk(n,e),(t=n[0])==null||t.resume()}}}function nk(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function X5(n){return n.filter(e=>e.tagName!=="A")}var K5="Portal",HL=_.forwardRef((n,e)=>{var l;const{container:t,...r}=n,[i,s]=_.useState(!1);ky(()=>s(!0),[]);const o=t||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?wP.createPortal(O.jsx($i.div,{...r,ref:e}),o):null});HL.displayName=K5;function Y5(n,e){return _.useReducer((t,r)=>e[t][r]??t,n)}var kv=n=>{const{present:e,children:t}=n,r=Q5(e),i=typeof t=="function"?t({present:r.isPresent}):_.Children.only(t),s=gu(r.ref,J5(i));return typeof t=="function"||r.isPresent?_.cloneElement(i,{ref:s}):null};kv.displayName="Presence";function Q5(n){const[e,t]=_.useState(),r=_.useRef({}),i=_.useRef(n),s=_.useRef("none"),o=n?"mounted":"unmounted",[l,c]=Y5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=pm(r.current);s.current=l==="mounted"?d:"none"},[l]),ky(()=>{const d=r.current,h=i.current;if(h!==n){const g=s.current,y=pm(d);n?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,c]),ky(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=y=>{const b=pm(r.current).includes(y.animationName);if(y.target===e&&b&&(c("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=y=>{y.target===e&&(s.current=pm(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{d&&(r.current=getComputedStyle(d)),t(d)},[])}}function pm(n){return(n==null?void 0:n.animationName)||"none"}function J5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var cx=0;function Z5(){_.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??rk()),document.body.insertAdjacentElement("beforeend",n[1]??rk()),cx++,()=>{cx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cx--}},[])}function rk(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var bs=function(){return bs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bs.apply(this,arguments)};function VL(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function e6(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var ay="right-scroll-bar-position",ly="width-before-scroll-bar",t6="with-scroll-bars-hidden",n6="--removed-body-scroll-bar-size";function dx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function r6(n,e){var t=_.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var i6=typeof window<"u"?_.useLayoutEffect:_.useEffect,ik=new WeakMap;function s6(n,e){var t=r6(null,function(r){return n.forEach(function(i){return dx(i,r)})});return i6(function(){var r=ik.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(l){s.has(l)||dx(l,null)}),s.forEach(function(l){i.has(l)||dx(l,o)})}ik.set(t,n)},[n]),t}function o6(n){return n}function a6(n,e){e===void 0&&(e=o6);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(l){return s(l)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(s),o=t}var c=function(){var h=o;o=[],h.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),t={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),t}}}};return i}function l6(n){n===void 0&&(n={});var e=a6(null);return e.options=bs({async:!0,ssr:!1},n),e}var UL=function(n){var e=n.sideCar,t=VL(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,bs({},t))};UL.isSideCarExport=!0;function u6(n,e){return n.useMedium(e),UL}var GL=l6(),hx=function(){},Pv=_.forwardRef(function(n,e){var t=_.useRef(null),r=_.useState({onScrollCapture:hx,onWheelCapture:hx,onTouchMoveCapture:hx}),i=r[0],s=r[1],o=n.forwardProps,l=n.children,c=n.className,d=n.removeScrollBar,h=n.enabled,p=n.shards,g=n.sideCar,y=n.noIsolation,w=n.inert,b=n.allowPinchZoom,E=n.as,S=E===void 0?"div":E,A=n.gapMode,R=VL(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,N=s6([t,e]),L=bs(bs({},R),i);return _.createElement(_.Fragment,null,h&&_.createElement(I,{sideCar:GL,removeScrollBar:d,shards:p,noIsolation:y,inert:w,setCallbacks:s,allowPinchZoom:!!b,lockRef:t,gapMode:A}),o?_.cloneElement(_.Children.only(l),bs(bs({},L),{ref:N})):_.createElement(S,bs({},L,{className:c,ref:N}),l))});Pv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pv.classNames={fullWidth:ly,zeroRight:ay};var c6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d6(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=c6();return e&&n.setAttribute("nonce",e),n}function h6(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function f6(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var p6=function(){var n=0,e=null;return{add:function(t){n==0&&(e=d6())&&(h6(e,t),f6(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},g6=function(){var n=p6();return function(e,t){_.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},WL=function(){var n=g6(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},m6={left:0,top:0,right:0,gap:0},fx=function(n){return parseInt(n||"",10)||0},y6=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[fx(t),fx(r),fx(i)]},v6=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return m6;var e=y6(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},w6=WL(),dc="data-scroll-locked",b6=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(t6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ay,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ly,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ay," .").concat(ay,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ly," .").concat(ly,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dc,`] {
    `).concat(n6,": ").concat(l,`px;
  }
`)},sk=function(){var n=parseInt(document.body.getAttribute(dc)||"0",10);return isFinite(n)?n:0},x6=function(){_.useEffect(function(){return document.body.setAttribute(dc,(sk()+1).toString()),function(){var n=sk()-1;n<=0?document.body.removeAttribute(dc):document.body.setAttribute(dc,n.toString())}},[])},S6=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;x6();var s=_.useMemo(function(){return v6(i)},[i]);return _.createElement(w6,{styles:b6(s,!e,i,t?"":"!important")})},PE=!1;if(typeof window<"u")try{var gm=Object.defineProperty({},"passive",{get:function(){return PE=!0,!0}});window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,gm)}catch{PE=!1}var Xu=PE?{passive:!1}:!1,E6=function(n){return n.tagName==="TEXTAREA"},qL=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!E6(n)&&t[e]==="visible")},C6=function(n){return qL(n,"overflowY")},A6=function(n){return qL(n,"overflowX")},ok=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=XL(n,r);if(i){var s=KL(n,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},_6=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},R6=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},XL=function(n,e){return n==="v"?C6(e):A6(e)},KL=function(n,e){return n==="v"?_6(e):R6(e)},k6=function(n,e){return n==="h"&&e==="rtl"?-1:1},P6=function(n,e,t,r,i){var s=k6(n,window.getComputedStyle(e).direction),o=s*r,l=t.target,c=e.contains(l),d=!1,h=o>0,p=0,g=0;do{var y=KL(n,l),w=y[0],b=y[1],E=y[2],S=b-E-s*w;(w||S)&&XL(n,l)&&(p+=S,g+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(d=!0),d},mm=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ak=function(n){return[n.deltaX,n.deltaY]},lk=function(n){return n&&"current"in n?n.current:n},T6=function(n,e){return n[0]===e[0]&&n[1]===e[1]},I6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},D6=0,Ku=[];function L6(n){var e=_.useRef([]),t=_.useRef([0,0]),r=_.useRef(),i=_.useState(D6++)[0],s=_.useState(WL)[0],o=_.useRef(n);_.useEffect(function(){o.current=n},[n]),_.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var b=e6([n.lockRef.current],(n.shards||[]).map(lk),!0).filter(Boolean);return b.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var l=_.useCallback(function(b,E){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var S=mm(b),A=t.current,R="deltaX"in b?b.deltaX:A[0]-S[0],I="deltaY"in b?b.deltaY:A[1]-S[1],N,L=b.target,z=Math.abs(R)>Math.abs(I)?"h":"v";if("touches"in b&&z==="h"&&L.type==="range")return!1;var V=ok(z,L);if(!V)return!0;if(V?N=z:(N=z==="v"?"h":"v",V=ok(z,L)),!V)return!1;if(!r.current&&"changedTouches"in b&&(R||I)&&(r.current=N),!N)return!0;var X=r.current||N;return P6(X,E,b,X==="h"?R:I)},[]),c=_.useCallback(function(b){var E=b;if(!(!Ku.length||Ku[Ku.length-1]!==s)){var S="deltaY"in E?ak(E):mm(E),A=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&T6(N.delta,S)})[0];if(A&&A.should){E.cancelable&&E.preventDefault();return}if(!A){var R=(o.current.shards||[]).map(lk).filter(Boolean).filter(function(N){return N.contains(E.target)}),I=R.length>0?l(E,R[0]):!o.current.noIsolation;I&&E.cancelable&&E.preventDefault()}}},[]),d=_.useCallback(function(b,E,S,A){var R={name:b,delta:E,target:S,should:A,shadowParent:M6(S)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(I){return I!==R})},1)},[]),h=_.useCallback(function(b){t.current=mm(b),r.current=void 0},[]),p=_.useCallback(function(b){d(b.type,ak(b),b.target,l(b,n.lockRef.current))},[]),g=_.useCallback(function(b){d(b.type,mm(b),b.target,l(b,n.lockRef.current))},[]);_.useEffect(function(){return Ku.push(s),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Xu),document.addEventListener("touchmove",c,Xu),document.addEventListener("touchstart",h,Xu),function(){Ku=Ku.filter(function(b){return b!==s}),document.removeEventListener("wheel",c,Xu),document.removeEventListener("touchmove",c,Xu),document.removeEventListener("touchstart",h,Xu)}},[]);var y=n.removeScrollBar,w=n.inert;return _.createElement(_.Fragment,null,w?_.createElement(s,{styles:I6(i)}):null,y?_.createElement(S6,{gapMode:n.gapMode}):null)}function M6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const N6=u6(GL,L6);var YL=_.forwardRef(function(n,e){return _.createElement(Pv,bs({},n,{ref:e,sideCar:N6}))});YL.classNames=Pv.classNames;var O6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Yu=new WeakMap,ym=new WeakMap,vm={},px=0,QL=function(n){return n&&(n.host||QL(n.parentNode))},F6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=QL(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},B6=function(n,e,t,r){var i=F6(e,Array.isArray(n)?n:[n]);vm[t]||(vm[t]=new WeakMap);var s=vm[t],o=[],l=new Set,c=new Set(i),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};i.forEach(d);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))h(g);else try{var y=g.getAttribute(r),w=y!==null&&y!=="false",b=(Yu.get(g)||0)+1,E=(s.get(g)||0)+1;Yu.set(g,b),s.set(g,E),o.push(g),b===1&&w&&ym.set(g,!0),E===1&&g.setAttribute(t,"true"),w||g.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return h(e),l.clear(),px++,function(){o.forEach(function(p){var g=Yu.get(p)-1,y=s.get(p)-1;Yu.set(p,g),s.set(p,y),g||(ym.has(p)||p.removeAttribute(r),ym.delete(p)),y||p.removeAttribute(t)}),px--,px||(Yu=new WeakMap,Yu=new WeakMap,ym=new WeakMap,vm={})}},z6=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=O6(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),B6(r,i,t,"aria-hidden")):function(){return null}},j0="Dialog",[JL,kY]=bP(j0),[j6,Ui]=JL(j0),ZL=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,l=_.useRef(null),c=_.useRef(null),[d=!1,h]=D5({prop:r,defaultProp:i,onChange:s});return O.jsx(j6,{scope:e,triggerRef:l,contentRef:c,contentId:ax(),titleId:ax(),descriptionId:ax(),open:d,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(p=>!p),[h]),modal:o,children:t})};ZL.displayName=j0;var eM="DialogTrigger",$0=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ui(eM,t),s=gu(e,i.triggerRef);return O.jsx($i.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":U0(i.open),...r,ref:s,onClick:Ca(n.onClick,i.onOpenToggle)})});$0.displayName=eM;var H0="DialogPortal",[$6,tM]=JL(H0,{forceMount:void 0}),nM=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=Ui(H0,e);return O.jsx($6,{scope:e,forceMount:t,children:_.Children.map(r,o=>O.jsx(kv,{present:t||s.open,children:O.jsx(HL,{asChild:!0,container:i,children:o})}))})};nM.displayName=H0;var Py="DialogOverlay",rM=_.forwardRef((n,e)=>{const t=tM(Py,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Ui(Py,n.__scopeDialog);return s.modal?O.jsx(kv,{present:r||s.open,children:O.jsx(H6,{...i,ref:e})}):null});rM.displayName=Py;var H6=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ui(Py,t);return O.jsx(YL,{as:tv,allowPinchZoom:!0,shards:[i.contentRef],children:O.jsx($i.div,{"data-state":U0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),cu="DialogContent",iM=_.forwardRef((n,e)=>{const t=tM(cu,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Ui(cu,n.__scopeDialog);return O.jsx(kv,{present:r||s.open,children:s.modal?O.jsx(V6,{...i,ref:e}):O.jsx(U6,{...i,ref:e})})});iM.displayName=cu;var V6=_.forwardRef((n,e)=>{const t=Ui(cu,n.__scopeDialog),r=_.useRef(null),i=gu(e,t.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return z6(s)},[]),O.jsx(sM,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ca(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ca(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ca(n.onFocusOutside,s=>s.preventDefault())})}),U6=_.forwardRef((n,e)=>{const t=Ui(cu,n.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return O.jsx(sM,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(l=t.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=t.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),sM=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,l=Ui(cu,t),c=_.useRef(null),d=gu(e,c);return Z5(),O.jsxs(O.Fragment,{children:[O.jsx(jL,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:O.jsx(BL,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(G6,{titleId:l.titleId}),O.jsx(q6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),V0="DialogTitle",oM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ui(V0,t);return O.jsx($i.h2,{id:i.titleId,...r,ref:e})});oM.displayName=V0;var aM="DialogDescription",lM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ui(aM,t);return O.jsx($i.p,{id:i.descriptionId,...r,ref:e})});lM.displayName=aM;var uM="DialogClose",cM=_.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ui(uM,t);return O.jsx($i.button,{type:"button",...r,ref:e,onClick:Ca(n.onClick,()=>i.onOpenChange(!1))})});cM.displayName=uM;function U0(n){return n?"open":"closed"}var dM="DialogTitleWarning",[PY,hM]=z2(dM,{contentName:cu,titleName:V0,docsSlug:"dialog"}),G6=({titleId:n})=>{const e=hM(dM),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},W6="DialogDescriptionWarning",q6=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hM(W6).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},X6=ZL,K6=$0,Y6=nM,fM=rM,pM=iM,gM=oM,mM=lM,Q6=cM;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yM=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...Z6,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:yM("lucide",i),...l},[...o.map(([d,h])=>_.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=(n,e)=>{const t=_.forwardRef(({className:r,...i},s)=>_.createElement(eq,{ref:s,iconNode:e,className:yM(`lucide-${J6(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rq=tq("X",nq),G0=X6,iq=K6,sq=Y6,vM=_.forwardRef(({className:n,...e},t)=>O.jsx(fM,{ref:t,className:Tt("fixed inset-0 z-50 bg-black/95  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));vM.displayName=fM.displayName;const Tv=_.forwardRef(({className:n,children:e,...t},r)=>O.jsxs(sq,{children:[O.jsx(vM,{}),O.jsxs(pM,{ref:r,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[90%] max-h-[95%] h-full h-scroll overflow-x-auto translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,O.jsxs(Q6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[O.jsx(rq,{className:"h-4 w-4"}),O.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tv.displayName=pM.displayName;const Iv=({className:n,...e})=>O.jsx("div",{className:Tt("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Iv.displayName="DialogHeader";const Dv=_.forwardRef(({className:n,...e},t)=>O.jsx(gM,{ref:t,className:Tt("text-lg font-semibold leading-none tracking-tight",n),...e}));Dv.displayName=gM.displayName;const wM=_.forwardRef(({className:n,...e},t)=>O.jsx(mM,{ref:t,className:Tt("text-sm text-muted-foreground",n),...e}));wM.displayName=mM.displayName;const TE=({field:n,value:e,confidence:t})=>{const r=()=>t>=95?"text-green-400":t>=70?"text-orange-400":"text-red-500";return O.jsxs("div",{className:"p-4 rounded-xl w-full",children:[O.jsx("div",{className:"text-sm text-gray-400",children:n}),O.jsx("div",{className:"text-xl font-semibold text-white",children:e}),O.jsxs("div",{className:`text-md font-medium ${r()}`,children:[t.toFixed(2),"%"]})]})},uk=({fieldInfo:n,name:e})=>{var p,g;const[t,r]=_.useState((p=n.values[0])!=null&&p.assoc_docs?(g=n.values[0])==null?void 0:g.assoc_docs[0]:Object.keys(n.assocDocsValues)[0]),{loanId:i,setFields:s,valueMap:o}=_.useContext(Vi),[l,c]=_.useState(),d=_.useRef(null),h=(y,w)=>{r(y),c(w)};return O.jsxs(G0,{children:[O.jsx(iq,{asChild:!0,children:O.jsx(vr,{className:"w-70",variant:"outline",children:`Inspect ${e}`})}),O.jsxs(Tv,{children:[O.jsxs(Iv,{children:[O.jsx(Dv,{children:`Inspect Field: ${e}`}),O.jsx(wM,{children:"Compare different values of the field as in different documents"})]}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx("div",{className:"w-1/2",children:t&&O.jsx(Rv,{file:`${zp}/get_pdf?loan_id=${i}&file_path=${uf(t)}`,annotation:l})}),O.jsxs("div",{className:"w-1/2 space-y-4",children:[O.jsx("h3",{children:"Edit value:"}),O.jsxs("div",{className:"flex w-full max-w-sm items-center space-x-2",children:[O.jsx(nv,{inputId:"field-button",type:"text",placeholder:"value",defaultValue:o[e],ref:d}),O.jsx(vr,{type:"submit",onClick:()=>d.current?s({[e]:d.current.value}):"",children:"Submit"})]}),O.jsx("h3",{className:"pt-5",children:"Warnings:"}),n.warnings.map((y,w)=>O.jsx("div",{style:{color:"orange"},children:y},w)),O.jsx("h3",{className:"pt-5",children:"Values by Document:"}),n.values.map((y,w)=>O.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[O.jsx(TE,{field:e,value:y.value,confidence:y.confidence*100}),O.jsx("div",{className:"flex flex-col",children:(y.assoc_docs??[]).map((b,E)=>O.jsxs(vr,{variant:"outline",onClick:()=>h(b,n.assocDocsValues[b][0]),className:"mt-2 mx-2",children:["Inspect ",uf(b)]},E))})]},w))]})]})]})]})},oq=({prevStep:n,nextStep:e})=>{const{loanId:t,setFields:r,valueMap:i}=_.useContext(Vi),s=["Name","SSN","Date of Birth","Address","Equifax Score","Transunion Score","Experian Score","Credit Mid Score"],[o,l]=_.useState([]),{data:c,loading:d,error:h}=aT(p=>{r(Object.fromEntries(s.map(g=>[g,p[g].values[0].value])))});return _.useEffect(()=>{c&&l(Object.values(c).flatMap(p=>p.warnings))},[c]),O.jsx(bd,{children:O.jsxs(xd,{className:"flex flex-col items-start gap-4 p-10 w-[95vw] h-[90vh] overflow-y-auto",children:[O.jsx("h1",{children:"Extracted Information"}),d?O.jsx(Op,{}):O.jsxs(O.Fragment,{children:[O.jsx("h2",{children:"Warnings"}),o.map((p,g)=>O.jsx("div",{style:{color:"orange"},children:p},g)),O.jsx("h2",{children:"Confidence Visualization"}),O.jsx("h3",{children:"Personal Information"}),s.slice(0,4).map(p=>O.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[c&&O.jsx(TE,{field:p,value:c[p].value.value,confidence:c[p].value.confidence*100}),c&&O.jsx(uk,{name:p,fieldInfo:c[p]})]},p)),O.jsx("h3",{children:"Credit"}),s.slice(4).map(p=>O.jsxs("div",{className:"flex flex-row justify-between items-center w-full",children:[c&&O.jsx(TE,{field:p,value:c[p].value.value,confidence:c[p].value.confidence*100}),c&&O.jsx(uk,{name:p,fieldInfo:c[p]})]},p)),O.jsxs("div",{className:"flex flex-row",children:[O.jsx(vr,{onClick:n,children:"Back"}),O.jsx(vr,{onClick:e,children:"Next"})]})]})]})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ba(n,e){return typeof n=="function"?n(e):n}function Wr(n,e){return t=>{e.setState(r=>({...r,[n]:ba(t,r[n])}))}}function Lv(n){return n instanceof Function}function aq(n){return Array.isArray(n)&&n.every(e=>typeof e=="number")}function lq(n,e){const t=[],r=i=>{i.forEach(s=>{t.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(n),t}function Be(n,e,t){let r=[],i;return s=>{let o;t.key&&t.debug&&(o=Date.now());const l=n(s);if(!(l.length!==r.length||l.some((h,p)=>r[p]!==h)))return i;r=l;let d;if(t.key&&t.debug&&(d=Date.now()),i=e(...l),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const h=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-d)*100)/100,g=p/16,y=(w,b)=>{for(w=String(w);w.length<b;)w=" "+w;return w};console.info(`%c ${y(p,5)} /${y(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,t==null?void 0:t.key)}return i}}function ze(n,e,t,r){return{debug:()=>{var i;return(i=n==null?void 0:n.debugAll)!=null?i:n[e]},key:!1,onChange:r}}function uq(n,e,t,r){const i=()=>{var o;return(o=s.getValue())!=null?o:n.options.renderFallbackValue},s={id:`${e.id}_${t.id}`,row:e,column:t,getValue:()=>e.getValue(r),renderValue:i,getContext:Be(()=>[n,t,e,s],(o,l,c,d)=>({table:o,column:l,row:c,cell:d,getValue:d.getValue,renderValue:d.renderValue}),ze(n.options,"debugCells"))};return n._features.forEach(o=>{o.createCell==null||o.createCell(s,t,e,n)},{}),s}function cq(n,e,t,r){var i,s;const l={...n._getDefaultColumnDef(),...e},c=l.accessorKey;let d=(i=(s=l.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,h;if(l.accessorFn?h=l.accessorFn:c&&(c.includes(".")?h=g=>{let y=g;for(const b of c.split(".")){var w;y=(w=y)==null?void 0:w[b]}return y}:h=g=>g[l.accessorKey]),!d)throw new Error;let p={id:`${String(d)}`,accessorFn:h,parent:r,depth:t,columnDef:l,columns:[],getFlatColumns:Be(()=>[!0],()=>{var g;return[p,...(g=p.columns)==null?void 0:g.flatMap(y=>y.getFlatColumns())]},ze(n.options,"debugColumns")),getLeafColumns:Be(()=>[n._getOrderColumnsFn()],g=>{var y;if((y=p.columns)!=null&&y.length){let w=p.columns.flatMap(b=>b.getLeafColumns());return g(w)}return[p]},ze(n.options,"debugColumns"))};for(const g of n._features)g.createColumn==null||g.createColumn(p,n);return p}const Nn="debugHeaders";function ck(n,e,t){var r;let s={id:(r=t.id)!=null?r:e.id,column:e,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(s),o},getContext:()=>({table:n,header:s,column:e})};return n._features.forEach(o=>{o.createHeader==null||o.createHeader(s,n)}),s}const dq={createTable:n=>{n.getHeaderGroups=Be(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,r,i)=>{var s,o;const l=(s=r==null?void 0:r.map(p=>t.find(g=>g.id===p)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(p=>t.find(g=>g.id===p)).filter(Boolean))!=null?o:[],d=t.filter(p=>!(r!=null&&r.includes(p.id))&&!(i!=null&&i.includes(p.id)));return wm(e,[...l,...d,...c],n)},ze(n.options,Nn)),n.getCenterHeaderGroups=Be(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,r,i)=>(t=t.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),wm(e,t,n,"center")),ze(n.options,Nn)),n.getLeftHeaderGroups=Be(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left],(e,t,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return wm(e,s,n,"left")},ze(n.options,Nn)),n.getRightHeaderGroups=Be(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.right],(e,t,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return wm(e,s,n,"right")},ze(n.options,Nn)),n.getFooterGroups=Be(()=>[n.getHeaderGroups()],e=>[...e].reverse(),ze(n.options,Nn)),n.getLeftFooterGroups=Be(()=>[n.getLeftHeaderGroups()],e=>[...e].reverse(),ze(n.options,Nn)),n.getCenterFooterGroups=Be(()=>[n.getCenterHeaderGroups()],e=>[...e].reverse(),ze(n.options,Nn)),n.getRightFooterGroups=Be(()=>[n.getRightHeaderGroups()],e=>[...e].reverse(),ze(n.options,Nn)),n.getFlatHeaders=Be(()=>[n.getHeaderGroups()],e=>e.map(t=>t.headers).flat(),ze(n.options,Nn)),n.getLeftFlatHeaders=Be(()=>[n.getLeftHeaderGroups()],e=>e.map(t=>t.headers).flat(),ze(n.options,Nn)),n.getCenterFlatHeaders=Be(()=>[n.getCenterHeaderGroups()],e=>e.map(t=>t.headers).flat(),ze(n.options,Nn)),n.getRightFlatHeaders=Be(()=>[n.getRightHeaderGroups()],e=>e.map(t=>t.headers).flat(),ze(n.options,Nn)),n.getCenterLeafHeaders=Be(()=>[n.getCenterFlatHeaders()],e=>e.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),ze(n.options,Nn)),n.getLeftLeafHeaders=Be(()=>[n.getLeftFlatHeaders()],e=>e.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),ze(n.options,Nn)),n.getRightLeafHeaders=Be(()=>[n.getRightFlatHeaders()],e=>e.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),ze(n.options,Nn)),n.getLeafHeaders=Be(()=>[n.getLeftHeaderGroups(),n.getCenterHeaderGroups(),n.getRightHeaderGroups()],(e,t,r)=>{var i,s,o,l,c,d;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(c=(d=r[0])==null?void 0:d.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},ze(n.options,Nn))}};function wm(n,e,t,r){var i,s;let o=0;const l=function(g,y){y===void 0&&(y=1),o=Math.max(o,y),g.filter(w=>w.getIsVisible()).forEach(w=>{var b;(b=w.columns)!=null&&b.length&&l(w.columns,y+1)},0)};l(n);let c=[];const d=(g,y)=>{const w={depth:y,id:[r,`${y}`].filter(Boolean).join("_"),headers:[]},b=[];g.forEach(E=>{const S=[...b].reverse()[0],A=E.column.depth===w.depth;let R,I=!1;if(A&&E.column.parent?R=E.column.parent:(R=E.column,I=!0),S&&(S==null?void 0:S.column)===R)S.subHeaders.push(E);else{const N=ck(t,R,{id:[r,y,R.id,E==null?void 0:E.id].filter(Boolean).join("_"),isPlaceholder:I,placeholderId:I?`${b.filter(L=>L.column===R).length}`:void 0,depth:y,index:b.length});N.subHeaders.push(E),b.push(N)}w.headers.push(E),E.headerGroup=w}),c.push(w),y>0&&d(b,y-1)},h=e.map((g,y)=>ck(t,g,{depth:o,index:y}));d(h,o-1),c.reverse();const p=g=>g.filter(w=>w.column.getIsVisible()).map(w=>{let b=0,E=0,S=[0];w.subHeaders&&w.subHeaders.length?(S=[],p(w.subHeaders).forEach(R=>{let{colSpan:I,rowSpan:N}=R;b+=I,S.push(N)})):b=1;const A=Math.min(...S);return E=E+A,w.colSpan=b,w.rowSpan=E,{colSpan:b,rowSpan:E}});return p((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const hq=(n,e,t,r,i,s,o)=>{let l={id:e,index:r,original:t,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const d=n.getColumn(c);if(d!=null&&d.accessorFn)return l._valuesCache[c]=d.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const d=n.getColumn(c);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var d;return(d=l.getValue(c))!=null?d:n.options.renderFallbackValue},subRows:[],getLeafRows:()=>lq(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?n.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],d=l;for(;;){const h=d.getParentRow();if(!h)break;c.push(h),d=h}return c.reverse()},getAllCells:Be(()=>[n.getAllLeafColumns()],c=>c.map(d=>uq(n,l,d,d.id)),ze(n.options,"debugRows")),_getAllCellsByColumnId:Be(()=>[l.getAllCells()],c=>c.reduce((d,h)=>(d[h.column.id]=h,d),{}),ze(n.options,"debugRows"))};for(let c=0;c<n._features.length;c++){const d=n._features[c];d==null||d.createRow==null||d.createRow(l,n)}return l},fq={createColumn:(n,e)=>{n._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,n.id),n.getFacetedRowModel=()=>n._getFacetedRowModel?n._getFacetedRowModel():e.getPreFilteredRowModel(),n._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,n.id),n.getFacetedUniqueValues=()=>n._getFacetedUniqueValues?n._getFacetedUniqueValues():new Map,n._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,n.id),n.getFacetedMinMaxValues=()=>{if(n._getFacetedMinMaxValues)return n._getFacetedMinMaxValues()}}},bM=(n,e,t)=>{var r,i;const s=t==null||(r=t.toString())==null?void 0:r.toLowerCase();return!!(!((i=n.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};bM.autoRemove=n=>zi(n);const xM=(n,e,t)=>{var r;return!!(!((r=n.getValue(e))==null||(r=r.toString())==null)&&r.includes(t))};xM.autoRemove=n=>zi(n);const SM=(n,e,t)=>{var r;return((r=n.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase())};SM.autoRemove=n=>zi(n);const EM=(n,e,t)=>{var r;return(r=n.getValue(e))==null?void 0:r.includes(t)};EM.autoRemove=n=>zi(n)||!(n!=null&&n.length);const CM=(n,e,t)=>!t.some(r=>{var i;return!((i=n.getValue(e))!=null&&i.includes(r))});CM.autoRemove=n=>zi(n)||!(n!=null&&n.length);const AM=(n,e,t)=>t.some(r=>{var i;return(i=n.getValue(e))==null?void 0:i.includes(r)});AM.autoRemove=n=>zi(n)||!(n!=null&&n.length);const _M=(n,e,t)=>n.getValue(e)===t;_M.autoRemove=n=>zi(n);const RM=(n,e,t)=>n.getValue(e)==t;RM.autoRemove=n=>zi(n);const W0=(n,e,t)=>{let[r,i]=t;const s=n.getValue(e);return s>=r&&s<=i};W0.resolveFilterValue=n=>{let[e,t]=n,r=typeof e!="number"?parseFloat(e):e,i=typeof t!="number"?parseFloat(t):t,s=e===null||Number.isNaN(r)?-1/0:r,o=t===null||Number.isNaN(i)?1/0:i;if(s>o){const l=s;s=o,o=l}return[s,o]};W0.autoRemove=n=>zi(n)||zi(n[0])&&zi(n[1]);const Os={includesString:bM,includesStringSensitive:xM,equalsString:SM,arrIncludes:EM,arrIncludesAll:CM,arrIncludesSome:AM,equals:_M,weakEquals:RM,inNumberRange:W0};function zi(n){return n==null||n===""}const pq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:n=>({columnFilters:[],...n}),getDefaultOptions:n=>({onColumnFiltersChange:Wr("columnFilters",n),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(n,e)=>{n.getAutoFilterFn=()=>{const t=e.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(n.id);return typeof r=="string"?Os.includesString:typeof r=="number"?Os.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Os.equals:Array.isArray(r)?Os.arrIncludes:Os.weakEquals},n.getFilterFn=()=>{var t,r;return Lv(n.columnDef.filterFn)?n.columnDef.filterFn:n.columnDef.filterFn==="auto"?n.getAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n.columnDef.filterFn])!=null?t:Os[n.columnDef.filterFn]},n.getCanFilter=()=>{var t,r,i;return((t=n.columnDef.enableColumnFilter)!=null?t:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!n.accessorFn},n.getIsFiltered=()=>n.getFilterIndex()>-1,n.getFilterValue=()=>{var t;return(t=e.getState().columnFilters)==null||(t=t.find(r=>r.id===n.id))==null?void 0:t.value},n.getFilterIndex=()=>{var t,r;return(t=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===n.id))!=null?t:-1},n.setFilterValue=t=>{e.setColumnFilters(r=>{const i=n.getFilterFn(),s=r==null?void 0:r.find(h=>h.id===n.id),o=ba(t,s?s.value:void 0);if(dk(i,o,n)){var l;return(l=r==null?void 0:r.filter(h=>h.id!==n.id))!=null?l:[]}const c={id:n.id,value:o};if(s){var d;return(d=r==null?void 0:r.map(h=>h.id===n.id?c:h))!=null?d:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(n,e)=>{n.columnFilters={},n.columnFiltersMeta={}},createTable:n=>{n.setColumnFilters=e=>{const t=n.getAllLeafColumns(),r=i=>{var s;return(s=ba(e,i))==null?void 0:s.filter(o=>{const l=t.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(dk(c,o.value,l))return!1}return!0})};n.options.onColumnFiltersChange==null||n.options.onColumnFiltersChange(r)},n.resetColumnFilters=e=>{var t,r;n.setColumnFilters(e?[]:(t=(r=n.initialState)==null?void 0:r.columnFilters)!=null?t:[])},n.getPreFilteredRowModel=()=>n.getCoreRowModel(),n.getFilteredRowModel=()=>(!n._getFilteredRowModel&&n.options.getFilteredRowModel&&(n._getFilteredRowModel=n.options.getFilteredRowModel(n)),n.options.manualFiltering||!n._getFilteredRowModel?n.getPreFilteredRowModel():n._getFilteredRowModel())}};function dk(n,e,t){return(n&&n.autoRemove?n.autoRemove(e,t):!1)||typeof e>"u"||typeof e=="string"&&!e}const gq=(n,e,t)=>t.reduce((r,i)=>{const s=i.getValue(n);return r+(typeof s=="number"?s:0)},0),mq=(n,e,t)=>{let r;return t.forEach(i=>{const s=i.getValue(n);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},yq=(n,e,t)=>{let r;return t.forEach(i=>{const s=i.getValue(n);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},vq=(n,e,t)=>{let r,i;return t.forEach(s=>{const o=s.getValue(n);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},wq=(n,e)=>{let t=0,r=0;if(e.forEach(i=>{let s=i.getValue(n);s!=null&&(s=+s)>=s&&(++t,r+=s)}),t)return r/t},bq=(n,e)=>{if(!e.length)return;const t=e.map(s=>s.getValue(n));if(!aq(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),i=t.sort((s,o)=>s-o);return t.length%2!==0?i[r]:(i[r-1]+i[r])/2},xq=(n,e)=>Array.from(new Set(e.map(t=>t.getValue(n))).values()),Sq=(n,e)=>new Set(e.map(t=>t.getValue(n))).size,Eq=(n,e)=>e.length,gx={sum:gq,min:mq,max:yq,extent:vq,mean:wq,median:bq,unique:xq,uniqueCount:Sq,count:Eq},Cq={getDefaultColumnDef:()=>({aggregatedCell:n=>{var e,t;return(e=(t=n.getValue())==null||t.toString==null?void 0:t.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:n=>({grouping:[],...n}),getDefaultOptions:n=>({onGroupingChange:Wr("grouping",n),groupedColumnMode:"reorder"}),createColumn:(n,e)=>{n.toggleGrouping=()=>{e.setGrouping(t=>t!=null&&t.includes(n.id)?t.filter(r=>r!==n.id):[...t??[],n.id])},n.getCanGroup=()=>{var t,r;return((t=n.columnDef.enableGrouping)!=null?t:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!n.accessorFn||!!n.columnDef.getGroupingValue)},n.getIsGrouped=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.includes(n.id)},n.getGroupedIndex=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.indexOf(n.id)},n.getToggleGroupingHandler=()=>{const t=n.getCanGroup();return()=>{t&&n.toggleGrouping()}},n.getAutoAggregationFn=()=>{const t=e.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(n.id);if(typeof r=="number")return gx.sum;if(Object.prototype.toString.call(r)==="[object Date]")return gx.extent},n.getAggregationFn=()=>{var t,r;if(!n)throw new Error;return Lv(n.columnDef.aggregationFn)?n.columnDef.aggregationFn:n.columnDef.aggregationFn==="auto"?n.getAutoAggregationFn():(t=(r=e.options.aggregationFns)==null?void 0:r[n.columnDef.aggregationFn])!=null?t:gx[n.columnDef.aggregationFn]}},createTable:n=>{n.setGrouping=e=>n.options.onGroupingChange==null?void 0:n.options.onGroupingChange(e),n.resetGrouping=e=>{var t,r;n.setGrouping(e?[]:(t=(r=n.initialState)==null?void 0:r.grouping)!=null?t:[])},n.getPreGroupedRowModel=()=>n.getFilteredRowModel(),n.getGroupedRowModel=()=>(!n._getGroupedRowModel&&n.options.getGroupedRowModel&&(n._getGroupedRowModel=n.options.getGroupedRowModel(n)),n.options.manualGrouping||!n._getGroupedRowModel?n.getPreGroupedRowModel():n._getGroupedRowModel())},createRow:(n,e)=>{n.getIsGrouped=()=>!!n.groupingColumnId,n.getGroupingValue=t=>{if(n._groupingValuesCache.hasOwnProperty(t))return n._groupingValuesCache[t];const r=e.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(n._groupingValuesCache[t]=r.columnDef.getGroupingValue(n.original),n._groupingValuesCache[t]):n.getValue(t)},n._groupingValuesCache={}},createCell:(n,e,t,r)=>{n.getIsGrouped=()=>e.getIsGrouped()&&e.id===t.groupingColumnId,n.getIsPlaceholder=()=>!n.getIsGrouped()&&e.getIsGrouped(),n.getIsAggregated=()=>{var i;return!n.getIsGrouped()&&!n.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function Aq(n,e,t){if(!(e!=null&&e.length)||!t)return n;const r=n.filter(s=>!e.includes(s.id));return t==="remove"?r:[...e.map(s=>n.find(o=>o.id===s)).filter(Boolean),...r]}const _q={getInitialState:n=>({columnOrder:[],...n}),getDefaultOptions:n=>({onColumnOrderChange:Wr("columnOrder",n)}),createColumn:(n,e)=>{n.getIndex=Be(t=>[Xh(e,t)],t=>t.findIndex(r=>r.id===n.id),ze(e.options,"debugColumns")),n.getIsFirstColumn=t=>{var r;return((r=Xh(e,t)[0])==null?void 0:r.id)===n.id},n.getIsLastColumn=t=>{var r;const i=Xh(e,t);return((r=i[i.length-1])==null?void 0:r.id)===n.id}},createTable:n=>{n.setColumnOrder=e=>n.options.onColumnOrderChange==null?void 0:n.options.onColumnOrderChange(e),n.resetColumnOrder=e=>{var t;n.setColumnOrder(e?[]:(t=n.initialState.columnOrder)!=null?t:[])},n._getOrderColumnsFn=Be(()=>[n.getState().columnOrder,n.getState().grouping,n.options.groupedColumnMode],(e,t,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],l=[...i];for(;l.length&&o.length;){const c=o.shift(),d=l.findIndex(h=>h.id===c);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return Aq(s,t,r)},ze(n.options,"debugTable"))}},mx=()=>({left:[],right:[]}),Rq={getInitialState:n=>({columnPinning:mx(),...n}),getDefaultOptions:n=>({onColumnPinningChange:Wr("columnPinning",n)}),createColumn:(n,e)=>{n.pin=t=>{const r=n.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(t==="right"){var l,c;return{left:((l=i==null?void 0:i.left)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(t==="left"){var d,h;return{left:[...((d=i==null?void 0:i.left)!=null?d:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((h=i==null?void 0:i.right)!=null?h:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(p=>!(r!=null&&r.includes(p))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(p=>!(r!=null&&r.includes(p)))}})},n.getCanPin=()=>n.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),n.getIsPinned=()=>{const t=n.getLeafColumns().map(l=>l.id),{left:r,right:i}=e.getState().columnPinning,s=t.some(l=>r==null?void 0:r.includes(l)),o=t.some(l=>i==null?void 0:i.includes(l));return s?"left":o?"right":!1},n.getPinnedIndex=()=>{var t,r;const i=n.getIsPinned();return i?(t=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(n.id))!=null?t:-1:0}},createRow:(n,e)=>{n.getCenterVisibleCells=Be(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,i)=>{const s=[...r??[],...i??[]];return t.filter(o=>!s.includes(o.column.id))},ze(e.options,"debugRows")),n.getLeftVisibleCells=Be(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),ze(e.options,"debugRows")),n.getRightVisibleCells=Be(()=>[n._getAllVisibleCells(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(s=>t.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),ze(e.options,"debugRows"))},createTable:n=>{n.setColumnPinning=e=>n.options.onColumnPinningChange==null?void 0:n.options.onColumnPinningChange(e),n.resetColumnPinning=e=>{var t,r;return n.setColumnPinning(e?mx():(t=(r=n.initialState)==null?void 0:r.columnPinning)!=null?t:mx())},n.getIsSomeColumnsPinned=e=>{var t;const r=n.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((t=r[e])!=null&&t.length)},n.getLeftLeafColumns=Be(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left],(e,t)=>(t??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(n.options,"debugColumns")),n.getRightLeafColumns=Be(()=>[n.getAllLeafColumns(),n.getState().columnPinning.right],(e,t)=>(t??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),ze(n.options,"debugColumns")),n.getCenterLeafColumns=Be(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,r)=>{const i=[...t??[],...r??[]];return e.filter(s=>!i.includes(s.id))},ze(n.options,"debugColumns"))}},bm={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},yx=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),kq={getDefaultColumnDef:()=>bm,getInitialState:n=>({columnSizing:{},columnSizingInfo:yx(),...n}),getDefaultOptions:n=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Wr("columnSizing",n),onColumnSizingInfoChange:Wr("columnSizingInfo",n)}),createColumn:(n,e)=>{n.getSize=()=>{var t,r,i;const s=e.getState().columnSizing[n.id];return Math.min(Math.max((t=n.columnDef.minSize)!=null?t:bm.minSize,(r=s??n.columnDef.size)!=null?r:bm.size),(i=n.columnDef.maxSize)!=null?i:bm.maxSize)},n.getStart=Be(t=>[t,Xh(e,t),e.getState().columnSizing],(t,r)=>r.slice(0,n.getIndex(t)).reduce((i,s)=>i+s.getSize(),0),ze(e.options,"debugColumns")),n.getAfter=Be(t=>[t,Xh(e,t),e.getState().columnSizing],(t,r)=>r.slice(n.getIndex(t)+1).reduce((i,s)=>i+s.getSize(),0),ze(e.options,"debugColumns")),n.resetSize=()=>{e.setColumnSizing(t=>{let{[n.id]:r,...i}=t;return i})},n.getCanResize=()=>{var t,r;return((t=n.columnDef.enableResizing)!=null?t:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},n.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===n.id},createHeader:(n,e)=>{n.getSize=()=>{let t=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;t+=(s=i.column.getSize())!=null?s:0}};return r(n),t},n.getStart=()=>{if(n.index>0){const t=n.headerGroup.headers[n.index-1];return t.getStart()+t.getSize()}return 0},n.getResizeHandler=t=>{const r=e.getColumn(n.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),vx(s)&&s.touches&&s.touches.length>1))return;const o=n.getSize(),l=n?n.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[r.id,r.getSize()]],c=vx(s)?Math.round(s.touches[0].clientX):s.clientX,d={},h=(S,A)=>{typeof A=="number"&&(e.setColumnSizingInfo(R=>{var I,N;const L=e.options.columnResizeDirection==="rtl"?-1:1,z=(A-((I=R==null?void 0:R.startOffset)!=null?I:0))*L,V=Math.max(z/((N=R==null?void 0:R.startSize)!=null?N:0),-.999999);return R.columnSizingStart.forEach(X=>{let[Q,W]=X;d[Q]=Math.round(Math.max(W+W*V,0)*100)/100}),{...R,deltaOffset:z,deltaPercentage:V}}),(e.options.columnResizeMode==="onChange"||S==="end")&&e.setColumnSizing(R=>({...R,...d})))},p=S=>h("move",S),g=S=>{h("end",S),e.setColumnSizingInfo(A=>({...A,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},y=t||typeof document<"u"?document:null,w={moveHandler:S=>p(S.clientX),upHandler:S=>{y==null||y.removeEventListener("mousemove",w.moveHandler),y==null||y.removeEventListener("mouseup",w.upHandler),g(S.clientX)}},b={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),p(S.touches[0].clientX),!1),upHandler:S=>{var A;y==null||y.removeEventListener("touchmove",b.moveHandler),y==null||y.removeEventListener("touchend",b.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),g((A=S.touches[0])==null?void 0:A.clientX)}},E=Pq()?{passive:!1}:!1;vx(s)?(y==null||y.addEventListener("touchmove",b.moveHandler,E),y==null||y.addEventListener("touchend",b.upHandler,E)):(y==null||y.addEventListener("mousemove",w.moveHandler,E),y==null||y.addEventListener("mouseup",w.upHandler,E)),e.setColumnSizingInfo(S=>({...S,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:n=>{n.setColumnSizing=e=>n.options.onColumnSizingChange==null?void 0:n.options.onColumnSizingChange(e),n.setColumnSizingInfo=e=>n.options.onColumnSizingInfoChange==null?void 0:n.options.onColumnSizingInfoChange(e),n.resetColumnSizing=e=>{var t;n.setColumnSizing(e?{}:(t=n.initialState.columnSizing)!=null?t:{})},n.resetHeaderSizeInfo=e=>{var t;n.setColumnSizingInfo(e?yx():(t=n.initialState.columnSizingInfo)!=null?t:yx())},n.getTotalSize=()=>{var e,t;return(e=(t=n.getHeaderGroups()[0])==null?void 0:t.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},n.getLeftTotalSize=()=>{var e,t;return(e=(t=n.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},n.getCenterTotalSize=()=>{var e,t;return(e=(t=n.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},n.getRightTotalSize=()=>{var e,t;return(e=(t=n.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let xm=null;function Pq(){if(typeof xm=="boolean")return xm;let n=!1;try{const e={get passive(){return n=!0,!1}},t=()=>{};window.addEventListener("test",t,e),window.removeEventListener("test",t)}catch{n=!1}return xm=n,xm}function vx(n){return n.type==="touchstart"}const Tq={getInitialState:n=>({columnVisibility:{},...n}),getDefaultOptions:n=>({onColumnVisibilityChange:Wr("columnVisibility",n)}),createColumn:(n,e)=>{n.toggleVisibility=t=>{n.getCanHide()&&e.setColumnVisibility(r=>({...r,[n.id]:t??!n.getIsVisible()}))},n.getIsVisible=()=>{var t,r;const i=n.columns;return(t=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[n.id])!=null?t:!0},n.getCanHide=()=>{var t,r;return((t=n.columnDef.enableHiding)!=null?t:!0)&&((r=e.options.enableHiding)!=null?r:!0)},n.getToggleVisibilityHandler=()=>t=>{n.toggleVisibility==null||n.toggleVisibility(t.target.checked)}},createRow:(n,e)=>{n._getAllVisibleCells=Be(()=>[n.getAllCells(),e.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),ze(e.options,"debugRows")),n.getVisibleCells=Be(()=>[n.getLeftVisibleCells(),n.getCenterVisibleCells(),n.getRightVisibleCells()],(t,r,i)=>[...t,...r,...i],ze(e.options,"debugRows"))},createTable:n=>{const e=(t,r)=>Be(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),ze(n.options,"debugColumns"));n.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>n.getAllFlatColumns()),n.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>n.getAllLeafColumns()),n.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>n.getLeftLeafColumns()),n.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>n.getRightLeafColumns()),n.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>n.getCenterLeafColumns()),n.setColumnVisibility=t=>n.options.onColumnVisibilityChange==null?void 0:n.options.onColumnVisibilityChange(t),n.resetColumnVisibility=t=>{var r;n.setColumnVisibility(t?{}:(r=n.initialState.columnVisibility)!=null?r:{})},n.toggleAllColumnsVisible=t=>{var r;t=(r=t)!=null?r:!n.getIsAllColumnsVisible(),n.setColumnVisibility(n.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},n.getIsAllColumnsVisible=()=>!n.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),n.getIsSomeColumnsVisible=()=>n.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),n.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;n.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}};function Xh(n,e){return e?e==="center"?n.getCenterVisibleLeafColumns():e==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns()}const Iq={createTable:n=>{n._getGlobalFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,"__global__"),n.getGlobalFacetedRowModel=()=>n.options.manualFiltering||!n._getGlobalFacetedRowModel?n.getPreFilteredRowModel():n._getGlobalFacetedRowModel(),n._getGlobalFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,"__global__"),n.getGlobalFacetedUniqueValues=()=>n._getGlobalFacetedUniqueValues?n._getGlobalFacetedUniqueValues():new Map,n._getGlobalFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,"__global__"),n.getGlobalFacetedMinMaxValues=()=>{if(n._getGlobalFacetedMinMaxValues)return n._getGlobalFacetedMinMaxValues()}}},Dq={getInitialState:n=>({globalFilter:void 0,...n}),getDefaultOptions:n=>({onGlobalFilterChange:Wr("globalFilter",n),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var t;const r=(t=n.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[e.id])==null?void 0:t.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(n,e)=>{n.getCanGlobalFilter=()=>{var t,r,i,s;return((t=n.columnDef.enableGlobalFilter)!=null?t:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(n))!=null?s:!0)&&!!n.accessorFn}},createTable:n=>{n.getGlobalAutoFilterFn=()=>Os.includesString,n.getGlobalFilterFn=()=>{var e,t;const{globalFilterFn:r}=n.options;return Lv(r)?r:r==="auto"?n.getGlobalAutoFilterFn():(e=(t=n.options.filterFns)==null?void 0:t[r])!=null?e:Os[r]},n.setGlobalFilter=e=>{n.options.onGlobalFilterChange==null||n.options.onGlobalFilterChange(e)},n.resetGlobalFilter=e=>{n.setGlobalFilter(e?void 0:n.initialState.globalFilter)}}},Lq={getInitialState:n=>({expanded:{},...n}),getDefaultOptions:n=>({onExpandedChange:Wr("expanded",n),paginateExpandedRows:!0}),createTable:n=>{let e=!1,t=!1;n._autoResetExpanded=()=>{var r,i;if(!e){n._queue(()=>{e=!0});return}if((r=(i=n.options.autoResetAll)!=null?i:n.options.autoResetExpanded)!=null?r:!n.options.manualExpanding){if(t)return;t=!0,n._queue(()=>{n.resetExpanded(),t=!1})}},n.setExpanded=r=>n.options.onExpandedChange==null?void 0:n.options.onExpandedChange(r),n.toggleAllRowsExpanded=r=>{r??!n.getIsAllRowsExpanded()?n.setExpanded(!0):n.setExpanded({})},n.resetExpanded=r=>{var i,s;n.setExpanded(r?{}:(i=(s=n.initialState)==null?void 0:s.expanded)!=null?i:{})},n.getCanSomeRowsExpand=()=>n.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),n.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),n.toggleAllRowsExpanded()},n.getIsSomeRowsExpanded=()=>{const r=n.getState().expanded;return r===!0||Object.values(r).some(Boolean)},n.getIsAllRowsExpanded=()=>{const r=n.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||n.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},n.getExpandedDepth=()=>{let r=0;return(n.getState().expanded===!0?Object.keys(n.getRowModel().rowsById):Object.keys(n.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},n.getPreExpandedRowModel=()=>n.getSortedRowModel(),n.getExpandedRowModel=()=>(!n._getExpandedRowModel&&n.options.getExpandedRowModel&&(n._getExpandedRowModel=n.options.getExpandedRowModel(n)),n.options.manualExpanding||!n._getExpandedRowModel?n.getPreExpandedRowModel():n._getExpandedRowModel())},createRow:(n,e)=>{n.toggleExpanded=t=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[n.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,t=(i=t)!=null?i:!s,!s&&t)return{...o,[n.id]:!0};if(s&&!t){const{[n.id]:l,...c}=o;return c}return r})},n.getIsExpanded=()=>{var t;const r=e.getState().expanded;return!!((t=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(n))!=null?t:r===!0||r!=null&&r[n.id])},n.getCanExpand=()=>{var t,r,i;return(t=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(n))!=null?t:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=n.subRows)!=null&&i.length)},n.getIsAllParentsExpanded=()=>{let t=!0,r=n;for(;t&&r.parentId;)r=e.getRow(r.parentId,!0),t=r.getIsExpanded();return t},n.getToggleExpandedHandler=()=>{const t=n.getCanExpand();return()=>{t&&n.toggleExpanded()}}}},IE=0,DE=10,wx=()=>({pageIndex:IE,pageSize:DE}),Mq={getInitialState:n=>({...n,pagination:{...wx(),...n==null?void 0:n.pagination}}),getDefaultOptions:n=>({onPaginationChange:Wr("pagination",n)}),createTable:n=>{let e=!1,t=!1;n._autoResetPageIndex=()=>{var r,i;if(!e){n._queue(()=>{e=!0});return}if((r=(i=n.options.autoResetAll)!=null?i:n.options.autoResetPageIndex)!=null?r:!n.options.manualPagination){if(t)return;t=!0,n._queue(()=>{n.resetPageIndex(),t=!1})}},n.setPagination=r=>{const i=s=>ba(r,s);return n.options.onPaginationChange==null?void 0:n.options.onPaginationChange(i)},n.resetPagination=r=>{var i;n.setPagination(r?wx():(i=n.initialState.pagination)!=null?i:wx())},n.setPageIndex=r=>{n.setPagination(i=>{let s=ba(r,i.pageIndex);const o=typeof n.options.pageCount>"u"||n.options.pageCount===-1?Number.MAX_SAFE_INTEGER:n.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},n.resetPageIndex=r=>{var i,s;n.setPageIndex(r?IE:(i=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:IE)},n.resetPageSize=r=>{var i,s;n.setPageSize(r?DE:(i=(s=n.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:DE)},n.setPageSize=r=>{n.setPagination(i=>{const s=Math.max(1,ba(r,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/s);return{...i,pageIndex:l,pageSize:s}})},n.setPageCount=r=>n.setPagination(i=>{var s;let o=ba(r,(s=n.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),n.getPageOptions=Be(()=>[n.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},ze(n.options,"debugTable")),n.getCanPreviousPage=()=>n.getState().pagination.pageIndex>0,n.getCanNextPage=()=>{const{pageIndex:r}=n.getState().pagination,i=n.getPageCount();return i===-1?!0:i===0?!1:r<i-1},n.previousPage=()=>n.setPageIndex(r=>r-1),n.nextPage=()=>n.setPageIndex(r=>r+1),n.firstPage=()=>n.setPageIndex(0),n.lastPage=()=>n.setPageIndex(n.getPageCount()-1),n.getPrePaginationRowModel=()=>n.getExpandedRowModel(),n.getPaginationRowModel=()=>(!n._getPaginationRowModel&&n.options.getPaginationRowModel&&(n._getPaginationRowModel=n.options.getPaginationRowModel(n)),n.options.manualPagination||!n._getPaginationRowModel?n.getPrePaginationRowModel():n._getPaginationRowModel()),n.getPageCount=()=>{var r;return(r=n.options.pageCount)!=null?r:Math.ceil(n.getRowCount()/n.getState().pagination.pageSize)},n.getRowCount=()=>{var r;return(r=n.options.rowCount)!=null?r:n.getPrePaginationRowModel().rows.length}}},bx=()=>({top:[],bottom:[]}),Nq={getInitialState:n=>({rowPinning:bx(),...n}),getDefaultOptions:n=>({onRowPinningChange:Wr("rowPinning",n)}),createRow:(n,e)=>{n.pin=(t,r,i)=>{const s=r?n.getLeafRows().map(c=>{let{id:d}=c;return d}):[],o=i?n.getParentRows().map(c=>{let{id:d}=c;return d}):[],l=new Set([...o,n.id,...s]);e.setRowPinning(c=>{var d,h;if(t==="bottom"){var p,g;return{top:((p=c==null?void 0:c.top)!=null?p:[]).filter(b=>!(l!=null&&l.has(b))),bottom:[...((g=c==null?void 0:c.bottom)!=null?g:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)]}}if(t==="top"){var y,w;return{top:[...((y=c==null?void 0:c.top)!=null?y:[]).filter(b=>!(l!=null&&l.has(b))),...Array.from(l)],bottom:((w=c==null?void 0:c.bottom)!=null?w:[]).filter(b=>!(l!=null&&l.has(b)))}}return{top:((d=c==null?void 0:c.top)!=null?d:[]).filter(b=>!(l!=null&&l.has(b))),bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(b=>!(l!=null&&l.has(b)))}})},n.getCanPin=()=>{var t;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(n):(t=r??i)!=null?t:!0},n.getIsPinned=()=>{const t=[n.id],{top:r,bottom:i}=e.getState().rowPinning,s=t.some(l=>r==null?void 0:r.includes(l)),o=t.some(l=>i==null?void 0:i.includes(l));return s?"top":o?"bottom":!1},n.getPinnedIndex=()=>{var t,r;const i=n.getIsPinned();if(!i)return-1;const s=(t=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:t.map(o=>{let{id:l}=o;return l});return(r=s==null?void 0:s.indexOf(n.id))!=null?r:-1}},createTable:n=>{n.setRowPinning=e=>n.options.onRowPinningChange==null?void 0:n.options.onRowPinningChange(e),n.resetRowPinning=e=>{var t,r;return n.setRowPinning(e?bx():(t=(r=n.initialState)==null?void 0:r.rowPinning)!=null?t:bx())},n.getIsSomeRowsPinned=e=>{var t;const r=n.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((t=r[e])!=null&&t.length)},n._getPinnedRows=(e,t,r)=>{var i;return((i=n.options.keepPinnedRows)==null||i?(t??[]).map(o=>{const l=n.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},n.getTopRows=Be(()=>[n.getRowModel().rows,n.getState().rowPinning.top],(e,t)=>n._getPinnedRows(e,t,"top"),ze(n.options,"debugRows")),n.getBottomRows=Be(()=>[n.getRowModel().rows,n.getState().rowPinning.bottom],(e,t)=>n._getPinnedRows(e,t,"bottom"),ze(n.options,"debugRows")),n.getCenterRows=Be(()=>[n.getRowModel().rows,n.getState().rowPinning.top,n.getState().rowPinning.bottom],(e,t,r)=>{const i=new Set([...t??[],...r??[]]);return e.filter(s=>!i.has(s.id))},ze(n.options,"debugRows"))}},Oq={getInitialState:n=>({rowSelection:{},...n}),getDefaultOptions:n=>({onRowSelectionChange:Wr("rowSelection",n),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:n=>{n.setRowSelection=e=>n.options.onRowSelectionChange==null?void 0:n.options.onRowSelectionChange(e),n.resetRowSelection=e=>{var t;return n.setRowSelection(e?{}:(t=n.initialState.rowSelection)!=null?t:{})},n.toggleAllRowsSelected=e=>{n.setRowSelection(t=>{e=typeof e<"u"?e:!n.getIsAllRowsSelected();const r={...t},i=n.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},n.toggleAllPageRowsSelected=e=>n.setRowSelection(t=>{const r=typeof e<"u"?e:!n.getIsAllPageRowsSelected(),i={...t};return n.getRowModel().rows.forEach(s=>{LE(i,s.id,r,!0,n)}),i}),n.getPreSelectedRowModel=()=>n.getCoreRowModel(),n.getSelectedRowModel=Be(()=>[n.getState().rowSelection,n.getCoreRowModel()],(e,t)=>Object.keys(e).length?xx(n,t):{rows:[],flatRows:[],rowsById:{}},ze(n.options,"debugTable")),n.getFilteredSelectedRowModel=Be(()=>[n.getState().rowSelection,n.getFilteredRowModel()],(e,t)=>Object.keys(e).length?xx(n,t):{rows:[],flatRows:[],rowsById:{}},ze(n.options,"debugTable")),n.getGroupedSelectedRowModel=Be(()=>[n.getState().rowSelection,n.getSortedRowModel()],(e,t)=>Object.keys(e).length?xx(n,t):{rows:[],flatRows:[],rowsById:{}},ze(n.options,"debugTable")),n.getIsAllRowsSelected=()=>{const e=n.getFilteredRowModel().flatRows,{rowSelection:t}=n.getState();let r=!!(e.length&&Object.keys(t).length);return r&&e.some(i=>i.getCanSelect()&&!t[i.id])&&(r=!1),r},n.getIsAllPageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=n.getState();let r=!!e.length;return r&&e.some(i=>!t[i.id])&&(r=!1),r},n.getIsSomeRowsSelected=()=>{var e;const t=Object.keys((e=n.getState().rowSelection)!=null?e:{}).length;return t>0&&t<n.getFilteredRowModel().flatRows.length},n.getIsSomePageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows;return n.getIsAllPageRowsSelected()?!1:e.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},n.getToggleAllRowsSelectedHandler=()=>e=>{n.toggleAllRowsSelected(e.target.checked)},n.getToggleAllPageRowsSelectedHandler=()=>e=>{n.toggleAllPageRowsSelected(e.target.checked)}},createRow:(n,e)=>{n.toggleSelected=(t,r)=>{const i=n.getIsSelected();e.setRowSelection(s=>{var o;if(t=typeof t<"u"?t:!i,n.getCanSelect()&&i===t)return s;const l={...s};return LE(l,n.id,t,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},n.getIsSelected=()=>{const{rowSelection:t}=e.getState();return q0(n,t)},n.getIsSomeSelected=()=>{const{rowSelection:t}=e.getState();return ME(n,t)==="some"},n.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=e.getState();return ME(n,t)==="all"},n.getCanSelect=()=>{var t;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(n):(t=e.options.enableRowSelection)!=null?t:!0},n.getCanSelectSubRows=()=>{var t;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(n):(t=e.options.enableSubRowSelection)!=null?t:!0},n.getCanMultiSelect=()=>{var t;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(n):(t=e.options.enableMultiRowSelection)!=null?t:!0},n.getToggleSelectedHandler=()=>{const t=n.getCanSelect();return r=>{var i;t&&n.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},LE=(n,e,t,r,i)=>{var s;const o=i.getRow(e,!0);t?(o.getCanMultiSelect()||Object.keys(n).forEach(l=>delete n[l]),o.getCanSelect()&&(n[e]=!0)):delete n[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>LE(n,l.id,t,r,i))};function xx(n,e){const t=n.getState().rowSelection,r=[],i={},s=function(o,l){return o.map(c=>{var d;const h=q0(c,t);if(h&&(r.push(c),i[c.id]=c),(d=c.subRows)!=null&&d.length&&(c={...c,subRows:s(c.subRows)}),h)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function q0(n,e){var t;return(t=e[n.id])!=null?t:!1}function ME(n,e,t){var r;if(!((r=n.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return n.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(q0(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const l=ME(o,e);l==="all"?s=!0:(l==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const NE=/([0-9]+)/gm,Fq=(n,e,t)=>kM(ka(n.getValue(t)).toLowerCase(),ka(e.getValue(t)).toLowerCase()),Bq=(n,e,t)=>kM(ka(n.getValue(t)),ka(e.getValue(t))),zq=(n,e,t)=>X0(ka(n.getValue(t)).toLowerCase(),ka(e.getValue(t)).toLowerCase()),jq=(n,e,t)=>X0(ka(n.getValue(t)),ka(e.getValue(t))),$q=(n,e,t)=>{const r=n.getValue(t),i=e.getValue(t);return r>i?1:r<i?-1:0},Hq=(n,e,t)=>X0(n.getValue(t),e.getValue(t));function X0(n,e){return n===e?0:n>e?1:-1}function ka(n){return typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?"":String(n):typeof n=="string"?n:""}function kM(n,e){const t=n.split(NE).filter(Boolean),r=e.split(NE).filter(Boolean);for(;t.length&&r.length;){const i=t.shift(),s=r.shift(),o=parseInt(i,10),l=parseInt(s,10),c=[o,l].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return t.length-r.length}const Sh={alphanumeric:Fq,alphanumericCaseSensitive:Bq,text:zq,textCaseSensitive:jq,datetime:$q,basic:Hq},Vq={getInitialState:n=>({sorting:[],...n}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:n=>({onSortingChange:Wr("sorting",n),isMultiSortEvent:e=>e.shiftKey}),createColumn:(n,e)=>{n.getAutoSortingFn=()=>{const t=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of t){const s=i==null?void 0:i.getValue(n.id);if(Object.prototype.toString.call(s)==="[object Date]")return Sh.datetime;if(typeof s=="string"&&(r=!0,s.split(NE).length>1))return Sh.alphanumeric}return r?Sh.text:Sh.basic},n.getAutoSortDir=()=>{const t=e.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(n.id))=="string"?"asc":"desc"},n.getSortingFn=()=>{var t,r;if(!n)throw new Error;return Lv(n.columnDef.sortingFn)?n.columnDef.sortingFn:n.columnDef.sortingFn==="auto"?n.getAutoSortingFn():(t=(r=e.options.sortingFns)==null?void 0:r[n.columnDef.sortingFn])!=null?t:Sh[n.columnDef.sortingFn]},n.toggleSorting=(t,r)=>{const i=n.getNextSortingOrder(),s=typeof t<"u"&&t!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(y=>y.id===n.id),c=o==null?void 0:o.findIndex(y=>y.id===n.id);let d=[],h,p=s?t:i==="desc";if(o!=null&&o.length&&n.getCanMultiSort()&&r?l?h="toggle":h="add":o!=null&&o.length&&c!==o.length-1?h="replace":l?h="toggle":h="replace",h==="toggle"&&(s||i||(h="remove")),h==="add"){var g;d=[...o,{id:n.id,desc:p}],d.splice(0,d.length-((g=e.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else h==="toggle"?d=o.map(y=>y.id===n.id?{...y,desc:p}:y):h==="remove"?d=o.filter(y=>y.id!==n.id):d=[{id:n.id,desc:p}];return d})},n.getFirstSortDir=()=>{var t,r;return((t=(r=n.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?t:n.getAutoSortDir()==="desc")?"desc":"asc"},n.getNextSortingOrder=t=>{var r,i;const s=n.getFirstSortDir(),o=n.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(t&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},n.getCanSort=()=>{var t,r;return((t=n.columnDef.enableSorting)!=null?t:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!n.accessorFn},n.getCanMultiSort=()=>{var t,r;return(t=(r=n.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?t:!!n.accessorFn},n.getIsSorted=()=>{var t;const r=(t=e.getState().sorting)==null?void 0:t.find(i=>i.id===n.id);return r?r.desc?"desc":"asc":!1},n.getSortIndex=()=>{var t,r;return(t=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===n.id))!=null?t:-1},n.clearSorting=()=>{e.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==n.id):[])},n.getToggleSortingHandler=()=>{const t=n.getCanSort();return r=>{t&&(r.persist==null||r.persist(),n.toggleSorting==null||n.toggleSorting(void 0,n.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:n=>{n.setSorting=e=>n.options.onSortingChange==null?void 0:n.options.onSortingChange(e),n.resetSorting=e=>{var t,r;n.setSorting(e?[]:(t=(r=n.initialState)==null?void 0:r.sorting)!=null?t:[])},n.getPreSortedRowModel=()=>n.getGroupedRowModel(),n.getSortedRowModel=()=>(!n._getSortedRowModel&&n.options.getSortedRowModel&&(n._getSortedRowModel=n.options.getSortedRowModel(n)),n.options.manualSorting||!n._getSortedRowModel?n.getPreSortedRowModel():n._getSortedRowModel())}},Uq=[dq,Tq,_q,Rq,fq,pq,Iq,Dq,Vq,Cq,Lq,Mq,Nq,Oq,kq];function Gq(n){var e,t;const r=[...Uq,...(e=n._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((g,y)=>Object.assign(g,y.getDefaultOptions==null?void 0:y.getDefaultOptions(i)),{}),o=g=>i.options.mergeOptions?i.options.mergeOptions(s,g):{...s,...g};let c={...{},...(t=n.initialState)!=null?t:{}};i._features.forEach(g=>{var y;c=(y=g.getInitialState==null?void 0:g.getInitialState(c))!=null?y:c});const d=[];let h=!1;const p={_features:r,options:{...s,...n},initialState:c,_queue:g=>{d.push(g),h||(h=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();h=!1}).catch(y=>setTimeout(()=>{throw y})))},reset:()=>{i.setState(i.initialState)},setOptions:g=>{const y=ba(g,i.options);i.options=o(y)},getState:()=>i.options.state,setState:g=>{i.options.onStateChange==null||i.options.onStateChange(g)},_getRowId:(g,y,w)=>{var b;return(b=i.options.getRowId==null?void 0:i.options.getRowId(g,y,w))!=null?b:`${w?[w.id,y].join("."):y}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(g,y)=>{let w=(y?i.getPrePaginationRowModel():i.getRowModel()).rowsById[g];if(!w&&(w=i.getCoreRowModel().rowsById[g],!w))throw new Error;return w},_getDefaultColumnDef:Be(()=>[i.options.defaultColumn],g=>{var y;return g=(y=g)!=null?y:{},{header:w=>{const b=w.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:w=>{var b,E;return(b=(E=w.renderValue())==null||E.toString==null?void 0:E.toString())!=null?b:null},...i._features.reduce((w,b)=>Object.assign(w,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...g}},ze(n,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Be(()=>[i._getColumnDefs()],g=>{const y=function(w,b,E){return E===void 0&&(E=0),w.map(S=>{const A=cq(i,S,E,b),R=S;return A.columns=R.columns?y(R.columns,A,E+1):[],A})};return y(g)},ze(n,"debugColumns")),getAllFlatColumns:Be(()=>[i.getAllColumns()],g=>g.flatMap(y=>y.getFlatColumns()),ze(n,"debugColumns")),_getAllFlatColumnsById:Be(()=>[i.getAllFlatColumns()],g=>g.reduce((y,w)=>(y[w.id]=w,y),{}),ze(n,"debugColumns")),getAllLeafColumns:Be(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(g,y)=>{let w=g.flatMap(b=>b.getLeafColumns());return y(w)},ze(n,"debugColumns")),getColumn:g=>i._getAllFlatColumnsById()[g]};Object.assign(i,p);for(let g=0;g<i._features.length;g++){const y=i._features[g];y==null||y.createTable==null||y.createTable(i)}return i}function Ty(){return n=>Be(()=>[n.options.data],e=>{const t={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const l=[];for(let d=0;d<i.length;d++){const h=hq(n,n._getRowId(i[d],d,o),i[d],d,s,void 0,o==null?void 0:o.id);if(t.flatRows.push(h),t.rowsById[h.id]=h,l.push(h),n.options.getSubRows){var c;h.originalSubRows=n.options.getSubRows(i[d],d),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=r(h.originalSubRows,s+1,h))}}return l};return t.rows=r(e),t},ze(n.options,"debugTable","getRowModel",()=>n._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xa(n,e){return n?Wq(n)?_.createElement(n,e):n:null}function Wq(n){return qq(n)||typeof n=="function"||Xq(n)}function qq(n){return typeof n=="function"&&(()=>{const e=Object.getPrototypeOf(n);return e.prototype&&e.prototype.isReactComponent})()}function Xq(n){return typeof n=="object"&&typeof n.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(n.$$typeof.description)}function Iy(n){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...n},[t]=_.useState(()=>({current:Gq(e)})),[r,i]=_.useState(()=>t.current.initialState);return t.current.setOptions(s=>({...s,...n,state:{...r,...n.state},onStateChange:o=>{i(o),n.onStateChange==null||n.onStateChange(o)}})),t.current}const df=_.forwardRef(({className:n,...e},t)=>O.jsx("div",{className:"relative w-full overflow-auto",children:O.jsx("table",{ref:t,className:Tt("w-full caption-bottom text-sm",n),...e})}));df.displayName="Table";const hf=_.forwardRef(({className:n,...e},t)=>O.jsx("thead",{ref:t,className:Tt("[&_tr]:border-b",n),...e}));hf.displayName="TableHeader";const ff=_.forwardRef(({className:n,...e},t)=>O.jsx("tbody",{ref:t,className:Tt("[&_tr:last-child]:border-0",n),...e}));ff.displayName="TableBody";const Kq=_.forwardRef(({className:n,...e},t)=>O.jsx("tfoot",{ref:t,className:Tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));Kq.displayName="TableFooter";const co=_.forwardRef(({className:n,...e},t)=>O.jsx("tr",{ref:t,className:Tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));co.displayName="TableRow";const pf=_.forwardRef(({className:n,...e},t)=>O.jsx("th",{ref:t,className:Tt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));pf.displayName="TableHead";const gf=_.forwardRef(({className:n,...e},t)=>O.jsx("td",{ref:t,className:Tt("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));gf.displayName="TableCell";const Yq=_.forwardRef(({className:n,...e},t)=>O.jsx("caption",{ref:t,className:Tt("mt-4 text-sm text-muted-foreground",n),...e}));Yq.displayName="TableCaption";const Qq=({rows:n,index:e,onClose:t,setRow:r})=>{const[i,s]=_.useState(""),[o,l]=_.useState(Object.values(n[e]).filter(S=>S).map(S=>Object.values(S.assocDocsValues)).flat(2)),c=_.useRef([]),{loanId:d}=_.useContext(Vi),h=[{accessorKey:"Field",header:"Field"},{accessorKey:"Value",header:"Value",cell:({row:S})=>{const A=S.original.Field;return O.jsx(nv,{defaultValue:S.original.Value,ref:R=>{c.current[S.index]=R},onBlur:()=>r({...n[e],[A]:{...n[e][A],value:{confidence:1,value:c.current[S.index].value,assoc_docs:[]}}})})}}],p=Object.entries(n[e]).map(([S,A])=>{var R;return{Field:S,Value:((R=A==null?void 0:A.value)==null?void 0:R.value)??""}}),g=Iy({data:p,columns:h,getCoreRowModel:Ty()}),y=S=>{var R;s(S);const A=(R=Object.entries(n[e]).find(([I,N])=>I===S))==null?void 0:R[1];A&&l(Object.values(A.assocDocsValues)[0][0])},w=Object.keys(n.flatMap(S=>Object.values(S)).find(S=>S&&"assocDocsValues"in S&&Object.keys(S.assocDocsValues).length>0).assocDocsValues)[0],b=_.useMemo(()=>O.jsx(O.Fragment,{children:Object.values(n[e]).filter(S=>S).flatMap(S=>S.warnings).map((S,A)=>O.jsx("div",{style:{color:"orange"},children:S},A))}),[n,e]);return _.useMemo(()=>O.jsx(G0,{open:!0,onOpenChange:t,children:O.jsxs(Tv,{children:[O.jsx(Iv,{children:O.jsx(Dv,{children:"Inspect Credit Row"})}),O.jsxs("div",{className:"flex gap-4",children:[O.jsx("div",{className:"w-1/2",children:w&&O.jsx(Rv,{file:`${zp}/get_pdf?loan_id=${d}&file_path=${uf(w).split("'")[0]}`,annotation:o})}),O.jsxs("div",{className:"w-1/2 space-y-4",children:[b,O.jsxs(df,{children:[O.jsx(hf,{children:O.jsx(co,{children:g.getHeaderGroups().map(S=>S.headers.map(A=>O.jsx(pf,{children:A.isPlaceholder?null:xa(A.column.columnDef.header,A.getContext())},A.id)))})}),O.jsx(ff,{children:g.getRowModel().rows.map(S=>O.jsx(co,{onClick:()=>{y(S.original.Field)},className:`cursor-pointer hover:bg-gray-700 ${S.original.Field===i?"bg-gray-500":""}`,children:S.getVisibleCells().map(A=>O.jsx(gf,{className:"py-[2px]",children:xa(A.column.columnDef.cell,A.getContext())},A.id))},S.id))})]})]})]})]})}),[open,t,g,o,w,b,i])},hk=n=>{if(n==="")return 0;const[e,t]=n.split("/").map(Number);return t>30?t*12+e-3600:t*12+e},Sx=n=>hk(n.dla)-hk(n.date_opened),fk=n=>n.acct_type==="MTG",Ex={"":n=>!1,less12:n=>Sx(n)<12,more12:n=>Sx(n)>=12,more24:n=>Sx(n)>=24,tot_mort:fk,late_mort:n=>n.past_due!=="$0"&&fk(n),late_30:n=>n.days_30!=="0",late_60:n=>n.days_60!=="0",late_90:n=>n.days_90_plus!=="0"},pk=["creditor","dla","date_opened","acct_type","past_due","days_30","days_60","days_90_plus"],Cx={less12:"# of tradelines less than 12 months",more12:"# of tradelines more than 12 months",more24:"# of tradelines more than 24 months",tot_mort:"# of mortgage tradelines",late_mort:"# of late mortage tradelines",late_30:"# of tradelines 30 days late",late_60:"# of tradelines 60 days late",late_90:"# of tradelines 90 or more days late"},Jq=({prevStep:n,nextStep:e})=>{const{tableData:t,setTableData:r,setFields:i}=_.useContext(Vi),{loading:s,error:o}=Cj(A=>{t.length===0&&r(A[1])}),[l,c]=_.useState(""),[d,h]=_.useState(-1),p=_.useMemo(()=>t.length===0?[]:Object.keys(t[0]).map(A=>({accessorKey:A,header:A})),[t]),g=_.useMemo(()=>t.map(A=>Object.fromEntries(Object.entries(A).map(([R,I])=>{var N;return[R,((N=I==null?void 0:I.value)==null?void 0:N.value)??""]}))),[t]),y=Iy({data:g,columns:p,getCoreRowModel:Ty()}),w=_.useMemo(()=>t.length===0?[]:Object.keys(t[0]).filter(A=>pk.includes(A)).map(A=>({accessorKey:A,header:A})),[t]),b=_.useMemo(()=>t.map(A=>Object.fromEntries(Object.entries(A).filter(R=>pk.includes(R[0])).map(([R,I])=>{var N;return[R,((N=I==null?void 0:I.value)==null?void 0:N.value)??""]}))),[t]),E=Iy({data:b,columns:w,getCoreRowModel:Ty()});_.useEffect(()=>{i(Object.fromEntries(Object.entries(Cx).map(([A,R])=>[R,`${b.filter(Ex[A]).length}`])))},[b]);const S=Ex[l];return O.jsxs("div",{className:"flex flex-row gap-10",children:[O.jsx(bd,{className:"w-[30vw]",children:O.jsxs(xd,{className:"flex flex-col items-start gap-4 p-10 h-[90vh] overflow-y-auto",children:[O.jsx("h2",{className:"text-xl font-bold",children:"Credit Tradelines"}),Object.entries(Cx).map(([A,R])=>O.jsxs("div",{children:[O.jsxs("div",{children:[Cx[A],":"," ",O.jsx("b",{children:b.filter(Ex[A]).length})]}),O.jsx(vr,{onClick:()=>c(A),children:"Show"})]},A)),O.jsxs(G0,{children:[O.jsx($0,{children:"Show Full Table"}),O.jsxs(Tv,{children:[O.jsx(Iv,{children:O.jsx(Dv,{children:"Show Full Table"})}),O.jsxs(df,{children:[O.jsx(hf,{children:O.jsx(co,{children:y.getHeaderGroups().map(A=>A.headers.map(R=>O.jsx(pf,{children:R.isPlaceholder?null:xa(R.column.columnDef.header,R.getContext())},R.id)))})}),O.jsx(ff,{children:y.getRowModel().rows.map((A,R)=>O.jsx(co,{className:"cursor-pointer hover:bg-gray-700",children:A.getVisibleCells().map(I=>O.jsx(gf,{children:xa(I.column.columnDef.cell,I.getContext())},I.id))},A.id))})]})]})]}),O.jsxs("div",{className:"flex flex-row",children:[O.jsx(vr,{onClick:n,children:"Back"}),O.jsx(vr,{onClick:e,children:"Next"})]})]})}),O.jsx("div",{className:"w-[65vw] h-[90vh] overflow-y-scroll",children:s?O.jsx(Op,{}):O.jsxs(df,{children:[O.jsx(hf,{children:O.jsx(co,{children:E.getHeaderGroups().map(A=>A.headers.map(R=>O.jsx(pf,{children:R.isPlaceholder?null:xa(R.column.columnDef.header,R.getContext())},R.id)))})}),O.jsx(ff,{children:E.getRowModel().rows.map((A,R)=>O.jsx(co,{onClick:()=>h(R),className:`cursor-pointer hover:bg-gray-700 ${S(A.original)?"bg-gray-500":""}`,children:A.getVisibleCells().map(I=>O.jsx(gf,{children:xa(I.column.columnDef.cell,I.getContext())},I.id))},A.id))})]})}),d!==-1&&O.jsx(Qq,{rows:t,setRow:A=>r(t.map((R,I)=>I===d?A:R)),onClose:()=>h(-1),index:d})]})},Zq=async n=>{const e=document.createElement("a");e.download="answer_mapping.csv",e.href=URL.createObjectURL(n),e.addEventListener("click",t=>{setTimeout(()=>URL.revokeObjectURL(e.href),30*1e3)}),e.click()},e8=({prevStep:n})=>{const{valueMap:e}=_.useContext(Vi),t=`field, value
`+Object.entries(e).map(([l,c])=>`${JSON.stringify(l)},${JSON.stringify(c)}`).join(`
`),r=[{accessorKey:"Field",header:"Field"},{accessorKey:"Value",header:"Value"}],i=Object.entries(e).map(([l,c])=>({Field:l,Value:c})),s=Iy({data:i,columns:r,getCoreRowModel:Ty()}),o=new Blob([t],{type:"text/csv;charset=utf-8;"});return O.jsx(bd,{children:O.jsxs(xd,{className:"flex flex-col items-start gap-4 p-10 w-[95vw] h-[90vh] overflow-y-auto",children:[O.jsx("h1",{children:"Results"}),O.jsxs(df,{children:[O.jsx(hf,{children:O.jsx(co,{children:s.getHeaderGroups().map(l=>l.headers.map(c=>O.jsx(pf,{children:c.isPlaceholder?null:xa(c.column.columnDef.header,c.getContext())},c.id)))})}),O.jsx(ff,{children:s.getRowModel().rows.map(l=>O.jsx(co,{className:"cursor-pointer hover:bg-gray-700",children:l.getVisibleCells().map(c=>O.jsx(gf,{className:"p-3",children:xa(c.column.columnDef.cell,c.getContext())},c.id))},l.id))})]}),O.jsx("p",{children:"Here are the results based on your file upload."}),O.jsx(vr,{onClick:()=>Zq(o),children:"Download as CSV"}),O.jsx(vr,{onClick:n,children:"Back"})]})})},t8=()=>{const[n,e]=_.useState(1),t=()=>{n<5&&e(s=>s+1)},r=()=>{n>1&&e(s=>s-1)},i=()=>{switch(n){case 1:return O.jsx(Aj,{nextStep:t});case 2:return O.jsx(P5,{prevStep:r,nextStep:t});case 3:return O.jsx(oq,{prevStep:r,nextStep:t});case 4:return O.jsx(Jq,{prevStep:r,nextStep:t});case 5:return O.jsx(e8,{prevStep:r});default:return null}};return O.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[O.jsx(OP,{value:n/5*100,className:"w-full max-w-xl mb-4"}),i()]})};function n8(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const r8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s8={};function gk(n,e){return(s8.jsx?i8:r8).test(n)}const o8=/[ \t\n\f\r]/g;function a8(n){return typeof n=="object"?n.type==="text"?mk(n.value):!1:mk(n)}function mk(n){return n.replace(o8,"")===""}class qp{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}qp.prototype.normal={};qp.prototype.property={};qp.prototype.space=void 0;function PM(n,e){const t={},r={};for(const i of n)Object.assign(t,i.property),Object.assign(r,i.normal);return new qp(t,r,e)}function OE(n){return n.toLowerCase()}class br{constructor(e,t){this.attribute=t,this.property=e}}br.prototype.attribute="";br.prototype.booleanish=!1;br.prototype.boolean=!1;br.prototype.commaOrSpaceSeparated=!1;br.prototype.commaSeparated=!1;br.prototype.defined=!1;br.prototype.mustUseProperty=!1;br.prototype.number=!1;br.prototype.overloadedBoolean=!1;br.prototype.property="";br.prototype.spaceSeparated=!1;br.prototype.space=void 0;let l8=0;const Ge=wu(),Yt=wu(),TM=wu(),le=wu(),xt=wu(),hc=wu(),Pr=wu();function wu(){return 2**++l8}const FE=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Yt,commaOrSpaceSeparated:Pr,commaSeparated:hc,number:le,overloadedBoolean:TM,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),Ax=Object.keys(FE);class K0 extends br{constructor(e,t,r,i){let s=-1;if(super(e,t),yk(this,"space",i),typeof r=="number")for(;++s<Ax.length;){const o=Ax[s];yk(this,Ax[s],(r&FE[o])===FE[o])}}}K0.prototype.defined=!0;function yk(n,e,t){t&&(n[e]=t)}function Rd(n){const e={},t={};for(const[r,i]of Object.entries(n.properties)){const s=new K0(r,n.transform(n.attributes||{},r),i,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,t[OE(r)]=r,t[OE(s.attribute)]=r}return new qp(e,t,n.space)}const IM=Rd({properties:{ariaActiveDescendant:null,ariaAtomic:Yt,ariaAutoComplete:null,ariaBusy:Yt,ariaChecked:Yt,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:Yt,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:Yt,ariaFlowTo:xt,ariaGrabbed:Yt,ariaHasPopup:null,ariaHidden:Yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:le,ariaLive:null,ariaModal:Yt,ariaMultiLine:Yt,ariaMultiSelectable:Yt,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:Yt,ariaReadOnly:Yt,ariaRelevant:null,ariaRequired:Yt,ariaRoleDescription:xt,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:Yt,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function DM(n,e){return e in n?n[e]:e}function LM(n,e){return DM(n,e.toLowerCase())}const u8=Rd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hc,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:xt,autoFocus:Ge,autoPlay:Ge,blocking:xt,capture:null,charSet:null,checked:Ge,cite:null,className:xt,cols:le,colSpan:null,content:null,contentEditable:Yt,controls:Ge,controlsList:xt,coords:le|hc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:TM,draggable:Yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:xt,height:le,hidden:Ge,high:le,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:xt,itemRef:xt,itemScope:Ge,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:le,pattern:null,ping:xt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:xt,required:Ge,reversed:Ge,rows:le,rowSpan:le,sandbox:xt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:Yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Yt,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:Yt,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:LM}),c8=Rd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pr,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hc,g2:hc,glyphName:hc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DM}),MM=Rd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),NM=Rd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:LM}),OM=Rd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),d8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},h8=/[A-Z]/g,vk=/-[a-z]/g,f8=/^data[-\w.:]+$/i;function p8(n,e){const t=OE(e);let r=e,i=br;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&f8.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(vk,m8);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!vk.test(s)){let o=s.replace(h8,g8);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=K0}return new i(r,e)}function g8(n){return"-"+n.toLowerCase()}function m8(n){return n.charAt(1).toUpperCase()}const y8=PM([IM,u8,MM,NM,OM],"html"),Y0=PM([IM,c8,MM,NM,OM],"svg");function v8(n){return n.join(" ").trim()}var Eh={},_x,wk;function w8(){if(wk)return _x;wk=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",p="",g="comment",y="declaration";_x=function(b,E){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];E=E||{};var S=1,A=1;function R(ee){var K=ee.match(e);K&&(S+=K.length);var re=ee.lastIndexOf(c);A=~re?ee.length-re:A+ee.length}function I(){var ee={line:S,column:A};return function(K){return K.position=new N(ee),V(),K}}function N(ee){this.start=ee,this.end={line:S,column:A},this.source=E.source}N.prototype.content=b;function L(ee){var K=new Error(E.source+":"+S+":"+A+": "+ee);if(K.reason=ee,K.filename=E.source,K.line=S,K.column=A,K.source=b,!E.silent)throw K}function z(ee){var K=ee.exec(b);if(K){var re=K[0];return R(re),b=b.slice(re.length),K}}function V(){z(t)}function X(ee){var K;for(ee=ee||[];K=Q();)K!==!1&&ee.push(K);return ee}function Q(){var ee=I();if(!(d!=b.charAt(0)||h!=b.charAt(1))){for(var K=2;p!=b.charAt(K)&&(h!=b.charAt(K)||d!=b.charAt(K+1));)++K;if(K+=2,p===b.charAt(K-1))return L("End of comment missing");var re=b.slice(2,K-2);return A+=2,R(re),b=b.slice(K),A+=2,ee({type:g,comment:re})}}function W(){var ee=I(),K=z(r);if(K){if(Q(),!z(i))return L("property missing ':'");var re=z(s),ce=ee({type:y,property:w(K[0].replace(n,p)),value:re?w(re[0].replace(n,p)):p});return z(o),ce}}function ne(){var ee=[];X(ee);for(var K;K=W();)K!==!1&&(ee.push(K),X(ee));return ee}return V(),ne()};function w(b){return b?b.replace(l,p):p}return _x}var bk;function b8(){if(bk)return Eh;bk=1;var n=Eh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.default=t;var e=n(w8());function t(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),l=typeof i=="function";return o.forEach(function(c){if(c.type==="declaration"){var d=c.property,h=c.value;l?i(d,h,c):h&&(s=s||{},s[d]=h)}}),s}return Eh}var Ch={},xk;function x8(){if(xk)return Ch;xk=1,Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||t.test(d)||n.test(d)},o=function(d,h){return h.toUpperCase()},l=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),s(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,o))};return Ch.camelCase=c,Ch}var Ah,Sk;function S8(){if(Sk)return Ah;Sk=1;var n=Ah&&Ah.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=n(b8()),t=x8();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(l,c){l&&c&&(o[(0,t.camelCase)(l,s)]=c)}),o}return r.default=r,Ah=r,Ah}var E8=S8();const C8=Dp(E8),FM=BM("end"),Q0=BM("start");function BM(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function A8(n){const e=Q0(n),t=FM(n);if(e&&t)return{start:e,end:t}}function Kh(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Ek(n.position):"start"in n||"end"in n?Ek(n):"line"in n||"column"in n?BE(n):""}function BE(n){return Ck(n&&n.line)+":"+Ck(n&&n.column)}function Ek(n){return BE(n&&n.start)+"-"+BE(n&&n.end)}function Ck(n){return n&&typeof n=="number"?n:1}class Gn extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=l?l.line:void 0,this.name=Kh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Gn.prototype.file="";Gn.prototype.name="";Gn.prototype.reason="";Gn.prototype.message="";Gn.prototype.stack="";Gn.prototype.column=void 0;Gn.prototype.line=void 0;Gn.prototype.ancestors=void 0;Gn.prototype.cause=void 0;Gn.prototype.fatal=void 0;Gn.prototype.place=void 0;Gn.prototype.ruleId=void 0;Gn.prototype.source=void 0;const J0={}.hasOwnProperty,_8=new Map,R8=/[A-Z]/g,k8=new Set(["table","tbody","thead","tfoot","tr"]),P8=new Set(["td","th"]),zM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function T8(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=B8(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=F8(t,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Y0:y8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=jM(i,n,void 0);return s&&typeof s!="string"?s:i.create(n,i.Fragment,{children:s||void 0},void 0)}function jM(n,e,t){if(e.type==="element")return I8(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return D8(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return M8(n,e,t);if(e.type==="mdxjsEsm")return L8(n,e);if(e.type==="root")return N8(n,e,t);if(e.type==="text")return O8(n,e)}function I8(n,e,t){const r=n.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Y0,n.schema=i),n.ancestors.push(e);const s=HM(n,e.tagName,!1),o=z8(n,e);let l=eC(n,e);return k8.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!a8(c):!0})),$M(n,o,s,e),Z0(o,l),n.ancestors.pop(),n.schema=r,n.create(e,s,o,t)}function D8(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}mf(n,e.position)}function L8(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);mf(n,e.position)}function M8(n,e,t){const r=n.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Y0,n.schema=i),n.ancestors.push(e);const s=e.name===null?n.Fragment:HM(n,e.name,!0),o=j8(n,e),l=eC(n,e);return $M(n,o,s,e),Z0(o,l),n.ancestors.pop(),n.schema=r,n.create(e,s,o,t)}function N8(n,e,t){const r={};return Z0(r,eC(n,e)),n.create(e,n.Fragment,r,t)}function O8(n,e){return e.value}function $M(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function Z0(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function F8(n,e,t){return r;function r(i,s,o,l){const d=Array.isArray(o.children)?t:e;return l?d(s,o,l):d(s,o)}}function B8(n,e){return t;function t(r,i,s,o){const l=Array.isArray(s.children),c=Q0(r);return e(i,s,o,l,{columnNumber:c?c.column-1:void 0,fileName:n,lineNumber:c?c.line:void 0},void 0)}}function z8(n,e){const t={};let r,i;for(i in e.properties)if(i!=="children"&&J0.call(e.properties,i)){const s=$8(n,i,e.properties[i]);if(s){const[o,l]=s;n.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&P8.has(e.tagName)?r=l:t[o]=l}}if(r){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function j8(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(t,n.evaluater.evaluateExpression(l.argument))}else mf(n,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const l=r.value.data.estree.body[0];l.type,s=n.evaluater.evaluateExpression(l.expression)}else mf(n,e.position);else s=r.value===null?!0:r.value;t[i]=s}return t}function eC(n,e){const t=[];let r=-1;const i=n.passKeys?new Map:_8;for(;++r<e.children.length;){const s=e.children[r];let o;if(n.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const d=i.get(c)||0;o=c+"-"+d,i.set(c,d+1)}}const l=jM(n,s,o);l!==void 0&&t.push(l)}return t}function $8(n,e,t){const r=p8(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?n8(t):v8(t)),r.property==="style"){let i=typeof t=="object"?t:H8(n,String(t));return n.stylePropertyNameCase==="css"&&(i=V8(i)),["style",i]}return[n.elementAttributeNameCase==="react"&&r.space?d8[r.property]||r.property:r.attribute,t]}}function H8(n,e){try{return C8(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,i=new Gn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=zM+"#cannot-parse-style-attribute",i}}function HM(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const l=gk(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=gk(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return J0.call(n.components,i)?n.components[i]:i}if(n.evaluater)return n.evaluater.evaluateExpression(r);mf(n)}function mf(n,e){const t=new Gn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=zM+"#cannot-handle-mdx-estrees-without-createevaluater",t}function V8(n){const e={};let t;for(t in n)J0.call(n,t)&&(e[U8(t)]=n[t]);return e}function U8(n){let e=n.replace(R8,G8);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function G8(n){return"-"+n.toLowerCase()}const Rx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},W8={};function q8(n,e){const t=W8,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return VM(n,r,i)}function VM(n,e,t){if(X8(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Ak(n.children,e,t)}return Array.isArray(n)?Ak(n,e,t):""}function Ak(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=VM(n[i],e,t);return r.join("")}function X8(n){return!!(n&&typeof n=="object")}const _k=document.createElement("i");function tC(n){const e="&"+n+";";_k.innerHTML=e;const t=_k.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Ss(n,e,t,r){const i=n.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function ai(n,e){return n.length>0?(Ss(n,n.length,0,e),n):e}const Rk={}.hasOwnProperty;function K8(n){const e={};let t=-1;for(;++t<n.length;)Y8(e,n[t]);return e}function Y8(n,e){let t;for(t in e){const i=(Rk.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){Rk.call(i,o)||(i[o]=[]);const l=s[o];Q8(i[o],Array.isArray(l)?l:l?[l]:[])}}}function Q8(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);Ss(n,0,0,r)}function UM(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function fc(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xs=Da(/[A-Za-z]/),$r=Da(/[\dA-Za-z]/),J8=Da(/[#-'*+\--9=?A-Z^-~]/);function zE(n){return n!==null&&(n<32||n===127)}const jE=Da(/\d/),Z8=Da(/[\dA-Fa-f]/),eX=Da(/[!-/:-@[-`{-~]/);function je(n){return n!==null&&n<-2}function wr(n){return n!==null&&(n<0||n===32)}function lt(n){return n===-2||n===-1||n===32}const tX=Da(new RegExp("\\p{P}|\\p{S}","u")),nX=Da(/\s/);function Da(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function kd(n){const e=[];let t=-1,r=0,i=0;for(;++t<n.length;){const s=n.charCodeAt(t);let o="";if(s===37&&$r(n.charCodeAt(t+1))&&$r(n.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=n.charCodeAt(t+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(n.slice(r,t),encodeURIComponent(o)),r=t+i+1,o=""),i&&(t+=i,i=0)}return e.join("")+n.slice(r)}function St(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(c){return lt(c)?(n.enter(t),l(c)):e(c)}function l(c){return lt(c)&&s++<i?(n.consume(c),l):(n.exit(t),e(c))}}const rX={tokenize:iX};function iX(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),St(n,e,"linePrefix")}function i(l){return n.enter("paragraph"),s(l)}function s(l){const c=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,o(l)}function o(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return je(l)?(n.consume(l),n.exit("chunkText"),s):(n.consume(l),o)}}const sX={tokenize:oX},kk={tokenize:aX};function oX(n){const e=this,t=[];let r=0,i,s,o;return l;function l(R){if(r<t.length){const I=t[r];return e.containerState=I[1],n.attempt(I[0].continuation,c,d)(R)}return d(R)}function c(R){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&A();const I=e.events.length;let N=I,L;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){L=e.events[N][1].end;break}S(r);let z=I;for(;z<e.events.length;)e.events[z][1].end={...L},z++;return Ss(e.events,N+1,0,e.events.slice(I)),e.events.length=z,d(R)}return l(R)}function d(R){if(r===t.length){if(!i)return g(R);if(i.currentConstruct&&i.currentConstruct.concrete)return w(R);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(kk,h,p)(R)}function h(R){return i&&A(),S(r),g(R)}function p(R){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,w(R)}function g(R){return e.containerState={},n.attempt(kk,y,w)(R)}function y(R){return r++,t.push([e.currentConstruct,e.containerState]),g(R)}function w(R){if(R===null){i&&A(),S(0),n.consume(R);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(R)}function b(R){if(R===null){E(n.exit("chunkFlow"),!0),S(0),n.consume(R);return}return je(R)?(n.consume(R),E(n.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(n.consume(R),b)}function E(R,I){const N=e.sliceStream(R);if(I&&N.push(null),R.previous=s,s&&(s.next=R),s=R,i.defineSkip(R.start),i.write(N),e.parser.lazy[R.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;const z=e.events.length;let V=z,X,Q;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(X){Q=e.events[V][1].end;break}X=!0}for(S(r),L=z;L<e.events.length;)e.events[L][1].end={...Q},L++;Ss(e.events,V+1,0,e.events.slice(z)),e.events.length=L}}function S(R){let I=t.length;for(;I-- >R;){const N=t[I];e.containerState=N[1],N[0].exit.call(e,n)}t.length=R}function A(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function aX(n,e,t){return St(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Pk(n){if(n===null||wr(n)||nX(n))return 1;if(tX(n))return 2}function nC(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const $E={name:"attention",resolveAll:lX,tokenize:uX};function lX(n,e){let t=-1,r,i,s,o,l,c,d,h;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;c=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const p={...n[r][1].end},g={...n[t][1].start};Tk(p,-c),Tk(g,c),o={type:c>1?"strongSequence":"emphasisSequence",start:p,end:{...n[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},n[r][1].end={...o.start},n[t][1].start={...l.end},d=[],n[r][1].end.offset-n[r][1].start.offset&&(d=ai(d,[["enter",n[r][1],e],["exit",n[r][1],e]])),d=ai(d,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),d=ai(d,nC(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),d=ai(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(h=2,d=ai(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):h=0,Ss(n,r-1,t-r+3,d),t=r+d.length-h-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function uX(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Pk(r);let s;return o;function o(c){return s=c,n.enter("attentionSequence"),l(c)}function l(c){if(c===s)return n.consume(c),l;const d=n.exit("attentionSequence"),h=Pk(c),p=!h||h===2&&i||t.includes(c),g=!i||i===2&&h||t.includes(r);return d._open=!!(s===42?p:p&&(i||!g)),d._close=!!(s===42?g:g&&(h||!p)),e(c)}}function Tk(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const cX={name:"autolink",tokenize:dX};function dX(n,e,t){let r=0;return i;function i(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(y){return xs(y)?(n.consume(y),o):y===64?t(y):d(y)}function o(y){return y===43||y===45||y===46||$r(y)?(r=1,l(y)):d(y)}function l(y){return y===58?(n.consume(y),r=0,c):(y===43||y===45||y===46||$r(y))&&r++<32?(n.consume(y),l):(r=0,d(y))}function c(y){return y===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):y===null||y===32||y===60||zE(y)?t(y):(n.consume(y),c)}function d(y){return y===64?(n.consume(y),h):J8(y)?(n.consume(y),d):t(y)}function h(y){return $r(y)?p(y):t(y)}function p(y){return y===46?(n.consume(y),r=0,h):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),e):g(y)}function g(y){if((y===45||$r(y))&&r++<63){const w=y===45?g:p;return n.consume(y),w}return t(y)}}const Mv={partial:!0,tokenize:hX};function hX(n,e,t){return r;function r(s){return lt(s)?St(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||je(s)?e(s):t(s)}}const GM={continuation:{tokenize:pX},exit:gX,name:"blockQuote",tokenize:fX};function fX(n,e,t){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return lt(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function pX(n,e,t){const r=this;return i;function i(o){return lt(o)?St(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(GM,e,t)(o)}}function gX(n){n.exit("blockQuote")}const WM={name:"characterEscape",tokenize:mX};function mX(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return eX(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const qM={name:"characterReference",tokenize:yX};function yX(n,e,t){const r=this;let i=0,s,o;return l;function l(p){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),c}function c(p){return p===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(p),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),s=31,o=$r,h(p))}function d(p){return p===88||p===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(p),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=Z8,h):(n.enter("characterReferenceValue"),s=7,o=jE,h(p))}function h(p){if(p===59&&i){const g=n.exit("characterReferenceValue");return o===$r&&!tC(r.sliceSerialize(g))?t(p):(n.enter("characterReferenceMarker"),n.consume(p),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(p)&&i++<s?(n.consume(p),h):t(p)}}const Ik={partial:!0,tokenize:wX},Dk={concrete:!0,name:"codeFenced",tokenize:vX};function vX(n,e,t){const r=this,i={partial:!0,tokenize:N};let s=0,o=0,l;return c;function c(L){return d(L)}function d(L){const z=r.events[r.events.length-1];return s=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,l=L,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===l?(o++,n.consume(L),h):o<3?t(L):(n.exit("codeFencedFenceSequence"),lt(L)?St(n,p,"whitespace")(L):p(L))}function p(L){return L===null||je(L)?(n.exit("codeFencedFence"),r.interrupt?e(L):n.check(Ik,b,I)(L)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(L))}function g(L){return L===null||je(L)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),p(L)):lt(L)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),St(n,y,"whitespace")(L)):L===96&&L===l?t(L):(n.consume(L),g)}function y(L){return L===null||je(L)?p(L):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(L))}function w(L){return L===null||je(L)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),p(L)):L===96&&L===l?t(L):(n.consume(L),w)}function b(L){return n.attempt(i,I,E)(L)}function E(L){return n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),S}function S(L){return s>0&&lt(L)?St(n,A,"linePrefix",s+1)(L):A(L)}function A(L){return L===null||je(L)?n.check(Ik,b,I)(L):(n.enter("codeFlowValue"),R(L))}function R(L){return L===null||je(L)?(n.exit("codeFlowValue"),A(L)):(n.consume(L),R)}function I(L){return n.exit("codeFenced"),e(L)}function N(L,z,V){let X=0;return Q;function Q(re){return L.enter("lineEnding"),L.consume(re),L.exit("lineEnding"),W}function W(re){return L.enter("codeFencedFence"),lt(re)?St(L,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ne(re)}function ne(re){return re===l?(L.enter("codeFencedFenceSequence"),ee(re)):V(re)}function ee(re){return re===l?(X++,L.consume(re),ee):X>=o?(L.exit("codeFencedFenceSequence"),lt(re)?St(L,K,"whitespace")(re):K(re)):V(re)}function K(re){return re===null||je(re)?(L.exit("codeFencedFence"),z(re)):V(re)}}}function wX(n,e,t){const r=this;return i;function i(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}const kx={name:"codeIndented",tokenize:xX},bX={partial:!0,tokenize:SX};function xX(n,e,t){const r=this;return i;function i(d){return n.enter("codeIndented"),St(n,s,"linePrefix",5)(d)}function s(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(d):t(d)}function o(d){return d===null?c(d):je(d)?n.attempt(bX,o,c)(d):(n.enter("codeFlowValue"),l(d))}function l(d){return d===null||je(d)?(n.exit("codeFlowValue"),o(d)):(n.consume(d),l)}function c(d){return n.exit("codeIndented"),e(d)}}function SX(n,e,t){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):je(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):St(n,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):je(o)?i(o):t(o)}}const EX={name:"codeText",previous:AX,resolve:CX,tokenize:_X};function CX(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function AX(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _X(n,e,t){let r=0,i,s;return o;function o(p){return n.enter("codeText"),n.enter("codeTextSequence"),l(p)}function l(p){return p===96?(n.consume(p),r++,l):(n.exit("codeTextSequence"),c(p))}function c(p){return p===null?t(p):p===32?(n.enter("space"),n.consume(p),n.exit("space"),c):p===96?(s=n.enter("codeTextSequence"),i=0,h(p)):je(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),c):(n.enter("codeTextData"),d(p))}function d(p){return p===null||p===32||p===96||je(p)?(n.exit("codeTextData"),c(p)):(n.consume(p),d)}function h(p){return p===96?(n.consume(p),i++,h):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(p)):(s.type="codeTextData",d(p))}}class RX{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_h(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_h(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_h(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);_h(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_h(this.left,t.reverse())}}}function _h(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function XM(n){const e={};let t=-1,r,i,s,o,l,c,d;const h=new RX(n);for(;++t<h.length;){for(;t in e;)t=e[t];if(r=h.get(t),t&&r[1].type==="chunkFlow"&&h.get(t-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,kX(h,t)),t=e[t],d=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,t),l.unshift(r),h.splice(i,t-i+1,l))}}return Ss(n,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function kX(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let o=t._tokenizer;o||(o=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],d={};let h,p,g=-1,y=t,w=0,b=0;const E=[b];for(;y;){for(;n.get(++i)[1]!==y;);s.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=t;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(b=g+1,E.push(b),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),g=E.length;g--;){const S=l.slice(E[g],E[g+1]),A=s.pop();c.push([A,A+S.length-1]),n.splice(A,2,S)}for(c.reverse(),g=-1;++g<c.length;)d[w+c[g][0]]=w+c[g][1],w+=c[g][1]-c[g][0]-1;return d}const PX={resolve:IX,tokenize:DX},TX={partial:!0,tokenize:LX};function IX(n){return XM(n),n}function DX(n,e){let t;return r;function r(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):je(l)?n.check(TX,o,s)(l):(n.consume(l),i)}function s(l){return n.exit("chunkContent"),n.exit("content"),e(l)}function o(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function LX(n,e,t){const r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),St(n,s,"linePrefix")}function s(o){if(o===null||je(o))return t(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}function KM(n,e,t,r,i,s,o,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return p;function p(S){return S===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(S),n.exit(s),g):S===null||S===32||S===41||zE(S)?t(S):(n.enter(r),n.enter(o),n.enter(l),n.enter("chunkString",{contentType:"string"}),b(S))}function g(S){return S===62?(n.enter(s),n.consume(S),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(l),n.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(n.exit("chunkString"),n.exit(l),g(S)):S===null||S===60||je(S)?t(S):(n.consume(S),S===92?w:y)}function w(S){return S===60||S===62||S===92?(n.consume(S),y):y(S)}function b(S){return!h&&(S===null||S===41||wr(S))?(n.exit("chunkString"),n.exit(l),n.exit(o),n.exit(r),e(S)):h<d&&S===40?(n.consume(S),h++,b):S===41?(n.consume(S),h--,b):S===null||S===32||S===40||zE(S)?t(S):(n.consume(S),S===92?E:b)}function E(S){return S===40||S===41||S===92?(n.consume(S),b):b(S)}}function YM(n,e,t,r,i,s){const o=this;let l=0,c;return d;function d(y){return n.enter(r),n.enter(i),n.consume(y),n.exit(i),n.enter(s),h}function h(y){return l>999||y===null||y===91||y===93&&!c||y===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?t(y):y===93?(n.exit(s),n.enter(i),n.consume(y),n.exit(i),n.exit(r),e):je(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),h):(n.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||je(y)||l++>999?(n.exit("chunkString"),h(y)):(n.consume(y),c||(c=!lt(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(n.consume(y),l++,p):p(y)}}function QM(n,e,t,r,i,s){let o;return l;function l(g){return g===34||g===39||g===40?(n.enter(r),n.enter(i),n.consume(g),n.exit(i),o=g===40?41:g,c):t(g)}function c(g){return g===o?(n.enter(i),n.consume(g),n.exit(i),n.exit(r),e):(n.enter(s),d(g))}function d(g){return g===o?(n.exit(s),c(o)):g===null?t(g):je(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),St(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===o||g===null||je(g)?(n.exit("chunkString"),d(g)):(n.consume(g),g===92?p:h)}function p(g){return g===o||g===92?(n.consume(g),h):h(g)}}function Yh(n,e){let t;return r;function r(i){return je(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):lt(i)?St(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const MX={name:"definition",tokenize:OX},NX={partial:!0,tokenize:FX};function OX(n,e,t){const r=this;let i;return s;function s(y){return n.enter("definition"),o(y)}function o(y){return YM.call(r,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function l(y){return i=fc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(n.enter("definitionMarker"),n.consume(y),n.exit("definitionMarker"),c):t(y)}function c(y){return wr(y)?Yh(n,d)(y):d(y)}function d(y){return KM(n,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return n.attempt(NX,p,p)(y)}function p(y){return lt(y)?St(n,g,"whitespace")(y):g(y)}function g(y){return y===null||je(y)?(n.exit("definition"),r.parser.defined.push(i),e(y)):t(y)}}function FX(n,e,t){return r;function r(l){return wr(l)?Yh(n,i)(l):t(l)}function i(l){return QM(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return lt(l)?St(n,o,"whitespace")(l):o(l)}function o(l){return l===null||je(l)?e(l):t(l)}}const BX={name:"hardBreakEscape",tokenize:zX};function zX(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return je(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const jX={name:"headingAtx",resolve:$X,tokenize:HX};function $X(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},Ss(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function HX(n,e,t){let r=0;return i;function i(h){return n.enter("atxHeading"),s(h)}function s(h){return n.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(n.consume(h),o):h===null||wr(h)?(n.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(n.enter("atxHeadingSequence"),c(h)):h===null||je(h)?(n.exit("atxHeading"),e(h)):lt(h)?St(n,l,"whitespace")(h):(n.enter("atxHeadingText"),d(h))}function c(h){return h===35?(n.consume(h),c):(n.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||wr(h)?(n.exit("atxHeadingText"),l(h)):(n.consume(h),d)}}const VX=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Lk=["pre","script","style","textarea"],UX={concrete:!0,name:"htmlFlow",resolveTo:qX,tokenize:XX},GX={partial:!0,tokenize:YX},WX={partial:!0,tokenize:KX};function qX(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function XX(n,e,t){const r=this;let i,s,o,l,c;return d;function d(F){return h(F)}function h(F){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(F),p}function p(F){return F===33?(n.consume(F),g):F===47?(n.consume(F),s=!0,b):F===63?(n.consume(F),i=3,r.interrupt?e:M):xs(F)?(n.consume(F),o=String.fromCharCode(F),E):t(F)}function g(F){return F===45?(n.consume(F),i=2,y):F===91?(n.consume(F),i=5,l=0,w):xs(F)?(n.consume(F),i=4,r.interrupt?e:M):t(F)}function y(F){return F===45?(n.consume(F),r.interrupt?e:M):t(F)}function w(F){const ve="CDATA[";return F===ve.charCodeAt(l++)?(n.consume(F),l===ve.length?r.interrupt?e:ne:w):t(F)}function b(F){return xs(F)?(n.consume(F),o=String.fromCharCode(F),E):t(F)}function E(F){if(F===null||F===47||F===62||wr(F)){const ve=F===47,Re=o.toLowerCase();return!ve&&!s&&Lk.includes(Re)?(i=1,r.interrupt?e(F):ne(F)):VX.includes(o.toLowerCase())?(i=6,ve?(n.consume(F),S):r.interrupt?e(F):ne(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(F):s?A(F):R(F))}return F===45||$r(F)?(n.consume(F),o+=String.fromCharCode(F),E):t(F)}function S(F){return F===62?(n.consume(F),r.interrupt?e:ne):t(F)}function A(F){return lt(F)?(n.consume(F),A):Q(F)}function R(F){return F===47?(n.consume(F),Q):F===58||F===95||xs(F)?(n.consume(F),I):lt(F)?(n.consume(F),R):Q(F)}function I(F){return F===45||F===46||F===58||F===95||$r(F)?(n.consume(F),I):N(F)}function N(F){return F===61?(n.consume(F),L):lt(F)?(n.consume(F),N):R(F)}function L(F){return F===null||F===60||F===61||F===62||F===96?t(F):F===34||F===39?(n.consume(F),c=F,z):lt(F)?(n.consume(F),L):V(F)}function z(F){return F===c?(n.consume(F),c=null,X):F===null||je(F)?t(F):(n.consume(F),z)}function V(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||wr(F)?N(F):(n.consume(F),V)}function X(F){return F===47||F===62||lt(F)?R(F):t(F)}function Q(F){return F===62?(n.consume(F),W):t(F)}function W(F){return F===null||je(F)?ne(F):lt(F)?(n.consume(F),W):t(F)}function ne(F){return F===45&&i===2?(n.consume(F),ce):F===60&&i===1?(n.consume(F),ie):F===62&&i===4?(n.consume(F),j):F===63&&i===3?(n.consume(F),M):F===93&&i===5?(n.consume(F),fe):je(F)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(GX,J,ee)(F)):F===null||je(F)?(n.exit("htmlFlowData"),ee(F)):(n.consume(F),ne)}function ee(F){return n.check(WX,K,J)(F)}function K(F){return n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),re}function re(F){return F===null||je(F)?ee(F):(n.enter("htmlFlowData"),ne(F))}function ce(F){return F===45?(n.consume(F),M):ne(F)}function ie(F){return F===47?(n.consume(F),o="",U):ne(F)}function U(F){if(F===62){const ve=o.toLowerCase();return Lk.includes(ve)?(n.consume(F),j):ne(F)}return xs(F)&&o.length<8?(n.consume(F),o+=String.fromCharCode(F),U):ne(F)}function fe(F){return F===93?(n.consume(F),M):ne(F)}function M(F){return F===62?(n.consume(F),j):F===45&&i===2?(n.consume(F),M):ne(F)}function j(F){return F===null||je(F)?(n.exit("htmlFlowData"),J(F)):(n.consume(F),j)}function J(F){return n.exit("htmlFlow"),e(F)}}function KX(n,e,t){const r=this;return i;function i(o){return je(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function YX(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(Mv,e,t)}}const QX={name:"htmlText",tokenize:JX};function JX(n,e,t){const r=this;let i,s,o;return l;function l(M){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(M),c}function c(M){return M===33?(n.consume(M),d):M===47?(n.consume(M),N):M===63?(n.consume(M),R):xs(M)?(n.consume(M),V):t(M)}function d(M){return M===45?(n.consume(M),h):M===91?(n.consume(M),s=0,w):xs(M)?(n.consume(M),A):t(M)}function h(M){return M===45?(n.consume(M),y):t(M)}function p(M){return M===null?t(M):M===45?(n.consume(M),g):je(M)?(o=p,ie(M)):(n.consume(M),p)}function g(M){return M===45?(n.consume(M),y):p(M)}function y(M){return M===62?ce(M):M===45?g(M):p(M)}function w(M){const j="CDATA[";return M===j.charCodeAt(s++)?(n.consume(M),s===j.length?b:w):t(M)}function b(M){return M===null?t(M):M===93?(n.consume(M),E):je(M)?(o=b,ie(M)):(n.consume(M),b)}function E(M){return M===93?(n.consume(M),S):b(M)}function S(M){return M===62?ce(M):M===93?(n.consume(M),S):b(M)}function A(M){return M===null||M===62?ce(M):je(M)?(o=A,ie(M)):(n.consume(M),A)}function R(M){return M===null?t(M):M===63?(n.consume(M),I):je(M)?(o=R,ie(M)):(n.consume(M),R)}function I(M){return M===62?ce(M):R(M)}function N(M){return xs(M)?(n.consume(M),L):t(M)}function L(M){return M===45||$r(M)?(n.consume(M),L):z(M)}function z(M){return je(M)?(o=z,ie(M)):lt(M)?(n.consume(M),z):ce(M)}function V(M){return M===45||$r(M)?(n.consume(M),V):M===47||M===62||wr(M)?X(M):t(M)}function X(M){return M===47?(n.consume(M),ce):M===58||M===95||xs(M)?(n.consume(M),Q):je(M)?(o=X,ie(M)):lt(M)?(n.consume(M),X):ce(M)}function Q(M){return M===45||M===46||M===58||M===95||$r(M)?(n.consume(M),Q):W(M)}function W(M){return M===61?(n.consume(M),ne):je(M)?(o=W,ie(M)):lt(M)?(n.consume(M),W):X(M)}function ne(M){return M===null||M===60||M===61||M===62||M===96?t(M):M===34||M===39?(n.consume(M),i=M,ee):je(M)?(o=ne,ie(M)):lt(M)?(n.consume(M),ne):(n.consume(M),K)}function ee(M){return M===i?(n.consume(M),i=void 0,re):M===null?t(M):je(M)?(o=ee,ie(M)):(n.consume(M),ee)}function K(M){return M===null||M===34||M===39||M===60||M===61||M===96?t(M):M===47||M===62||wr(M)?X(M):(n.consume(M),K)}function re(M){return M===47||M===62||wr(M)?X(M):t(M)}function ce(M){return M===62?(n.consume(M),n.exit("htmlTextData"),n.exit("htmlText"),e):t(M)}function ie(M){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),U}function U(M){return lt(M)?St(n,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):fe(M)}function fe(M){return n.enter("htmlTextData"),o(M)}}const rC={name:"labelEnd",resolveAll:n9,resolveTo:r9,tokenize:i9},ZX={tokenize:s9},e9={tokenize:o9},t9={tokenize:a9};function n9(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&Ss(n,0,n.length,t),n}function r9(n,e){let t=n.length,r=0,i,s,o,l;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);const c={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},h={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[o-2][1].start}};return l=[["enter",c,e],["enter",d,e]],l=ai(l,n.slice(s+1,s+r+3)),l=ai(l,[["enter",h,e]]),l=ai(l,nC(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),l=ai(l,[["exit",h,e],n[o-2],n[o-1],["exit",d,e]]),l=ai(l,n.slice(o+1)),l=ai(l,[["exit",c,e]]),Ss(n,s,n.length,l),n}function i9(n,e,t){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(g){return s?s._inactive?p(g):(o=r.parser.defined.includes(fc(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),c):t(g)}function c(g){return g===40?n.attempt(ZX,h,o?h:p)(g):g===91?n.attempt(e9,h,o?d:p)(g):o?h(g):p(g)}function d(g){return n.attempt(t9,h,p)(g)}function h(g){return e(g)}function p(g){return s._balanced=!0,t(g)}}function s9(n,e,t){return r;function r(p){return n.enter("resource"),n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),i}function i(p){return wr(p)?Yh(n,s)(p):s(p)}function s(p){return p===41?h(p):KM(n,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return wr(p)?Yh(n,c)(p):h(p)}function l(p){return t(p)}function c(p){return p===34||p===39||p===40?QM(n,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function d(p){return wr(p)?Yh(n,h)(p):h(p)}function h(p){return p===41?(n.enter("resourceMarker"),n.consume(p),n.exit("resourceMarker"),n.exit("resource"),e):t(p)}}function o9(n,e,t){const r=this;return i;function i(l){return YM.call(r,n,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(fc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):t(l)}function o(l){return t(l)}}function a9(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const l9={name:"labelStartImage",resolveAll:rC.resolveAll,tokenize:u9};function u9(n,e,t){const r=this;return i;function i(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),s}function s(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),o):t(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):e(l)}}const c9={name:"labelStartLink",resolveAll:rC.resolveAll,tokenize:d9};function d9(n,e,t){const r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const Px={name:"lineEnding",tokenize:h9};function h9(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),St(n,e,"linePrefix")}}const uy={name:"thematicBreak",tokenize:f9};function f9(n,e,t){let r=0,i;return s;function s(d){return n.enter("thematicBreak"),o(d)}function o(d){return i=d,l(d)}function l(d){return d===i?(n.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||je(d))?(n.exit("thematicBreak"),e(d)):t(d)}function c(d){return d===i?(n.consume(d),r++,c):(n.exit("thematicBreakSequence"),lt(d)?St(n,l,"whitespace")(d):l(d))}}const cr={continuation:{tokenize:y9},exit:w9,name:"list",tokenize:m9},p9={partial:!0,tokenize:b9},g9={partial:!0,tokenize:v9};function m9(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(y){const w=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:jE(y)){if(r.containerState.type||(r.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),y===42||y===45?n.check(uy,t,d)(y):d(y);if(!r.interrupt||y===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),c(y)}return t(y)}function c(y){return jE(y)&&++o<10?(n.consume(y),c):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(n.exit("listItemValue"),d(y)):t(y)}function d(y){return n.enter("listItemMarker"),n.consume(y),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,n.check(Mv,r.interrupt?t:h,n.attempt(p9,g,p))}function h(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function p(y){return lt(y)?(n.enter("listItemPrefixWhitespace"),n.consume(y),n.exit("listItemPrefixWhitespace"),g):t(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(y)}}function y9(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Mv,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,St(n,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!lt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(g9,e,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,St(n,n.attempt(cr,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function v9(n,e,t){const r=this;return St(n,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function w9(n){n.exit(this.containerState.type)}function b9(n,e,t){const r=this;return St(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!lt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const Mk={name:"setextUnderline",resolveTo:x9,tokenize:S9};function x9(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=o,n.push(["exit",o,e]),n}function S9(n,e,t){const r=this;let i;return s;function s(d){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(n.enter("setextHeadingLine"),i=d,o(d)):t(d)}function o(d){return n.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(n.consume(d),l):(n.exit("setextHeadingLineSequence"),lt(d)?St(n,c,"lineSuffix")(d):c(d))}function c(d){return d===null||je(d)?(n.exit("setextHeadingLine"),e(d)):t(d)}}const E9={tokenize:C9};function C9(n){const e=this,t=n.attempt(Mv,r,n.attempt(this.parser.constructs.flowInitial,i,St(n,n.attempt(this.parser.constructs.flow,i,n.attempt(PX,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const A9={resolveAll:ZM()},_9=JM("string"),R9=JM("text");function JM(n){return{resolveAll:ZM(n==="text"?k9:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,o,l);return o;function o(h){return d(h)?s(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),c}function c(h){return d(h)?(t.exit("data"),s(h)):(t.consume(h),c)}function d(h){if(h===null)return!0;const p=i[h];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function ZM(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function k9(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,o=-1,l=0,c;for(;s--;){const d=i[s];if(typeof d=="string"){for(o=d.length;d.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(d===-2)c=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(l=0),l){const d={type:t===n.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}const P9={42:cr,43:cr,45:cr,48:cr,49:cr,50:cr,51:cr,52:cr,53:cr,54:cr,55:cr,56:cr,57:cr,62:GM},T9={91:MX},I9={[-2]:kx,[-1]:kx,32:kx},D9={35:jX,42:uy,45:[Mk,uy],60:UX,61:Mk,95:uy,96:Dk,126:Dk},L9={38:qM,92:WM},M9={[-5]:Px,[-4]:Px,[-3]:Px,33:l9,38:qM,42:$E,60:[cX,QX],91:c9,92:[BX,WM],93:rC,95:$E,96:EX},N9={null:[$E,A9]},O9={null:[42,95]},F9={null:[]},B9=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:O9,contentInitial:T9,disable:F9,document:P9,flow:D9,flowInitial:I9,insideSpan:N9,string:L9,text:M9},Symbol.toStringTag,{value:"Module"}));function z9(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let o=[],l=[];const c={attempt:z(N),check:z(L),consume:A,enter:R,exit:I,interrupt:z(L,{interrupt:!0})},d={code:null,containerState:{},defineSkip:b,events:[],now:w,parser:n,previous:null,sliceSerialize:g,sliceStream:y,write:p};let h=e.tokenize.call(d,c);return e.resolveAll&&s.push(e),d;function p(W){return o=ai(o,W),E(),o[o.length-1]!==null?[]:(V(e,0),d.events=nC(s,d.events,d),d.events)}function g(W,ne){return $9(y(W),ne)}function y(W){return j9(o,W)}function w(){const{_bufferIndex:W,_index:ne,line:ee,column:K,offset:re}=r;return{_bufferIndex:W,_index:ne,line:ee,column:K,offset:re}}function b(W){i[W.line]=W.column,Q()}function E(){let W;for(;r._index<o.length;){const ne=o[r._index];if(typeof ne=="string")for(W=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===W&&r._bufferIndex<ne.length;)S(ne.charCodeAt(r._bufferIndex));else S(ne)}}function S(W){h=h(W)}function A(W){je(W)?(r.line++,r.column=1,r.offset+=W===-3?2:1,Q()):W!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=W}function R(W,ne){const ee=ne||{};return ee.type=W,ee.start=w(),d.events.push(["enter",ee,d]),l.push(ee),ee}function I(W){const ne=l.pop();return ne.end=w(),d.events.push(["exit",ne,d]),ne}function N(W,ne){V(W,ne.from)}function L(W,ne){ne.restore()}function z(W,ne){return ee;function ee(K,re,ce){let ie,U,fe,M;return Array.isArray(K)?J(K):"tokenize"in K?J([K]):j(K);function j(pe){return ye;function ye(Te){const De=Te!==null&&pe[Te],Oe=Te!==null&&pe.null,Tn=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return J(Tn)(Te)}}function J(pe){return ie=pe,U=0,pe.length===0?ce:F(pe[U])}function F(pe){return ye;function ye(Te){return M=X(),fe=pe,pe.partial||(d.currentConstruct=pe),pe.name&&d.parser.constructs.disable.null.includes(pe.name)?Re():pe.tokenize.call(ne?Object.assign(Object.create(d),ne):d,c,ve,Re)(Te)}}function ve(pe){return W(fe,M),re}function Re(pe){return M.restore(),++U<ie.length?F(ie[U]):ce}}}function V(W,ne){W.resolveAll&&!s.includes(W)&&s.push(W),W.resolve&&Ss(d.events,ne,d.events.length-ne,W.resolve(d.events.slice(ne),d)),W.resolveTo&&(d.events=W.resolveTo(d.events,d))}function X(){const W=w(),ne=d.previous,ee=d.currentConstruct,K=d.events.length,re=Array.from(l);return{from:K,restore:ce};function ce(){r=W,d.previous=ne,d.currentConstruct=ee,d.events.length=K,l=re,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function j9(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(t===i)o=[n[t].slice(r,s)];else{if(o=n.slice(t,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(n[i].slice(0,s))}return o}function $9(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function H9(n){const r={constructs:K8([B9,...(n||{}).extensions||[]]),content:i(rX),defined:[],document:i(sX),flow:i(E9),lazy:{},string:i(_9),text:i(R9)};return r;function i(s){return o;function o(l){return z9(r,s,l)}}}function V9(n){for(;!XM(n););return n}const Nk=/[\0\t\n\r]/g;function U9(){let n=1,e="",t=!0,r;return i;function i(s,o,l){const c=[];let d,h,p,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),p=0,e="",t&&(s.charCodeAt(0)===65279&&p++,t=void 0);p<s.length;){if(Nk.lastIndex=p,d=Nk.exec(s),g=d&&d.index!==void 0?d.index:s.length,y=s.charCodeAt(g),!d){e=s.slice(p);break}if(y===10&&p===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),p<g&&(c.push(s.slice(p,g)),n+=g-p),y){case 0:{c.push(65533),n++;break}case 9:{for(h=Math.ceil(n/4)*4,c.push(-2);n++<h;)c.push(-1);break}case 10:{c.push(-4),n=1;break}default:r=!0,n=1}p=g+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const G9=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function W9(n){return n.replace(G9,q9)}function q9(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return UM(t.slice(s?2:1),s?16:10)}return tC(t)||n}const eN={}.hasOwnProperty;function X9(n,e,t){return typeof e!="string"&&(t=e,e=void 0),K9(t)(V9(H9(t).document().write(U9()(n,e,!0))))}function K9(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(bo),autolinkProtocol:X,autolinkEmail:X,atxHeading:s(zt),blockQuote:s(Oe),characterEscape:X,characterReference:X,codeFenced:s(Tn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Tn,o),codeText:s(It,o),codeTextData:X,data:X,codeFlowValue:X,definition:s(Ye),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(vt),hardBreakEscape:s(Rt),hardBreakTrailing:s(Rt),htmlFlow:s(xr,o),htmlFlowData:X,htmlText:s(xr,o),htmlTextData:X,image:s(Gi),label:o,link:s(bo),listItem:s(Sr),listItemValue:g,listOrdered:s(Wi,p),listUnordered:s(Wi),paragraph:s(La),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(zt),strong:s(bu),thematicBreak:s(Su)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:De,autolinkProtocol:Te,blockQuote:c(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:pe,characterReference:ye,codeFenced:c(E),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:w,codeFlowValue:Q,codeIndented:c(S),codeText:c(re),codeTextData:Q,data:Q,definition:c(),definitionDestinationString:I,definitionLabelString:A,definitionTitleString:R,emphasis:c(),hardBreakEscape:c(ne),hardBreakTrailing:c(ne),htmlFlow:c(ee),htmlFlowData:Q,htmlText:c(K),htmlTextData:Q,image:c(ie),label:fe,labelText:U,lineEnding:W,link:c(ce),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ve,resourceDestinationString:M,resourceTitleString:j,resource:J,setextHeading:c(V),setextHeadingLineSequence:z,setextHeadingText:L,strong:c(),thematicBreak:c()}};tN(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(te){let ue={type:"root",children:[]};const Le={stack:[ue],tokenStack:[],config:e,enter:l,exit:d,buffer:o,resume:h,data:t},Ue=[];let et=-1;for(;++et<te.length;)if(te[et][1].type==="listOrdered"||te[et][1].type==="listUnordered")if(te[et][0]==="enter")Ue.push(et);else{const bn=Ue.pop();et=i(te,bn,et)}for(et=-1;++et<te.length;){const bn=e[te[et][0]];eN.call(bn,te[et][1].type)&&bn[te[et][1].type].call(Object.assign({sliceSerialize:te[et][2].sliceSerialize},Le),te[et][1])}if(Le.tokenStack.length>0){const bn=Le.tokenStack[Le.tokenStack.length-1];(bn[1]||Ok).call(Le,void 0,bn[0])}for(ue.position={start:Ho(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Ho(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<e.transforms.length;)ue=e.transforms[et](ue)||ue;return ue}function i(te,ue,Le){let Ue=ue-1,et=-1,bn=!1,Cs,qr,xo,Ma;for(;++Ue<=Le;){const xn=te[Ue];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?et++:et--,Ma=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(Cs&&!Ma&&!et&&!xo&&(xo=Ue),Ma=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ma=void 0}if(!et&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||et===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(Cs){let qi=Ue;for(qr=void 0;qi--;){const Er=te[qi];if(Er[1].type==="lineEnding"||Er[1].type==="lineEndingBlank"){if(Er[0]==="exit")continue;qr&&(te[qr][1].type="lineEndingBlank",bn=!0),Er[1].type="lineEnding",qr=qi}else if(!(Er[1].type==="linePrefix"||Er[1].type==="blockQuotePrefix"||Er[1].type==="blockQuotePrefixWhitespace"||Er[1].type==="blockQuoteMarker"||Er[1].type==="listItemIndent"))break}xo&&(!qr||xo<qr)&&(Cs._spread=!0),Cs.end=Object.assign({},qr?te[qr][1].start:xn[1].end),te.splice(qr||Ue,0,["exit",Cs,xn[2]]),Ue++,Le++}if(xn[1].type==="listItemPrefix"){const qi={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};Cs=qi,te.splice(Ue,0,["enter",qi,xn[2]]),Ue++,Le++,xo=void 0,Ma=!0}}}return te[ue][1]._spread=bn,Le}function s(te,ue){return Le;function Le(Ue){l.call(this,te(Ue),Ue),ue&&ue.call(this,Ue)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(te,ue,Le){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ue,Le||void 0]),te.position={start:Ho(ue.start),end:void 0}}function c(te){return ue;function ue(Le){te&&te.call(this,Le),d.call(this,Le)}}function d(te,ue){const Le=this.stack.pop(),Ue=this.tokenStack.pop();if(Ue)Ue[0].type!==te.type&&(ue?ue.call(this,te,Ue[0]):(Ue[1]||Ok).call(this,te,Ue[0]));else throw new Error("Cannot close `"+te.type+"` ("+Kh({start:te.start,end:te.end})+"): its not open");Le.position.end=Ho(te.end)}function h(){return q8(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(te){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function y(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=te}function w(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=te}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.value=te.replace(/(\r?\n|\r)$/g,"")}function A(te){const ue=this.resume(),Le=this.stack[this.stack.length-1];Le.label=ue,Le.identifier=fc(this.sliceSerialize(te)).toLowerCase()}function R(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.title=te}function I(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.url=te}function N(te){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Le=this.sliceSerialize(te).length;ue.depth=Le}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function z(te){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function X(te){const Le=this.stack[this.stack.length-1].children;let Ue=Le[Le.length-1];(!Ue||Ue.type!=="text")&&(Ue=xu(),Ue.position={start:Ho(te.start),end:void 0},Le.push(Ue)),this.stack.push(Ue)}function Q(te){const ue=this.stack.pop();ue.value+=this.sliceSerialize(te),ue.position.end=Ho(te.end)}function W(te){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=ue.children[ue.children.length-1];Le.position.end=Ho(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ue.type)&&(X.call(this,te),Q.call(this,te))}function ne(){this.data.atHardBreak=!0}function ee(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.value=te}function K(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.value=te}function re(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.value=te}function ce(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ue,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ie(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ue,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function U(te){const ue=this.sliceSerialize(te),Le=this.stack[this.stack.length-2];Le.label=W9(ue),Le.identifier=fc(ue).toLowerCase()}function fe(){const te=this.stack[this.stack.length-1],ue=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Ue=te.children;Le.children=Ue}else Le.alt=ue}function M(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.url=te}function j(){const te=this.resume(),ue=this.stack[this.stack.length-1];ue.title=te}function J(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ve(te){const ue=this.resume(),Le=this.stack[this.stack.length-1];Le.label=ue,Le.identifier=fc(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function Re(te){this.data.characterReferenceType=te.type}function pe(te){const ue=this.sliceSerialize(te),Le=this.data.characterReferenceType;let Ue;Le?(Ue=UM(ue,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ue=tC(ue);const et=this.stack[this.stack.length-1];et.value+=Ue}function ye(te){const ue=this.stack.pop();ue.position.end=Ho(te.end)}function Te(te){Q.call(this,te);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(te)}function De(te){Q.call(this,te);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(te)}function Oe(){return{type:"blockquote",children:[]}}function Tn(){return{type:"code",lang:null,meta:null,value:""}}function It(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vt(){return{type:"emphasis",children:[]}}function zt(){return{type:"heading",depth:0,children:[]}}function Rt(){return{type:"break"}}function xr(){return{type:"html",value:""}}function Gi(){return{type:"image",title:null,url:"",alt:null}}function bo(){return{type:"link",title:null,url:"",children:[]}}function Wi(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function Sr(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function La(){return{type:"paragraph",children:[]}}function bu(){return{type:"strong",children:[]}}function xu(){return{type:"text",value:""}}function Su(){return{type:"thematicBreak"}}}function Ho(n){return{line:n.line,column:n.column,offset:n.offset}}function tN(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?tN(n,r):Y9(n,r)}}function Y9(n,e){let t;for(t in e)if(eN.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function Ok(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Kh({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Kh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Kh({start:e.start,end:e.end})+") is still open")}function Q9(n){const e=this;e.parser=t;function t(r){return X9(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function J9(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function Z9(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function eK(n,e){const t=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(i.data={meta:e.meta}),n.patch(e,i),i=n.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},n.patch(e,i),i}function tK(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function nK(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function rK(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=kd(r.toLowerCase()),s=n.footnoteOrder.indexOf(r);let o,l=n.footnoteCounts.get(r);l===void 0?(l=0,n.footnoteOrder.push(r),o=n.footnoteOrder.length):o=s+1,l+=1,n.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return n.patch(e,d),n.applyData(e,d)}function iK(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function sK(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function nN(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=n.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function oK(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return nN(n,e);const i={src:kd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return n.patch(e,s),n.applyData(e,s)}function aK(n,e){const t={src:kd(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function lK(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function uK(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return nN(n,e);const i={href:kd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function cK(n,e){const t={href:kd(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function dK(n,e,t){const r=n.all(e),i=t?hK(t):rN(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:o};return n.patch(e,d),n.applyData(e,d)}function hK(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=rN(t[r])}return e}function rN(n){const e=n.spread;return e??n.children.length>1}function fK(n,e){const t={},r=n.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function pK(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function gK(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function mK(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function yK(n,e){const t=n.all(e),r=t.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],o),i.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},l=Q0(e.children[1]),c=FM(e.children[e.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function vK(n,e,t){const r=t?t.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,l=o?o.length:e.children.length;let c=-1;const d=[];for(;++c<l;){const p=e.children[c],g={},y=o?o[c]:void 0;y&&(g.align=y);let w={type:"element",tagName:s,properties:g,children:[]};p&&(w.children=n.all(p),n.patch(p,w),w=n.applyData(p,w)),d.push(w)}const h={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,h),n.applyData(e,h)}function wK(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const Fk=9,Bk=32;function bK(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),i=0;const s=[];for(;r;)s.push(zk(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(e);return s.push(zk(e.slice(i),i>0,!1)),s.join("")}function zk(n,e,t){let r=0,i=n.length;if(e){let s=n.codePointAt(r);for(;s===Fk||s===Bk;)r++,s=n.codePointAt(r)}if(t){let s=n.codePointAt(i-1);for(;s===Fk||s===Bk;)i--,s=n.codePointAt(i-1)}return i>r?n.slice(r,i):""}function xK(n,e){const t={type:"text",value:bK(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function SK(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const EK={blockquote:J9,break:Z9,code:eK,delete:tK,emphasis:nK,footnoteReference:rK,heading:iK,html:sK,imageReference:oK,image:aK,inlineCode:lK,linkReference:uK,link:cK,listItem:dK,list:fK,paragraph:pK,root:gK,strong:mK,table:yK,tableCell:wK,tableRow:vK,text:xK,thematicBreak:SK,toml:Sm,yaml:Sm,definition:Sm,footnoteDefinition:Sm};function Sm(){}const iN=-1,Nv=0,Qh=1,Dy=2,iC=3,sC=4,oC=5,aC=6,sN=7,oN=8,jk=typeof self=="object"?self:globalThis,CK=(n,e)=>{const t=(i,s)=>(n.set(s,i),i),r=i=>{if(n.has(i))return n.get(i);const[s,o]=e[i];switch(s){case Nv:case iN:return t(o,i);case Qh:{const l=t([],i);for(const c of o)l.push(r(c));return l}case Dy:{const l=t({},i);for(const[c,d]of o)l[r(c)]=r(d);return l}case iC:return t(new Date(o),i);case sC:{const{source:l,flags:c}=o;return t(new RegExp(l,c),i)}case oC:{const l=t(new Map,i);for(const[c,d]of o)l.set(r(c),r(d));return l}case aC:{const l=t(new Set,i);for(const c of o)l.add(r(c));return l}case sN:{const{name:l,message:c}=o;return t(new jk[l](c),i)}case oN:return t(BigInt(o),i);case"BigInt":return t(Object(BigInt(o)),i);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return t(new DataView(l),o)}}return t(new jk[s](o),i)};return r},$k=n=>CK(new Map,n)(0),Qu="",{toString:AK}={},{keys:_K}=Object,Rh=n=>{const e=typeof n;if(e!=="object"||!n)return[Nv,e];const t=AK.call(n).slice(8,-1);switch(t){case"Array":return[Qh,Qu];case"Object":return[Dy,Qu];case"Date":return[iC,Qu];case"RegExp":return[sC,Qu];case"Map":return[oC,Qu];case"Set":return[aC,Qu];case"DataView":return[Qh,t]}return t.includes("Array")?[Qh,t]:t.includes("Error")?[sN,t]:[Dy,t]},Em=([n,e])=>n===Nv&&(e==="function"||e==="symbol"),RK=(n,e,t,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return t.set(l,c),c},s=o=>{if(t.has(o))return t.get(o);let[l,c]=Rh(o);switch(l){case Nv:{let h=o;switch(c){case"bigint":l=oN,h=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([iN],o)}return i([l,h],o)}case Qh:{if(c){let g=o;return c==="DataView"?g=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(o)),i([c,[...g]],o)}const h=[],p=i([l,h],o);for(const g of o)h.push(s(g));return p}case Dy:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],p=i([l,h],o);for(const g of _K(o))(n||!Em(Rh(o[g])))&&h.push([s(g),s(o[g])]);return p}case iC:return i([l,o.toISOString()],o);case sC:{const{source:h,flags:p}=o;return i([l,{source:h,flags:p}],o)}case oC:{const h=[],p=i([l,h],o);for(const[g,y]of o)(n||!(Em(Rh(g))||Em(Rh(y))))&&h.push([s(g),s(y)]);return p}case aC:{const h=[],p=i([l,h],o);for(const g of o)(n||!Em(Rh(g)))&&h.push(s(g));return p}}const{message:d}=o;return i([l,{name:c,message:d}],o)};return s},Hk=(n,{json:e,lossy:t}={})=>{const r=[];return RK(!(e||t),!!e,new Map,r)(n),r},Ly=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?$k(Hk(n,e)):structuredClone(n):(n,e)=>$k(Hk(n,e));function kK(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function PK(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function TK(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||kK,r=n.options.footnoteBackLabel||PK,i=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[c]);if(!d)continue;const h=n.all(d),p=String(d.identifier).toUpperCase(),g=kd(p.toLowerCase());let y=0;const w=[],b=n.footnoteCounts.get(p);for(;b!==void 0&&++y<=b;){w.length>0&&w.push({type:"text",value:" "});let A=typeof t=="string"?t:t(c,y);typeof A=="string"&&(A={type:"text",value:A}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,y),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const A=E.children[E.children.length-1];A&&A.type==="text"?A.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...w)}else h.push(...w);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:n.wrap(h,!0)};n.patch(d,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ly(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(l,!0)},{type:"text",value:`
`}]}}const aN=function(n){if(n==null)return MK;if(typeof n=="function")return Ov(n);if(typeof n=="object")return Array.isArray(n)?IK(n):DK(n);if(typeof n=="string")return LK(n);throw new Error("Expected function, string, or object as test")};function IK(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=aN(n[t]);return Ov(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function DK(n){const e=n;return Ov(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function LK(n){return Ov(e);function e(t){return t&&t.type===n}}function Ov(n){return e;function e(t,r,i){return!!(NK(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function MK(){return!0}function NK(n){return n!==null&&typeof n=="object"&&"type"in n}const lN=[],OK=!0,Vk=!1,FK="skip";function BK(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=aN(i),o=r?-1:1;l(n,void 0,[])();function l(c,d,h){const p=c&&typeof c=="object"?c:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=lN,w,b,E;if((!e||s(c,d,h[h.length-1]||void 0))&&(y=zK(t(c,h)),y[0]===Vk))return y;if("children"in c&&c.children){const S=c;if(S.children&&y[0]!==FK)for(b=(r?S.children.length:-1)+o,E=h.concat(S);b>-1&&b<S.children.length;){const A=S.children[b];if(w=l(A,b,E)(),w[0]===Vk)return w;b=typeof w[1]=="number"?w[1]:b+o}}return y}}}function zK(n){return Array.isArray(n)?n:typeof n=="number"?[OK,n]:n==null?lN:[n]}function uN(n,e,t,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=t):(s=e,o=t,i=r),BK(n,s,l,i);function l(c,d){const h=d[d.length-1],p=h?h.children.indexOf(c):void 0;return o(c,p,h)}}const HE={}.hasOwnProperty,jK={};function $K(n,e){const t=e||jK,r=new Map,i=new Map,s=new Map,o={...EK,...t.handlers},l={all:d,applyData:VK,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:c,options:t,patch:HK,wrap:GK};return uN(n,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,g=String(h.identifier).toUpperCase();p.has(g)||p.set(g,h)}}),l;function c(h,p){const g=h.type,y=l.handlers[g];if(HE.call(l.handlers,g)&&y)return y(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in h){const{children:b,...E}=h,S=Ly(E);return S.children=l.all(h),S}return Ly(h)}return(l.options.unknownHandler||UK)(l,h,p)}function d(h){const p=[];if("children"in h){const g=h.children;let y=-1;for(;++y<g.length;){const w=l.one(g[y],h);if(w){if(y&&g[y-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Uk(w.value)),!Array.isArray(w)&&w.type==="element")){const b=w.children[0];b&&b.type==="text"&&(b.value=Uk(b.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function HK(n,e){n.position&&(e.position=A8(n))}function VK(n,e){let t=e;if(n&&n.data){const r=n.data.hName,i=n.data.hChildren,s=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const o="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,Ly(s)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function UK(n,e){const t=e.data||{},r="value"in e&&!(HE.call(t,"hProperties")||HE.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function GK(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function Uk(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function Gk(n,e){const t=$K(n,e),r=t.one(n,void 0),i=TK(t),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function WK(n,e){return n&&"run"in n?async function(t,r){const i=Gk(t,{file:r,...e});await n.run(i,r)}:function(t,r){return Gk(t,{file:r,...n||e})}}function Wk(n){if(n)throw n}var Tx,qk;function qK(){if(qk)return Tx;qk=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=n.call(d,"constructor"),p=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!p)return!1;var g;for(g in d);return typeof g>"u"||n.call(d,g)},o=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(n.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return Tx=function c(){var d,h,p,g,y,w,b=arguments[0],E=1,S=arguments.length,A=!1;for(typeof b=="boolean"&&(A=b,b=arguments[1]||{},E=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});E<S;++E)if(d=arguments[E],d!=null)for(h in d)p=l(b,h),g=l(d,h),b!==g&&(A&&g&&(s(g)||(y=i(g)))?(y?(y=!1,w=p&&i(p)?p:[]):w=p&&s(p)?p:{},o(b,{name:h,newValue:c(A,w,g)})):typeof g<"u"&&o(b,{name:h,newValue:g}));return b},Tx}var XK=qK();const Ix=Dp(XK);function VE(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function KK(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...d){const h=n[++s];let p=-1;if(c){o(c);return}for(;++p<i.length;)(d[p]===null||d[p]===void 0)&&(d[p]=i[p]);i=d,h?YK(h,l)(...d):o(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function YK(n,e){let t;return r;function r(...o){const l=n.length>o.length;let c;l&&o.push(i);try{c=n.apply(this,o)}catch(d){const h=d;if(l&&t)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(o,...l){t||(t=!0,e(o,...l))}function s(o){i(null,o)}}const ts={basename:QK,dirname:JK,extname:ZK,join:eY,sep:"/"};function QK(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Xp(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,l=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(n.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function JK(n){if(Xp(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function ZK(n){Xp(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){const l=n.codePointAt(e);if(l===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function eY(...n){let e=-1,t;for(;++e<n.length;)Xp(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":tY(t)}function tY(n){Xp(n);const e=n.codePointAt(0)===47;let t=nY(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function nY(n,e){let t="",r=0,i=-1,s=0,o=-1,l,c;for(;++o<=n.length;){if(o<n.length)l=n.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return t}function Xp(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const rY={cwd:iY};function iY(){return"/"}function UE(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function sY(n){if(typeof n=="string")n=new URL(n);else if(!UE(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return oY(n)}function oY(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Dx=["history","path","basename","stem","extname","dirname"];class cN{constructor(e){let t;e?UE(e)?t={path:e}:typeof e=="string"||aY(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":rY.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dx.length;){const s=Dx[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)Dx.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?ts.basename(this.path):void 0}set basename(e){Mx(e,"basename"),Lx(e,"basename"),this.path=ts.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ts.dirname(this.path):void 0}set dirname(e){Xk(this.basename,"dirname"),this.path=ts.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ts.extname(this.path):void 0}set extname(e){if(Lx(e,"extname"),Xk(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ts.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){UE(e)&&(e=sY(e)),Mx(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ts.basename(this.path,this.extname):void 0}set stem(e){Mx(e,"stem"),Lx(e,"stem"),this.path=ts.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new Gn(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Lx(n,e){if(n&&n.includes(ts.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ts.sep+"`")}function Mx(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Xk(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function aY(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const lY=function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},uY={}.hasOwnProperty;class lC extends lY{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=KK()}copy(){const e=new lC;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(Ix(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Fx("data",this.frozen),this.namespace[e]=t,this):uY.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Fx("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Cm(e),r=this.parser||this.Parser;return Nx("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),Nx("process",this.parser||this.Parser),Ox("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,o){const l=Cm(e),c=r.parse(l);r.run(c,l,function(h,p,g){if(h||!p||!g)return d(h);const y=p,w=r.stringify(y,g);hY(w)?g.value=w:g.result=w,d(h,g)});function d(h,p){h||!p?o(h):s?s(p):t(void 0,p)}}}processSync(e){let t=!1,r;return this.freeze(),Nx("processSync",this.parser||this.Parser),Ox("processSync",this.compiler||this.Compiler),this.process(e,i),Yk("processSync","process",t),r;function i(s,o){t=!0,Wk(s),r=o}}run(e,t,r){Kk(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const c=Cm(t);i.run(e,c,d);function d(h,p,g){const y=p||e;h?l(h):o?o(y):r(void 0,y,g)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),Yk("runSync","run",r),i;function s(o,l){Wk(o),i=l,r=!0}}stringify(e,t){this.freeze();const r=Cm(t),i=this.compiler||this.Compiler;return Ox("stringify",i),Kk(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(Fx("use",this.frozen),e!=null)if(typeof e=="function")c(e,t);else if(typeof e=="object")Array.isArray(e)?l(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...p]=d;c(h,p)}else o(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function o(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=Ix(!0,i.settings,d.settings))}function l(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const p=d[h];s(p)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===d){g=p;break}if(g===-1)r.push([d,...h]);else if(h.length>0){let[y,...w]=h;const b=r[g][1];VE(b)&&VE(y)&&(y=Ix(!0,b,y)),r[g]=[d,y,...w]}}}}const cY=new lC().freeze();function Nx(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Ox(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Fx(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kk(n){if(!VE(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Yk(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Cm(n){return dY(n)?n:new cN(n)}function dY(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function hY(n){return typeof n=="string"||fY(n)}function fY(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const pY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qk=[],Jk={allowDangerousHtml:!0},gY=/^(https?|ircs?|mailto|xmpp)$/i,mY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yY(n){const e=vY(n),t=wY(n);return bY(e.runSync(e.parse(t),t),n)}function vY(n){const e=n.rehypePlugins||Qk,t=n.remarkPlugins||Qk,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Jk}:Jk;return cY().use(Q9).use(t).use(WK,r).use(e)}function wY(n){const e=n.children||"",t=new cN;return typeof e=="string"&&(t.value=e),t}function bY(n,e){const t=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,l=e.unwrapDisallowed,c=e.urlTransform||xY;for(const h of mY)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+pY+h.id,void 0);return uN(n,d),T8(n,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function d(h,p,g){if(h.type==="raw"&&g&&typeof p=="number")return o?g.children.splice(p,1):g.children[p]={type:"text",value:h.value},p;if(h.type==="element"){let y;for(y in Rx)if(Object.hasOwn(Rx,y)&&Object.hasOwn(h.properties,y)){const w=h.properties[y],b=Rx[y];(b===null||b.includes(h.tagName))&&(h.properties[y]=c(String(w||""),y,h))}}if(h.type==="element"){let y=t?!t.includes(h.tagName):s?s.includes(h.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(h,p,g)),y&&g&&typeof p=="number")return l&&h.children?g.children.splice(p,1,...h.children):g.children.splice(p,1),p}}}function xY(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),i=n.indexOf("/");return e===-1||i!==-1&&e>i||t!==-1&&e>t||r!==-1&&e>r||gY.test(n.slice(0,e))?n:""}const SY=()=>{const[n,e]=_.useState(""),[t,r]=_.useState([]),[i,s]=_.useState(1),o=_.useMemo(()=>O.jsx("div",{className:"w-1/2",children:O.jsx(Rv,{file:"./fannie-mae-selling-guide.pdf",scrollTo:i,className:"h-screen"})}),[i]),l=async d=>{if(d.key==="Enter"&&d.shiftKey==!1)return d.preventDefault(),c()},c=async()=>{var w;if(!n.trim())return;const d=n.trim();e(""),r(b=>[...b,{user:d,bot:"",sources:[]}]);const p=(w=(await fetch(`${zp}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:d,num_contexts:3,history:t.flatMap(({user:b,bot:E})=>[{role:"user",content:b},{role:"user",content:E}])})})).body)==null?void 0:w.getReader();let g="";for(;p;){const{value:b,done:E}=await p.read();if(E)break;const S=new TextDecoder().decode(b);g+=S}const y=JSON.parse(g);if(r(b=>b.map((E,S)=>S===b.length-1?{...E,bot:y.response,sources:y.sources}:E)),y.sources.length>0){const b=y.sources.map(E=>E.pg_numb).reduce((E,S,A,R)=>R.filter(I=>I===E).length>=R.filter(I=>I===S).length?E:S);s(b)}e("")};return O.jsxs("div",{className:"flex flex-row w-screen h-screen",children:[O.jsxs("div",{className:"w-1/2 p-4 border-r flex flex-col",children:[O.jsx("div",{className:"flex-grow overflow-y-auto",children:t.map((d,h)=>O.jsxs("div",{className:"mb-4",children:[O.jsx("div",{className:"font-semibold text-sm text-gray-500",children:"User:"}),O.jsx("div",{className:"mb-2",children:d.user}),O.jsx("div",{className:"font-semibold text-sm text-gray-500",children:"Assistant:"}),O.jsx("div",{className:"mb-2",children:O.jsx(yY,{children:d.bot})}),d.sources.length>0&&O.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.sources.map((p,g)=>O.jsxs("button",{onClick:()=>s(p.pg_numb),className:"text-blue-500 underline text-sm",children:["Page ",p.pg_numb]},g))}),O.jsx("hr",{className:"my-2"})]},h))}),O.jsxs("div",{className:"border-t p-4 flex items-center",children:[O.jsx("input",{onKeyDown:l,value:n,onChange:d=>e(d.target.value),placeholder:"Ask me anything...",className:"flex-grow border p-2 rounded"}),O.jsx("button",{onClick:c,className:"bg-blue-500 text-white p-2 ml-2 rounded",children:"Send"})]})]}),o]})},EY=()=>{const[n,e]=_t.useState(""),[t,r]=_t.useState({}),[i,s]=_t.useState([]);return O.jsx(Vi.Provider,{value:{loanId:n,setLoanId:e,valueMap:t,setFields:o=>r({...t,...o}),tableData:i,setTableData:s},children:O.jsx(P2,{children:O.jsxs(o2,{children:[O.jsx(zx,{path:"/",element:O.jsx(t8,{})}),O.jsx(zx,{path:"/chat",element:O.jsx(SY,{})})]})})})};gF.createRoot(document.getElementById("root")).render(O.jsx(_.StrictMode,{children:O.jsx(EY,{})}));
